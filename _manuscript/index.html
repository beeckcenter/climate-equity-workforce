<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.552">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Elham Ali">
<meta name="dcterms.date" content="2024-09-19">
<meta name="keywords" content="climate justice, climate-ready workforce, green jobs, climate change, equity">

<title>Climate resilience requires equitable access to quality green energy jobs. The City of Saint Paul is at the forefront.</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script src="site_libs/quarto-contrib/glightbox/glightbox.min.js"></script>
<link href="site_libs/quarto-contrib/glightbox/glightbox.min.css" rel="stylesheet">
<link href="site_libs/quarto-contrib/glightbox/lightbox.css" rel="stylesheet">
<script async="" src="https://hypothes.is/embed.js"></script>
<script>
  window.document.addEventListener("DOMContentLoaded", function (_event) {
    document.body.classList.add('hypothesis-enabled');
  });
</script>
<link href="site_libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">
<script src="site_libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<script src="site_libs/jquery-3.5.1/jquery.min.js"></script>
<script src="site_libs/proj4js-2.3.15/proj4.js"></script>
<link href="site_libs/highcharts-9.3.1/css/motion.css" rel="stylesheet">
<script src="site_libs/highcharts-9.3.1/highcharts.js"></script>
<script src="site_libs/highcharts-9.3.1/highcharts-3d.js"></script>
<script src="site_libs/highcharts-9.3.1/highcharts-more.js"></script>
<script src="site_libs/highcharts-9.3.1/modules/stock.js"></script>
<script src="site_libs/highcharts-9.3.1/modules/map.js"></script>
<script src="site_libs/highcharts-9.3.1/modules/data.js"></script>
<script src="site_libs/highcharts-9.3.1/modules/exporting.js"></script>
<script src="site_libs/highcharts-9.3.1/modules/offline-exporting.js"></script>
<script src="site_libs/highcharts-9.3.1/modules/drilldown.js"></script>
<script src="site_libs/highcharts-9.3.1/modules/item-series.js"></script>
<script src="site_libs/highcharts-9.3.1/modules/overlapping-datalabels.js"></script>
<script src="site_libs/highcharts-9.3.1/modules/annotations.js"></script>
<script src="site_libs/highcharts-9.3.1/modules/export-data.js"></script>
<script src="site_libs/highcharts-9.3.1/modules/funnel.js"></script>
<script src="site_libs/highcharts-9.3.1/modules/heatmap.js"></script>
<script src="site_libs/highcharts-9.3.1/modules/treemap.js"></script>
<script src="site_libs/highcharts-9.3.1/modules/sankey.js"></script>
<script src="site_libs/highcharts-9.3.1/modules/dependency-wheel.js"></script>
<script src="site_libs/highcharts-9.3.1/modules/organization.js"></script>
<script src="site_libs/highcharts-9.3.1/modules/solid-gauge.js"></script>
<script src="site_libs/highcharts-9.3.1/modules/streamgraph.js"></script>
<script src="site_libs/highcharts-9.3.1/modules/sunburst.js"></script>
<script src="site_libs/highcharts-9.3.1/modules/vector.js"></script>
<script src="site_libs/highcharts-9.3.1/modules/wordcloud.js"></script>
<script src="site_libs/highcharts-9.3.1/modules/xrange.js"></script>
<script src="site_libs/highcharts-9.3.1/modules/tilemap.js"></script>
<script src="site_libs/highcharts-9.3.1/modules/venn.js"></script>
<script src="site_libs/highcharts-9.3.1/modules/gantt.js"></script>
<script src="site_libs/highcharts-9.3.1/modules/timeline.js"></script>
<script src="site_libs/highcharts-9.3.1/modules/parallel-coordinates.js"></script>
<script src="site_libs/highcharts-9.3.1/modules/bullet.js"></script>
<script src="site_libs/highcharts-9.3.1/modules/coloraxis.js"></script>
<script src="site_libs/highcharts-9.3.1/modules/dumbbell.js"></script>
<script src="site_libs/highcharts-9.3.1/modules/lollipop.js"></script>
<script src="site_libs/highcharts-9.3.1/modules/series-label.js"></script>
<script src="site_libs/highcharts-9.3.1/plugins/motion.js"></script>
<script src="site_libs/highcharts-9.3.1/custom/reset.js"></script>
<script src="site_libs/highcharts-9.3.1/modules/boost.js"></script>
<script src="site_libs/highchart-binding-0.9.4/highchart.js"></script>


<meta name="citation_title" content="Climate resilience requires equitable access to quality green energy jobs. The City of Saint Paul is at the forefront.">
<meta name="citation_abstract" content="Minnesota, particularly the City of Saint Paul, has seen a surge in climate resilience funding aimed at expanding green energy job opportunities. However, BIPOC communities remain underrepresented in these jobs and disproportionately suffer from the adverse effects of human-driven climate change.
">
<meta name="citation_keywords" content="climate justice,climate-ready workforce,green jobs,climate change,equity">
<meta name="citation_author" content="Elham Ali">
<meta name="citation_publication_date" content="2024-09-19">
<meta name="citation_cover_date" content="2024-09-19">
<meta name="citation_year" content="2024">
<meta name="citation_online_date" content="2024-09-19">
<meta name="citation_language" content="en">
<meta name="citation_journal_title" content="Beeck Center for Social Impact and Innovation">
<meta name="citation_reference" content="citation_title=Financial analysis of small-scale mango chips processing in ghana;,citation_author=Faizal Adams;,citation_author=Kwadwo Amankwah;,citation_author=Camillus Abawiera Wongnaa;,citation_author=Emmanuel Patrick Honny;,citation_author=Douglas Kofi Peters;,citation_author=Barnie Juliet Asamoah;,citation_author=Bismark Benjamin Coffie;,citation_editor=Fatih Yildiz;,citation_publication_date=2019-01-01;,citation_cover_date=2019-01-01;,citation_year=2019;,citation_fulltext_html_url=https://doi.org/10.1080/23311932.2019.1679701;,citation_issue=1;,citation_doi=10.1080/23311932.2019.1679701;,citation_volume=5;,citation_journal_title=Cogent Food &amp;amp;amp; Agriculture;">
</head>

<body>

<header id="title-block-header" class="quarto-title-block default toc-left page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Climate resilience requires equitable access to quality green energy jobs. The City of Saint Paul is at the forefront.</h1>
          </div>

    
    <div class="quarto-title-meta-container">
      <div class="quarto-title-meta-column-start">
            <div class="quarto-title-meta-author">
          <div class="quarto-title-meta-heading">Author</div>
          <div class="quarto-title-meta-heading">Affiliation</div>
          
                <div class="quarto-title-meta-contents">
            <p class="author">Elham Ali <a href="mailto:elham.ali@georgetown.edu" class="quarto-title-author-email"><i class="bi bi-envelope"></i></a> </p>
          </div>
                <div class="quarto-title-meta-contents">
                    <p class="affiliation">
                        Beeck Center for Social Impact and Innovation at Georgetown University
                      </p>
                  </div>
                    </div>
        
        <div class="quarto-title-meta">

                      
                <div>
            <div class="quarto-title-meta-heading">Published</div>
            <div class="quarto-title-meta-contents">
              <p class="date">September 19, 2024</p>
            </div>
          </div>
          
                
              </div>
      </div>
      <div class="quarto-title-meta-column-end quarto-other-formats-target">
      <div class="quarto-alternate-formats"><div class="quarto-title-meta-heading">Other Formats</div><div class="quarto-title-meta-contents"><p><a href="index.pdf"><i class="bi bi-file-pdf"></i>PDF</a></p></div><div class="quarto-title-meta-contents"><p><a href="index.docx"><i class="bi bi-file-word"></i>MS Word</a></p></div><div class="quarto-title-meta-contents"><p><a href="index-meca.zip" data-meca-link="true"><i class="bi bi-archive"></i>MECA Bundle</a></p></div></div></div>
    </div>

    <div>
      <div class="abstract">
        <div class="block-title">Abstract</div>
        <p>Minnesota, particularly the City of Saint Paul, has seen a surge in climate resilience funding aimed at expanding green energy job opportunities. However, BIPOC communities remain underrepresented in these jobs and disproportionately suffer from the adverse effects of human-driven climate change.</p>
      </div>
    </div>

    <div>
      <div class="keywords">
        <div class="block-title">Keywords</div>
        <p>climate justice, climate-ready workforce, green jobs, climate change, equity</p>
      </div>
    </div>

    <div class="quarto-other-links-text-target">
    </div>  </div>
</header><div id="quarto-content" class="page-columns page-rows-contents page-layout-article toc-left">
<div id="quarto-sidebar-toc-left" class="sidebar toc-left">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#background" id="toc-background" class="nav-link active" data-scroll-target="#background">Background</a></li>
  <li><a href="#questions" id="toc-questions" class="nav-link" data-scroll-target="#questions">Questions</a></li>
  <li><a href="#data-sources" id="toc-data-sources" class="nav-link" data-scroll-target="#data-sources">Data Sources</a></li>
  <li><a href="#analysis" id="toc-analysis" class="nav-link" data-scroll-target="#analysis">Analysis</a>
  <ul>
  <li><a href="#load-packages-and-libraries" id="toc-load-packages-and-libraries" class="nav-link" data-scroll-target="#load-packages-and-libraries">Load packages and libraries</a></li>
  <li><a href="#climate-resilience-funding-for-st.-paul" id="toc-climate-resilience-funding-for-st.-paul" class="nav-link" data-scroll-target="#climate-resilience-funding-for-st.-paul">1. Climate Resilience Funding for St.&nbsp;Paul</a>
  <ul>
  <li><a href="#filter-for-mn-state-and-city-of-st.-paul" id="toc-filter-for-mn-state-and-city-of-st.-paul" class="nav-link" data-scroll-target="#filter-for-mn-state-and-city-of-st.-paul">Filter for MN State and City of St.&nbsp;Paul</a></li>
  <li><a href="#calculate-funding-for-mn-state-and-city-of-st.-paul" id="toc-calculate-funding-for-mn-state-and-city-of-st.-paul" class="nav-link" data-scroll-target="#calculate-funding-for-mn-state-and-city-of-st.-paul">Calculate funding for MN State and City of St.&nbsp;Paul</a></li>
  <li><a href="#calculate-fraction-of-st.-pauls-funding-from-mns" id="toc-calculate-fraction-of-st.-pauls-funding-from-mns" class="nav-link" data-scroll-target="#calculate-fraction-of-st.-pauls-funding-from-mns">Calculate fraction of St.&nbsp;Paul’s funding from MN’s</a></li>
  <li><a href="#visualize-categories-of-funding-for-st.-paul" id="toc-visualize-categories-of-funding-for-st.-paul" class="nav-link" data-scroll-target="#visualize-categories-of-funding-for-st.-paul">Visualize categories of funding for St.&nbsp;Paul</a></li>
  </ul></li>
  <li><a href="#types-of-green-jobs-in-st.-paul" id="toc-types-of-green-jobs-in-st.-paul" class="nav-link" data-scroll-target="#types-of-green-jobs-in-st.-paul">2. Types of Green Jobs in St.&nbsp;Paul</a>
  <ul>
  <li><a href="#green-jobs-nationally" id="toc-green-jobs-nationally" class="nav-link" data-scroll-target="#green-jobs-nationally">Green jobs nationally</a></li>
  <li><a href="#green-jobs-in-st.-paul" id="toc-green-jobs-in-st.-paul" class="nav-link" data-scroll-target="#green-jobs-in-st.-paul">Green jobs in St.&nbsp;Paul</a></li>
  </ul></li>
  <li><a href="#quality-pay-and-qualifications-of-green-jobs" id="toc-quality-pay-and-qualifications-of-green-jobs" class="nav-link" data-scroll-target="#quality-pay-and-qualifications-of-green-jobs">3. Quality, Pay, and Qualifications of Green Jobs</a></li>
  <li><a href="#demographics-of-green-job-recipients" id="toc-demographics-of-green-job-recipients" class="nav-link" data-scroll-target="#demographics-of-green-job-recipients">4. Demographics of Green Job Recipients</a>
  <ul>
  <li><a href="#education-levels" id="toc-education-levels" class="nav-link" data-scroll-target="#education-levels">Education levels</a></li>
  <li><a href="#race" id="toc-race" class="nav-link" data-scroll-target="#race">Race</a></li>
  <li><a href="#gender" id="toc-gender" class="nav-link" data-scroll-target="#gender">Gender</a></li>
  <li><a href="#income" id="toc-income" class="nav-link" data-scroll-target="#income">Income</a></li>
  </ul></li>
  <li><a href="#export-summary-statistics-for-visualization" id="toc-export-summary-statistics-for-visualization" class="nav-link" data-scroll-target="#export-summary-statistics-for-visualization">Export summary statistics for visualization</a></li>
  </ul></li>
  </ul>
<div class="quarto-alternate-notebooks"><h2>Notebooks</h2><ul><li><a href="index-preview.html"><i class="bi bi-journal-code"></i>Article Notebook</a></li><li><a href="notebooks/St. Paul Green Jobs - ACS-preview.html"><i class="bi bi-journal-code"></i>St. Paul Green Jobs - ACS.ipynb</a></li><li><a href="notebooks/National Green Jobs - ACS - Raw-preview.html"><i class="bi bi-journal-code"></i>National Green Jobs - ACS - Raw.ipynb</a></li><li><a href="notebooks/St. Paul Green Jobs - OEWS-preview.html"><i class="bi bi-journal-code"></i>St. Paul Green Jobs - OEWS.ipynb</a></li><li><a href="notebooks/St. Paul Green Jobs - Jobs-preview.html"><i class="bi bi-journal-code"></i>St. Paul Green Jobs - Jobs.ipynb</a></li><li><a href="notebooks/OWES+O_NET - St-Paul-preview.html"><i class="bi bi-journal-code"></i>OWES+O_NET - St-Paul.ipynb</a></li><li><a href="notebooks/National Green Jobs - ACS - Processed-preview.html"><i class="bi bi-journal-code"></i>National Green Jobs - ACS - Processed.ipynb</a></li><li><a href="notebooks/OWES+O_NET - National-preview.html"><i class="bi bi-journal-code"></i>OWES+O_NET - National.ipynb</a></li></ul></div></nav>
</div>
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
</div>
<main class="content quarto-banner-title-block" id="quarto-document-content">



  


<section id="background" class="level2">
<h2 class="anchored" data-anchor-id="background">Background</h2>
<p>This analysis looks at access to green energy jobs (like energy efficiency, renewable energy, and green construction) by race/ethnicity, gender, education, and income in St.&nbsp;Paul, Minnesota, USA.</p>
</section>
<section id="questions" class="level2">
<h2 class="anchored" data-anchor-id="questions">Questions</h2>
<p>Here are some of the questions I will explore using different datasets:</p>
<ul>
<li>How much climate resilience funding has St.&nbsp;Paul received?</li>
<li>What specific green jobs are being created in St.&nbsp;Paul (e.g., energy efficiency, renewable energy, green construction)?</li>
<li>What is the quality of these jobs? How much do they pay? What qualifications are needed (education and experience)?</li>
<li>Who is getting these jobs, based on education, race/ethnicity, gender, and income levels?</li>
</ul>
</section>
<section id="data-sources" class="level2">
<h2 class="anchored" data-anchor-id="data-sources">Data Sources</h2>
<p>The data for this project comes from:</p>
<ul>
<li>The National Center for O*NET Development</li>
<li>2023 Occupational Employment and Wage Survey</li>
<li>Urban Institute 11 elements of job quality: Clean Energy Job Quality and Education Data</li>
<li>National and local demographic data from the 2022 American Community Survey Public Use Microdata Sample (ACS PUMS)</li>
<li>US Census Bureau’s 2023 QuickFacts tool</li>
<li>Invest.gov</li>
<li>Geocorr from the Missouri Census Data Center</li>
</ul>
<p>I will reduce each large dataset to focus only on questions related to green jobs and job quality. Please note that some datasets have already been pre-processed in Python with specific filters applied. We can find the original raw datasets in the data folder for reference.</p>
</section>
<section id="analysis" class="level2">
<h2 class="anchored" data-anchor-id="analysis">Analysis</h2>
<p>I will look at each question one by one and clean the data as I go. Some datasets might need to be combined, so I will organize the data during the analysis before exploring the results.</p>
<section id="load-packages-and-libraries" class="level3">
<h3 class="anchored" data-anchor-id="load-packages-and-libraries">Load packages and libraries</h3>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="do">## For folder structure</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(here)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr hidden">
<pre><code>here() starts at /Users/elhamali/Documents/Data Projects/climate-equity-workforce</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ezknitr)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="do">## For data import/cleaning</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr hidden">
<pre><code>── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──
✔ dplyr     1.1.4     ✔ readr     2.1.5
✔ forcats   1.0.0     ✔ stringr   1.5.1
✔ ggplot2   3.5.1     ✔ tibble    3.2.1
✔ lubridate 1.9.3     ✔ tidyr     1.3.1
✔ purrr     1.0.2     </code></pre>
</div>
<div class="cell-output cell-output-stderr hidden">
<pre><code>── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
✖ dplyr::filter() masks stats::filter()
✖ dplyr::lag()    masks stats::lag()
ℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(purrr)</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rlang)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr hidden">
<pre><code>
Attaching package: 'rlang'

The following objects are masked from 'package:purrr':

    %@%, flatten, flatten_chr, flatten_dbl, flatten_int, flatten_lgl,
    flatten_raw, invoke, splice</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(forcats)</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readxl)</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="do">## For graphing</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(highcharter)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr hidden">
<pre><code>Registered S3 method overwritten by 'quantmod':
  method            from
  as.zoo.data.frame zoo 
Highcharts (www.highcharts.com) is a Highsoft software product which is
not free for commercial and Governmental use</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(igraph)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr hidden">
<pre><code>
Attaching package: 'igraph'

The following object is masked from 'package:rlang':

    is_named

The following objects are masked from 'package:lubridate':

    %--%, union

The following objects are masked from 'package:dplyr':

    as_data_frame, groups, union

The following objects are masked from 'package:purrr':

    compose, simplify

The following object is masked from 'package:tidyr':

    crossing

The following object is masked from 'package:tibble':

    as_data_frame

The following objects are masked from 'package:stats':

    decompose, spectrum

The following object is masked from 'package:base':

    union</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(RColorBrewer)</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(htmlwidgets)</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gt)</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="co"># library(viridis)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<a class="quarto-notebook-link" id="nblink-1" href="index-preview.html">Source: Article Notebook</a></div>
</section>
<section id="climate-resilience-funding-for-st.-paul" class="level3">
<h3 class="anchored" data-anchor-id="climate-resilience-funding-for-st.-paul">1. Climate Resilience Funding for St.&nbsp;Paul</h3>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
RQ 1: How much climate resilience funding has the City of Saint Paul received?
</div>
</div>
<div class="callout-body-container callout-body">
<p>As of June 2024, <strong>Minnesota</strong> received a total of $7,101,423,527 in funding for climate resilience, while <strong>St.&nbsp;Paul</strong> received $446,286,762. Specifically, as of January 2024, St.&nbsp;Paul has secured $433,028,012 from the Bipartisan Infrastructure Law (BIL) and $13,258,750 from the Inflation Reduction Act (IRA) for <strong>climate resilience efforts.</strong></p>
<p>St.&nbsp;Paul’s funding makes up <strong>6.28%</strong> of Minnesota’s total climate resilience funding. Nearly <strong>95% of St.&nbsp;Paul’s funding i</strong>s allocated to <strong>transportation</strong> <strong>projects</strong>, with clean energy, buildings, and manufacturing receiving <strong>less than 2% of the total</strong>. It’s like filling up a swimming pool with water but using only a small 8 oz glass for clean energy, buildings, and manufacturing.</p>
<p>As of January 2024, St.&nbsp;Paul received <strong>$8,337,843 from the BIL</strong> and <strong>$200,000 from the IRA</strong> specifically for investments in clean energy, buildings, and manufacturing.</p>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Import data</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>funding <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="fu">here</span>(<span class="st">"processed_data"</span>, <span class="st">"FundingSummary.csv"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr hidden">
<pre><code>Warning: One or more parsing issues, call `problems()` on your data frame for details,
e.g.:
  dat &lt;- vroom(...)
  problems(dat)</code></pre>
</div>
<div class="cell-output cell-output-stderr hidden">
<pre><code>Rows: 49535 Columns: 15
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr (14): Agency Name, Bureau Name, Program Name, Category, Subcategory, Pro...
dbl  (1): Unique ID

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(funding, <span class="fu">here</span>(<span class="st">"processed_data"</span>, <span class="st">"funding.rds"</span>))</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>funding <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="fu">here</span>(<span class="st">"processed_data"</span>, <span class="st">"funding.rds"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<a class="quarto-notebook-link" id="nblink-2" href="index-preview.html">Source: Article Notebook</a></div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="do">### Convert the `Funding Amount` to numeric and handling commas in the values</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>funding <span class="ot">&lt;-</span> funding <span class="sc">%&gt;%</span></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="st">`</span><span class="at">Funding Amount</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">as.numeric</span>(<span class="fu">gsub</span>(<span class="st">","</span>, <span class="st">""</span>, <span class="st">`</span><span class="at">Funding Amount</span><span class="st">`</span>)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr hidden">
<pre><code>Warning: There was 1 warning in `mutate()`.
ℹ In argument: `Funding Amount = as.numeric(gsub(",", "", `Funding Amount`))`.
Caused by warning:
! NAs introduced by coercion</code></pre>
</div>
<a class="quarto-notebook-link" id="nblink-3" href="index-preview.html">Source: Article Notebook</a></div>
<section id="filter-for-mn-state-and-city-of-st.-paul" class="level4">
<h4 class="anchored" data-anchor-id="filter-for-mn-state-and-city-of-st.-paul">Filter for MN State and City of St.&nbsp;Paul</h4>
<p>First, I will filter the dataset by State: <strong>Minnesota</strong>, and then narrow it down further to focus on the <strong>City of St.&nbsp;Paul</strong> and the surrounding region. Please note that St.&nbsp;Paul is part of the <strong>Minneapolis-St.&nbsp;Paul-Bloomington, MN-WI</strong> region, so I’ll ensure it’s included within that larger metropolitan area.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter for Minnesota funding</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>minnesota_funding <span class="ot">&lt;-</span> funding <span class="sc">%&gt;%</span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(State <span class="sc">==</span> <span class="st">"Minnesota"</span>)</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(minnesota_funding, <span class="fu">here</span>(<span class="st">"processed_data"</span>, <span class="st">"minnesota_funding.rds"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<a class="quarto-notebook-link" id="nblink-4" href="index-preview.html">Source: Article Notebook</a></div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Further filter for St. Paul, considering variations in city names</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>st_paul_funding <span class="ot">&lt;-</span> minnesota_funding <span class="sc">%&gt;%</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">str_detect</span>(City, <span class="fu">regex</span>(<span class="st">"Saint Paul|St. Paul|South St. Paul|Minneapolis--St. Paul|Minneapolis-St. Paul"</span>, <span class="at">ignore_case =</span> <span class="cn">TRUE</span>)))</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(st_paul_funding, <span class="fu">here</span>(<span class="st">"processed_data"</span>, <span class="st">"st_paul_funding.rds"</span>))</span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a><span class="co"># glimpse(st_paul_funding)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<a class="quarto-notebook-link" id="nblink-5" href="index-preview.html">Source: Article Notebook</a></div>
</section>
<section id="calculate-funding-for-mn-state-and-city-of-st.-paul" class="level4">
<h4 class="anchored" data-anchor-id="calculate-funding-for-mn-state-and-city-of-st.-paul">Calculate funding for MN State and City of St.&nbsp;Paul</h4>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Set options to avoid scientific notation</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">scipen =</span> <span class="dv">999</span>)</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Load Minnesota and St. Paul data</span></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>minnesota_funding <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="fu">here</span>(<span class="st">"processed_data"</span>, <span class="st">"minnesota_funding.rds"</span>))</span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>st_paul_funding <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="fu">here</span>(<span class="st">"processed_data"</span>, <span class="st">"st_paul_funding.rds"</span>))</span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate total funding for Minnesota</span></span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a>total_minnesota_funding <span class="ot">&lt;-</span> minnesota_funding <span class="sc">%&gt;%</span></span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">total_funding =</span> <span class="fu">sum</span>(<span class="st">`</span><span class="at">Funding Amount</span><span class="st">`</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"The total amount of funding Minnesota received for climate as of June 2024 is $"</span>, </span>
<span id="cb21-13"><a href="#cb21-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">format</span>(total_minnesota_funding<span class="sc">$</span>total_funding, <span class="at">big.mark =</span> <span class="st">","</span>), <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>The total amount of funding Minnesota received for climate as of June 2024 is $ 7,101,423,527 </code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate total funding for St. Paul</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>total_st_paul_funding <span class="ot">&lt;-</span> st_paul_funding <span class="sc">%&gt;%</span></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">total_funding =</span> <span class="fu">sum</span>(<span class="st">`</span><span class="at">Funding Amount</span><span class="st">`</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"The total amount of funding St. Paul received for climate as of June 2024 is $"</span>, </span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">format</span>(total_st_paul_funding<span class="sc">$</span>total_funding, <span class="at">big.mark =</span> <span class="st">","</span>), <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>The total amount of funding St. Paul received for climate as of June 2024 is $ 446,286,762 </code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate total funds by funding source for St. Paul</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>source_st_paul_funding <span class="ot">&lt;-</span> st_paul_funding <span class="sc">%&gt;%</span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(<span class="st">`</span><span class="at">Funding Source</span><span class="st">`</span>) <span class="sc">%&gt;%</span></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">total_funding =</span> <span class="fu">sum</span>(<span class="st">`</span><span class="at">Funding Amount</span><span class="st">`</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate specific totals for BIL and IRA</span></span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a>bil_funding <span class="ot">&lt;-</span> st_paul_funding <span class="sc">%&gt;%</span></span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="st">`</span><span class="at">Funding Source</span><span class="st">`</span> <span class="sc">==</span> <span class="st">"BIL"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">total_bil =</span> <span class="fu">sum</span>(<span class="st">`</span><span class="at">Funding Amount</span><span class="st">`</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-11"><a href="#cb25-11" aria-hidden="true" tabindex="-1"></a>ira_funding <span class="ot">&lt;-</span> st_paul_funding <span class="sc">%&gt;%</span></span>
<span id="cb25-12"><a href="#cb25-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="st">`</span><span class="at">Funding Source</span><span class="st">`</span> <span class="sc">==</span> <span class="st">"IRA"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb25-13"><a href="#cb25-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">total_ira =</span> <span class="fu">sum</span>(<span class="st">`</span><span class="at">Funding Amount</span><span class="st">`</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span>
<span id="cb25-14"><a href="#cb25-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-15"><a href="#cb25-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Print specific funding from BIL and IRA</span></span>
<span id="cb25-16"><a href="#cb25-16" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"As of January 2024, St. Paul has been allocated $"</span>, </span>
<span id="cb25-17"><a href="#cb25-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">format</span>(bil_funding<span class="sc">$</span>total_bil, <span class="at">big.mark =</span> <span class="st">","</span>, <span class="at">scientific =</span> <span class="cn">FALSE</span>), </span>
<span id="cb25-18"><a href="#cb25-18" aria-hidden="true" tabindex="-1"></a>    <span class="st">" from the Bipartisan Infrastructure Law (BIL) and $"</span>, </span>
<span id="cb25-19"><a href="#cb25-19" aria-hidden="true" tabindex="-1"></a>    <span class="fu">format</span>(ira_funding<span class="sc">$</span>total_ira, <span class="at">big.mark =</span> <span class="st">","</span>, <span class="at">scientific =</span> <span class="cn">FALSE</span>), </span>
<span id="cb25-20"><a href="#cb25-20" aria-hidden="true" tabindex="-1"></a>    <span class="st">" from the Inflation Reduction Act (IRA).</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>As of January 2024, St. Paul has been allocated $ 433,028,012  from the Bipartisan Infrastructure Law (BIL) and $ 13,258,750  from the Inflation Reduction Act (IRA).</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter for the specific category 'Clean Energy, Buildings, and Manufacturing'</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>st_paul_clean_energy_funding <span class="ot">&lt;-</span> st_paul_funding <span class="sc">%&gt;%</span></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Category <span class="sc">==</span> <span class="st">"Clean Energy, Buildings, and Manufacturing"</span>)</span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate total funds by funding source for the specific category</span></span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>source_st_paul_clean_energy_funding <span class="ot">&lt;-</span> st_paul_clean_energy_funding <span class="sc">%&gt;%</span></span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(<span class="st">`</span><span class="at">Funding Source</span><span class="st">`</span>) <span class="sc">%&gt;%</span></span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">total_funding =</span> <span class="fu">sum</span>(<span class="st">`</span><span class="at">Funding Amount</span><span class="st">`</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-10"><a href="#cb27-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate total funding across all sources for the specific category</span></span>
<span id="cb27-11"><a href="#cb27-11" aria-hidden="true" tabindex="-1"></a>total_st_paul_clean_energy_funding <span class="ot">&lt;-</span> st_paul_clean_energy_funding <span class="sc">%&gt;%</span></span>
<span id="cb27-12"><a href="#cb27-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">total_funding =</span> <span class="fu">sum</span>(<span class="st">`</span><span class="at">Funding Amount</span><span class="st">`</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span>
<span id="cb27-13"><a href="#cb27-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-14"><a href="#cb27-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate specific totals for BIL and IRA in the specific category</span></span>
<span id="cb27-15"><a href="#cb27-15" aria-hidden="true" tabindex="-1"></a>bil_clean_energy_funding <span class="ot">&lt;-</span> st_paul_clean_energy_funding <span class="sc">%&gt;%</span></span>
<span id="cb27-16"><a href="#cb27-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="st">`</span><span class="at">Funding Source</span><span class="st">`</span> <span class="sc">==</span> <span class="st">"BIL"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb27-17"><a href="#cb27-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">total_bil =</span> <span class="fu">sum</span>(<span class="st">`</span><span class="at">Funding Amount</span><span class="st">`</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span>
<span id="cb27-18"><a href="#cb27-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-19"><a href="#cb27-19" aria-hidden="true" tabindex="-1"></a>ira_clean_energy_funding <span class="ot">&lt;-</span> st_paul_clean_energy_funding <span class="sc">%&gt;%</span></span>
<span id="cb27-20"><a href="#cb27-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="st">`</span><span class="at">Funding Source</span><span class="st">`</span> <span class="sc">==</span> <span class="st">"IRA"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb27-21"><a href="#cb27-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">total_ira =</span> <span class="fu">sum</span>(<span class="st">`</span><span class="at">Funding Amount</span><span class="st">`</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span>
<span id="cb27-22"><a href="#cb27-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-23"><a href="#cb27-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Print the total amount of funding for the specific category</span></span>
<span id="cb27-24"><a href="#cb27-24" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"The total amount of funding St. Paul received for 'Clean Energy, Buildings, and Manufacturing' as of June 2024 is $"</span>, </span>
<span id="cb27-25"><a href="#cb27-25" aria-hidden="true" tabindex="-1"></a>    <span class="fu">format</span>(total_st_paul_clean_energy_funding<span class="sc">$</span>total_funding, <span class="at">big.mark =</span> <span class="st">","</span>), <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>The total amount of funding St. Paul received for 'Clean Energy, Buildings, and Manufacturing' as of June 2024 is $ 8,537,843 </code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Print specific funding from BIL and IRA for the specific category</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"As of January 2024, St. Paul has been allocated $"</span>, </span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">format</span>(bil_clean_energy_funding<span class="sc">$</span>total_bil, <span class="at">big.mark =</span> <span class="st">","</span>, <span class="at">scientific =</span> <span class="cn">FALSE</span>), </span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">" from the Bipartisan Infrastructure Law (BIL) and $"</span>, </span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">format</span>(ira_clean_energy_funding<span class="sc">$</span>total_ira, <span class="at">big.mark =</span> <span class="st">","</span>, <span class="at">scientific =</span> <span class="cn">FALSE</span>), </span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">" from the Inflation Reduction Act (IRA) to invest in 'Clean Energy, Buildings, and Manufacturing'.</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>As of January 2024, St. Paul has been allocated $ 8,337,843  from the Bipartisan Infrastructure Law (BIL) and $ 200,000  from the Inflation Reduction Act (IRA) to invest in 'Clean Energy, Buildings, and Manufacturing'.</code></pre>
</div>
<a class="quarto-notebook-link" id="nblink-6" href="index-preview.html">Source: Article Notebook</a></div>
<p>As of January 2024, St.&nbsp;Paul has been allocated $ 433,028,012 million from the Bipartisan Infrastructure Law (BIL) and $ 13,258,750 from the Inflation Reduction Act (IRA) to invest in climate resilience efforts in total.</p>
<p>As of January 2024, St.&nbsp;Paul has been allocated $ 8,337,843 million from the Bipartisan Infrastructure Law (BIL) and $ 200,000 from the Inflation Reduction Act (IRA) to invest in ‘Clean Energy, Buildings, and Manufacturing’.</p>
</section>
<section id="calculate-fraction-of-st.-pauls-funding-from-mns" class="level4">
<h4 class="anchored" data-anchor-id="calculate-fraction-of-st.-pauls-funding-from-mns">Calculate fraction of St.&nbsp;Paul’s funding from MN’s</h4>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>minnesota_funding <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="fu">here</span>(<span class="st">"processed_data"</span>, <span class="st">"minnesota_funding.rds"</span>))</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>st_paul_funding <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="fu">here</span>(<span class="st">"processed_data"</span>, <span class="st">"st_paul_funding.rds"</span>))</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate total funding for Minnesota</span></span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>total_minnesota_funding <span class="ot">&lt;-</span> minnesota_funding <span class="sc">%&gt;%</span></span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">total_funding =</span> <span class="fu">sum</span>(<span class="st">`</span><span class="at">Funding Amount</span><span class="st">`</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(total_funding)</span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-9"><a href="#cb31-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate total funding for St. Paul</span></span>
<span id="cb31-10"><a href="#cb31-10" aria-hidden="true" tabindex="-1"></a>total_st_paul_funding <span class="ot">&lt;-</span> st_paul_funding <span class="sc">%&gt;%</span></span>
<span id="cb31-11"><a href="#cb31-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">total_funding =</span> <span class="fu">sum</span>(<span class="st">`</span><span class="at">Funding Amount</span><span class="st">`</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb31-12"><a href="#cb31-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(total_funding)</span>
<span id="cb31-13"><a href="#cb31-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-14"><a href="#cb31-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the fraction of St. Paul's funding from Minnesota's total funding</span></span>
<span id="cb31-15"><a href="#cb31-15" aria-hidden="true" tabindex="-1"></a>fraction_st_paul <span class="ot">&lt;-</span> total_st_paul_funding <span class="sc">/</span> total_minnesota_funding</span>
<span id="cb31-16"><a href="#cb31-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-17"><a href="#cb31-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Output the results</span></span>
<span id="cb31-18"><a href="#cb31-18" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"The fraction of St. Paul's funding from Minnesota's total funding is: "</span>, </span>
<span id="cb31-19"><a href="#cb31-19" aria-hidden="true" tabindex="-1"></a>    <span class="fu">round</span>(fraction_st_paul, <span class="dv">4</span>), <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>The fraction of St. Paul's funding from Minnesota's total funding is:  0.0628 </code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"This means St. Paul's funding is"</span>, <span class="fu">round</span>(fraction_st_paul <span class="sc">*</span> <span class="dv">100</span>, <span class="dv">2</span>), <span class="st">"% of Minnesota's total funding.</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>This means St. Paul's funding is 6.28 % of Minnesota's total funding.</code></pre>
</div>
<a class="quarto-notebook-link" id="nblink-7" href="index-preview.html">Source: Article Notebook</a></div>
</section>
<section id="visualize-categories-of-funding-for-st.-paul" class="level4">
<h4 class="anchored" data-anchor-id="visualize-categories-of-funding-for-st.-paul">Visualize categories of funding for St.&nbsp;Paul</h4>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Group the St. Paul data by Category and calculate the total funding for each category</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>st_paul_category_funding <span class="ot">&lt;-</span> st_paul_funding <span class="sc">%&gt;%</span></span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Category) <span class="sc">%&gt;%</span></span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">total_funding =</span> <span class="fu">sum</span>(<span class="st">`</span><span class="at">Funding Amount</span><span class="st">`</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(total_funding))</span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a>colors <span class="ot">&lt;-</span> <span class="fu">brewer.pal</span>(<span class="at">n =</span> <span class="fu">length</span>(<span class="fu">unique</span>(st_paul_category_funding<span class="sc">$</span>Category)), <span class="st">"Set3"</span>)</span>
<span id="cb35-8"><a href="#cb35-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-9"><a href="#cb35-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Create an interactive bar chart using highcharter</span></span>
<span id="cb35-10"><a href="#cb35-10" aria-hidden="true" tabindex="-1"></a>hchart_bar <span class="ot">&lt;-</span> <span class="fu">highchart</span>() <span class="sc">%&gt;%</span></span>
<span id="cb35-11"><a href="#cb35-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_chart</span>(<span class="at">type =</span> <span class="st">"bar"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb35-12"><a href="#cb35-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_xAxis</span>(<span class="at">categories =</span> st_paul_category_funding<span class="sc">$</span>Category, <span class="at">title =</span> <span class="fu">list</span>(<span class="at">text =</span> <span class="st">"Category"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb35-13"><a href="#cb35-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_yAxis</span>(<span class="at">title =</span> <span class="fu">list</span>(<span class="at">text =</span> <span class="st">"Total Funding ($)"</span>), <span class="at">labels =</span> <span class="fu">list</span>(<span class="at">format =</span> <span class="st">"{value:,.0f}"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb35-14"><a href="#cb35-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_add_series</span>(<span class="at">name =</span> <span class="st">"Total Funding"</span>, </span>
<span id="cb35-15"><a href="#cb35-15" aria-hidden="true" tabindex="-1"></a>                <span class="at">data =</span> st_paul_category_funding<span class="sc">$</span>total_funding, </span>
<span id="cb35-16"><a href="#cb35-16" aria-hidden="true" tabindex="-1"></a>                <span class="at">colorByPoint =</span> <span class="cn">TRUE</span>, </span>
<span id="cb35-17"><a href="#cb35-17" aria-hidden="true" tabindex="-1"></a>                <span class="at">colors =</span> colors) <span class="sc">%&gt;%</span></span>
<span id="cb35-18"><a href="#cb35-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_title</span>(<span class="at">text =</span> <span class="st">"Total Funding by Category in St. Paul"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb35-19"><a href="#cb35-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_tooltip</span>(<span class="at">pointFormat =</span> <span class="st">"Total Funding: ${point.y:,.0f}"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb35-20"><a href="#cb35-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_exporting</span>(</span>
<span id="cb35-21"><a href="#cb35-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">enabled =</span> <span class="cn">TRUE</span>,</span>
<span id="cb35-22"><a href="#cb35-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">buttons =</span> <span class="fu">list</span>(<span class="at">contextButton =</span> <span class="fu">list</span>(<span class="at">menuItems =</span> <span class="fu">c</span>(<span class="st">"downloadPNG"</span>, <span class="st">"downloadJPEG"</span>, <span class="st">"downloadSVG"</span>, <span class="st">"downloadPDF"</span>)))</span>
<span id="cb35-23"><a href="#cb35-23" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb35-24"><a href="#cb35-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-25"><a href="#cb35-25" aria-hidden="true" tabindex="-1"></a><span class="co"># Saving the chart as an HTML file</span></span>
<span id="cb35-26"><a href="#cb35-26" aria-hidden="true" tabindex="-1"></a><span class="fu">saveWidget</span>(hchart_bar, <span class="at">file =</span> <span class="fu">here</span>(<span class="st">"graphs"</span>, <span class="st">"st_paul_funding_bar.html"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<a class="quarto-notebook-link" id="nblink-8" href="index-preview.html">Source: Article Notebook</a></div>
<p>A quick glance tells us that almost <strong>95%</strong> of St.&nbsp;Paul’s funding goes to transportation efforts. Clean energy, buildings and manufacturing received less than <strong>2%</strong> of funding.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create an interactive pie chart using highcharter</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>hchart_pie <span class="ot">&lt;-</span> <span class="fu">highchart</span>() <span class="sc">%&gt;%</span></span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_chart</span>(<span class="at">type =</span> <span class="st">"pie"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_add_series</span>(<span class="at">name =</span> <span class="st">"Total Funding"</span>, </span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a>                <span class="at">data =</span> <span class="fu">list_parse2</span>(st_paul_category_funding <span class="sc">%&gt;%</span> </span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a>                                   <span class="fu">mutate</span>(<span class="at">name =</span> Category, <span class="at">y =</span> total_funding)), </span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true" tabindex="-1"></a>                <span class="at">colors =</span> colors) <span class="sc">%&gt;%</span></span>
<span id="cb36-8"><a href="#cb36-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_title</span>(<span class="at">text =</span> <span class="st">"Total Funding by Category in St. Paul"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb36-9"><a href="#cb36-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_tooltip</span>(<span class="at">pointFormat =</span> <span class="st">"Total Funding: ${point.y:,.0f}"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb36-10"><a href="#cb36-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_plotOptions</span>(<span class="at">pie =</span> <span class="fu">list</span>(<span class="at">innerSize =</span> <span class="st">'50%'</span>, <span class="at">dataLabels =</span> <span class="fu">list</span>(<span class="at">enabled =</span> <span class="cn">TRUE</span>))) <span class="sc">%&gt;%</span></span>
<span id="cb36-11"><a href="#cb36-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_exporting</span>(</span>
<span id="cb36-12"><a href="#cb36-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">enabled =</span> <span class="cn">TRUE</span>,</span>
<span id="cb36-13"><a href="#cb36-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">buttons =</span> <span class="fu">list</span>(<span class="at">contextButton =</span> <span class="fu">list</span>(<span class="at">menuItems =</span> <span class="fu">c</span>(<span class="st">"downloadPNG"</span>, <span class="st">"downloadJPEG"</span>, <span class="st">"downloadSVG"</span>, <span class="st">"downloadPDF"</span>)))</span>
<span id="cb36-14"><a href="#cb36-14" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb36-15"><a href="#cb36-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-16"><a href="#cb36-16" aria-hidden="true" tabindex="-1"></a><span class="fu">saveWidget</span>(hchart_pie, <span class="at">file =</span> <span class="fu">here</span>(<span class="st">"graphs"</span>, <span class="st">"st_paul_funding_pie.html"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<a class="quarto-notebook-link" id="nblink-9" href="index-preview.html">Source: Article Notebook</a></div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Export the funding data to CSV for graphing</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(minnesota_funding, <span class="fu">here</span>(<span class="st">"processed_data"</span>, <span class="st">"minnesota_funding.csv"</span>), <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(st_paul_funding, <span class="fu">here</span>(<span class="st">"processed_data"</span>, <span class="st">"st_paul_funding.csv"</span>), <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<a class="quarto-notebook-link" id="nblink-10" href="index-preview.html">Source: Article Notebook</a></div>
</section>
</section>
<section id="types-of-green-jobs-in-st.-paul" class="level3">
<h3 class="anchored" data-anchor-id="types-of-green-jobs-in-st.-paul">2. Types of Green Jobs in St.&nbsp;Paul</h3>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
RQ 2: What specific green jobs are being created in the Minneapolis-Saint Paul metropolitan area and nationally (e.g., energy efficiency, renewable energy, green construction)?
</div>
</div>
<div class="callout-body-container callout-body">
<p><u>Nationally</u></p>
<p>There’s a total of <strong>17,119,730 employed people</strong> in green jobs nationally. Specifically, in <strong>Energy Efficiency</strong>, there are 4,928,520 (28.79 %), in <strong>Green Construction</strong> there are 10,624,140 (62.06 %), and in <strong>Renewable Energy Generation</strong> there are 1,567,070 (9.15 %).</p>
<p>The <strong>mean annual wage</strong> for the occupation in U.S. dollars for green jobs is $78,363.4, and for non-green jobs is $73,763.67. That means green jobs pay <strong>$4,599.73 more</strong> than non-green jobs <strong>nationally</strong>.</p>
<p>The <strong>mean hourly wage</strong> for the occupation in U.S. dollars for green jobs is $37.67547, and for non-green jobs is $34.80. That means green jobs pay <strong>$2.88 more</strong> than non-green jobs <strong>nationally</strong>.</p>
<p><u>Minneapolis-Saint Paul Metropolitan Area</u></p>
<p>There’s a total of <strong>214,340 employed people</strong> in green jobs in the Minneapolis-Saint Paul metropolitan area. Specifically, in <strong>Energy Efficiency</strong>, there are 66,410 ( 30.98 %), in <strong>Green Construction</strong> there are 124,680 ( 58.17 %), and in <strong>Renewable Energy Generation</strong> there are 23,250 ( 10.85 %).</p>
<p>The <strong>mean annual wage</strong> for the occupation in U.S. dollars for green jobs <strong>in this area</strong> is $84,561.7, and for non-green jobs is $77,192.53. That means green jobs in Saint Paul pay $7,369.169 more than non-green jobs in this area.</p>
<p>The <strong>mean hourly wage</strong> for the occupation in U.S. dollars for green jobs <strong>in this area</strong> is $40.65, and for non-green jobs is $36.31. That means green jobs in Saint Paul pay <strong>$4.35 more</strong> than non-green jobs in this area.</p>
</div>
</div>
<section id="green-jobs-nationally" class="level4">
<h4 class="anchored" data-anchor-id="green-jobs-nationally">Green jobs nationally</h4>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Import national jobs data</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>national_jobs <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="fu">here</span>(<span class="st">"processed_data"</span>, <span class="st">"OWES_and_ONET-National.csv"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr hidden">
<pre><code>Rows: 1420 Columns: 34
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr (21): AREA_TITLE, PRIM_STATE, NAICS_TITLE, I_GROUP, OCC_CODE, OCC_TITLE,...
dbl  (7): AREA, AREA_TYPE, NAICS, OWN_CODE, TOT_EMP, EMP_PRSE, MEAN_PRSE
lgl  (6): JOBS_1000, LOC_QUOTIENT, PCT_TOTAL, PCT_RPT, ANNUAL, HOURLY

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(national_jobs, <span class="fu">here</span>(<span class="st">"processed_data"</span>, <span class="st">"national_jobs.rds"</span>))</span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>national_jobs  <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="fu">here</span>(<span class="st">"processed_data"</span>, <span class="st">"national_jobs.rds"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<a class="quarto-notebook-link" id="nblink-11" href="index-preview.html">Source: Article Notebook</a></div>
<p>Here, we’d want to filter to only green jobs</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert necessary columns to numeric where needed</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>national_jobs <span class="ot">&lt;-</span> national_jobs <span class="sc">%&gt;%</span></span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">TOT_EMP =</span> <span class="fu">as.numeric</span>(TOT_EMP),</span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a>    <span class="co"># JOBS_1000 = as.numeric(JOBS_1000),</span></span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true" tabindex="-1"></a>    <span class="co"># PCT_TOTAL = as.numeric(PCT_TOTAL),</span></span>
<span id="cb41-7"><a href="#cb41-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">H_MEAN =</span> <span class="fu">as.numeric</span>(H_MEAN),</span>
<span id="cb41-8"><a href="#cb41-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">A_MEAN =</span> <span class="fu">as.numeric</span>(A_MEAN),</span>
<span id="cb41-9"><a href="#cb41-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">A_MEDIAN =</span> <span class="fu">as.numeric</span>(A_MEDIAN),</span>
<span id="cb41-10"><a href="#cb41-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">H_MEDIAN =</span> <span class="fu">as.numeric</span>(H_MEDIAN)</span>
<span id="cb41-11"><a href="#cb41-11" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr hidden">
<pre><code>Warning: There were 4 warnings in `mutate()`.
The first warning was:
ℹ In argument: `H_MEAN = as.numeric(H_MEAN)`.
Caused by warning:
! NAs introduced by coercion
ℹ Run `dplyr::last_dplyr_warnings()` to see the 3 remaining warnings.</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter the dataset to include only relevant sectors</span></span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>filtered_jobs <span class="ot">&lt;-</span> national_jobs <span class="sc">%&gt;%</span></span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="st">`</span><span class="at">O*NET-SOC Sector</span><span class="st">`</span> <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Energy Efficiency"</span>, <span class="st">"Renewable Energy Generation"</span>, <span class="st">"Green Construction"</span>))</span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Function to summarize data for each sector</span></span>
<span id="cb43-6"><a href="#cb43-6" aria-hidden="true" tabindex="-1"></a>summarize_by_sector <span class="ot">&lt;-</span> <span class="cf">function</span>(df) {</span>
<span id="cb43-7"><a href="#cb43-7" aria-hidden="true" tabindex="-1"></a>  df <span class="sc">%&gt;%</span></span>
<span id="cb43-8"><a href="#cb43-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarize</span>(</span>
<span id="cb43-9"><a href="#cb43-9" aria-hidden="true" tabindex="-1"></a>      <span class="at">TOT_EMP =</span> <span class="fu">sum</span>(TOT_EMP, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb43-10"><a href="#cb43-10" aria-hidden="true" tabindex="-1"></a>      <span class="co"># JOBS_1000 = sum(JOBS_1000 * TOT_EMP, na.rm = TRUE) / sum(TOT_EMP, na.rm = TRUE),</span></span>
<span id="cb43-11"><a href="#cb43-11" aria-hidden="true" tabindex="-1"></a>      <span class="co"># PCT_TOTAL = sum(PCT_TOTAL * TOT_EMP, na.rm = TRUE) / sum(TOT_EMP, na.rm = TRUE),</span></span>
<span id="cb43-12"><a href="#cb43-12" aria-hidden="true" tabindex="-1"></a>      <span class="at">H_MEAN =</span> <span class="fu">mean</span>(H_MEAN, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb43-13"><a href="#cb43-13" aria-hidden="true" tabindex="-1"></a>      <span class="at">A_MEAN =</span> <span class="fu">mean</span>(A_MEAN, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb43-14"><a href="#cb43-14" aria-hidden="true" tabindex="-1"></a>      <span class="at">A_MEDIAN =</span> <span class="fu">median</span>(A_MEDIAN, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb43-15"><a href="#cb43-15" aria-hidden="true" tabindex="-1"></a>      <span class="at">H_MEDIAN =</span> <span class="fu">median</span>(H_MEDIAN, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb43-16"><a href="#cb43-16" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb43-17"><a href="#cb43-17" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb43-18"><a href="#cb43-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-19"><a href="#cb43-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Summarize the data for each sector and overall</span></span>
<span id="cb43-20"><a href="#cb43-20" aria-hidden="true" tabindex="-1"></a>sector_summary <span class="ot">&lt;-</span> filtered_jobs <span class="sc">%&gt;%</span></span>
<span id="cb43-21"><a href="#cb43-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(<span class="st">`</span><span class="at">O*NET-SOC Sector</span><span class="st">`</span>) <span class="sc">%&gt;%</span></span>
<span id="cb43-22"><a href="#cb43-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize_by_sector</span>()</span>
<span id="cb43-23"><a href="#cb43-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-24"><a href="#cb43-24" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the summary for all sectors combined</span></span>
<span id="cb43-25"><a href="#cb43-25" aria-hidden="true" tabindex="-1"></a>overall_summary <span class="ot">&lt;-</span> filtered_jobs <span class="sc">%&gt;%</span></span>
<span id="cb43-26"><a href="#cb43-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize_by_sector</span>()</span>
<span id="cb43-27"><a href="#cb43-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-28"><a href="#cb43-28" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine the results: sector-wise and overall</span></span>
<span id="cb43-29"><a href="#cb43-29" aria-hidden="true" tabindex="-1"></a>final_summary <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(sector_summary, <span class="fu">tibble</span>(<span class="st">`</span><span class="at">O*NET-SOC Sector</span><span class="st">`</span> <span class="ot">=</span> <span class="st">"All"</span>, overall_summary))</span>
<span id="cb43-30"><a href="#cb43-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-31"><a href="#cb43-31" aria-hidden="true" tabindex="-1"></a><span class="co"># Save the final summary as an RDS file and CSV for future reference</span></span>
<span id="cb43-32"><a href="#cb43-32" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(final_summary, <span class="fu">here</span>(<span class="st">"processed_data"</span>, <span class="st">"sector_summary.rds"</span>))</span>
<span id="cb43-33"><a href="#cb43-33" aria-hidden="true" tabindex="-1"></a><span class="fu">write_csv</span>(final_summary, <span class="fu">here</span>(<span class="st">"processed_data"</span>, <span class="st">"sector_summary.csv"</span>))</span>
<span id="cb43-34"><a href="#cb43-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-35"><a href="#cb43-35" aria-hidden="true" tabindex="-1"></a><span class="co"># Output the final summary to the user</span></span>
<span id="cb43-36"><a href="#cb43-36" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(final_summary)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 6
  `O*NET-SOC Sector`           TOT_EMP H_MEAN A_MEAN A_MEDIAN H_MEDIAN
  &lt;chr&gt;                          &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;
1 Energy Efficiency            4928520   43.0 89371     86355     41.5
2 Green Construction          10624140   33.9 70506.    60165     28.9
3 Renewable Energy Generation  1567070   42.3 88028.    97010     46.6
4 All                         17119730   37.7 78363.    67640     32.5</code></pre>
</div>
<a class="quarto-notebook-link" id="nblink-12" href="index-preview.html">Source: Article Notebook</a></div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate total employment and sector percentages</span></span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>total_green_jobs <span class="ot">&lt;-</span> final_summary <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="st">`</span><span class="at">O*NET-SOC Sector</span><span class="st">`</span> <span class="sc">==</span> <span class="st">"All"</span>) <span class="sc">%&gt;%</span> <span class="fu">pull</span>(TOT_EMP)</span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a>energy_efficiency_jobs <span class="ot">&lt;-</span> final_summary <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="st">`</span><span class="at">O*NET-SOC Sector</span><span class="st">`</span> <span class="sc">==</span> <span class="st">"Energy Efficiency"</span>) <span class="sc">%&gt;%</span> <span class="fu">pull</span>(TOT_EMP)</span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a>green_construction_jobs <span class="ot">&lt;-</span> final_summary <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="st">`</span><span class="at">O*NET-SOC Sector</span><span class="st">`</span> <span class="sc">==</span> <span class="st">"Green Construction"</span>) <span class="sc">%&gt;%</span> <span class="fu">pull</span>(TOT_EMP)</span>
<span id="cb45-6"><a href="#cb45-6" aria-hidden="true" tabindex="-1"></a>renewable_energy_jobs <span class="ot">&lt;-</span> final_summary <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="st">`</span><span class="at">O*NET-SOC Sector</span><span class="st">`</span> <span class="sc">==</span> <span class="st">"Renewable Energy Generation"</span>) <span class="sc">%&gt;%</span> <span class="fu">pull</span>(TOT_EMP)</span>
<span id="cb45-7"><a href="#cb45-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-8"><a href="#cb45-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the percentages</span></span>
<span id="cb45-9"><a href="#cb45-9" aria-hidden="true" tabindex="-1"></a>energy_efficiency_pct <span class="ot">&lt;-</span> <span class="fu">round</span>((energy_efficiency_jobs <span class="sc">/</span> total_green_jobs) <span class="sc">*</span> <span class="dv">100</span>, <span class="dv">2</span>)</span>
<span id="cb45-10"><a href="#cb45-10" aria-hidden="true" tabindex="-1"></a>green_construction_pct <span class="ot">&lt;-</span> <span class="fu">round</span>((green_construction_jobs <span class="sc">/</span> total_green_jobs) <span class="sc">*</span> <span class="dv">100</span>, <span class="dv">2</span>)</span>
<span id="cb45-11"><a href="#cb45-11" aria-hidden="true" tabindex="-1"></a>renewable_energy_pct <span class="ot">&lt;-</span> <span class="fu">round</span>((renewable_energy_jobs <span class="sc">/</span> total_green_jobs) <span class="sc">*</span> <span class="dv">100</span>, <span class="dv">2</span>)</span>
<span id="cb45-12"><a href="#cb45-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-13"><a href="#cb45-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the concatenated sentence</span></span>
<span id="cb45-14"><a href="#cb45-14" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"There's a total of"</span>, <span class="fu">format</span>(total_green_jobs, <span class="at">big.mark =</span> <span class="st">","</span>, <span class="at">scientific =</span> <span class="cn">FALSE</span>), </span>
<span id="cb45-15"><a href="#cb45-15" aria-hidden="true" tabindex="-1"></a>    <span class="st">"employed people in green jobs nationally. Specifically, in Energy Efficiency, there are"</span>, </span>
<span id="cb45-16"><a href="#cb45-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">format</span>(energy_efficiency_jobs, <span class="at">big.mark =</span> <span class="st">","</span>, <span class="at">scientific =</span> <span class="cn">FALSE</span>), </span>
<span id="cb45-17"><a href="#cb45-17" aria-hidden="true" tabindex="-1"></a>    <span class="st">"("</span>, energy_efficiency_pct, <span class="st">"%), in Green Construction there are"</span>, </span>
<span id="cb45-18"><a href="#cb45-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">format</span>(green_construction_jobs, <span class="at">big.mark =</span> <span class="st">","</span>, <span class="at">scientific =</span> <span class="cn">FALSE</span>), </span>
<span id="cb45-19"><a href="#cb45-19" aria-hidden="true" tabindex="-1"></a>    <span class="st">"("</span>, green_construction_pct, <span class="st">"%), and in Renewable Energy Generation there are"</span>, </span>
<span id="cb45-20"><a href="#cb45-20" aria-hidden="true" tabindex="-1"></a>    <span class="fu">format</span>(renewable_energy_jobs, <span class="at">big.mark =</span> <span class="st">","</span>, <span class="at">scientific =</span> <span class="cn">FALSE</span>), </span>
<span id="cb45-21"><a href="#cb45-21" aria-hidden="true" tabindex="-1"></a>    <span class="st">"("</span>, renewable_energy_pct, <span class="st">"%).</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>There's a total of 17,119,730 employed people in green jobs nationally. Specifically, in Energy Efficiency, there are 4,928,520 ( 28.79 %), in Green Construction there are 10,624,140 ( 62.06 %), and in Renewable Energy Generation there are 1,567,070 ( 9.15 %).</code></pre>
</div>
<a class="quarto-notebook-link" id="nblink-13" href="index-preview.html">Source: Article Notebook</a></div>
<p>Let’s visualize this so it’s easier to compare across all green sectors</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert the O*NET-SOC Sector to a factor for ordering in the chart</span></span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>final_summary <span class="ot">&lt;-</span> final_summary <span class="sc">%&gt;%</span></span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="st">`</span><span class="at">O*NET-SOC Sector</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">factor</span>(<span class="st">`</span><span class="at">O*NET-SOC Sector</span><span class="st">`</span>, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"Energy Efficiency"</span>, <span class="st">"Green Construction"</span>, <span class="st">"Renewable Energy Generation"</span>, <span class="st">"All"</span>)))</span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-5"><a href="#cb47-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Visualizing TOT_EMP across the sectors</span></span>
<span id="cb47-6"><a href="#cb47-6" aria-hidden="true" tabindex="-1"></a><span class="fu">hchart</span>(final_summary, <span class="st">"column"</span>, <span class="fu">hcaes</span>(<span class="at">x =</span> <span class="st">`</span><span class="at">O*NET-SOC Sector</span><span class="st">`</span>, <span class="at">y =</span> TOT_EMP)) <span class="sc">%&gt;%</span></span>
<span id="cb47-7"><a href="#cb47-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_title</span>(<span class="at">text =</span> <span class="st">"Total Employment by Sector"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb47-8"><a href="#cb47-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_xAxis</span>(<span class="at">title =</span> <span class="fu">list</span>(<span class="at">text =</span> <span class="st">"Sector"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb47-9"><a href="#cb47-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_yAxis</span>(<span class="at">title =</span> <span class="fu">list</span>(<span class="at">text =</span> <span class="st">"Total Employment"</span>), <span class="at">labels =</span> <span class="fu">list</span>(<span class="at">format =</span> <span class="st">"{value:,0f}"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb47-10"><a href="#cb47-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_tooltip</span>(<span class="at">pointFormat =</span> <span class="st">'&lt;b&gt;{point.y:,0f}&lt;/b&gt;'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="highchart html-widget html-fill-item" id="htmlwidget-bebcb8a773a940bec530" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-bebcb8a773a940bec530">{"x":{"hc_opts":{"chart":{"reflow":true},"title":{"text":"Total Employment by Sector"},"yAxis":{"title":{"text":"Total Employment"},"type":"linear","labels":{"format":"{value:,0f}"}},"credits":{"enabled":false},"exporting":{"enabled":false},"boost":{"enabled":false},"plotOptions":{"series":{"label":{"enabled":false},"turboThreshold":0,"showInLegend":false},"treemap":{"layoutAlgorithm":"squarified"},"scatter":{"marker":{"symbol":"circle"}}},"series":[{"group":"group","data":[{"O*NET-SOC Sector":"Energy Efficiency","TOT_EMP":4928520,"H_MEAN":42.968,"A_MEAN":89371,"A_MEDIAN":86355,"H_MEDIAN":41.515,"y":4928520,"name":"Energy Efficiency"},{"O*NET-SOC Sector":"Green Construction","TOT_EMP":10624140,"H_MEAN":33.898,"A_MEAN":70506.33333333334,"A_MEDIAN":60165,"H_MEDIAN":28.925,"y":10624140,"name":"Green Construction"},{"O*NET-SOC Sector":"Renewable Energy Generation","TOT_EMP":1567070,"H_MEAN":42.32153846153846,"A_MEAN":88027.69230769231,"A_MEDIAN":97010,"H_MEDIAN":46.64,"y":1567070,"name":"Renewable Energy Generation"},{"O*NET-SOC Sector":"All","TOT_EMP":17119730,"H_MEAN":37.67547169811321,"A_MEAN":78363.39622641511,"A_MEDIAN":67640,"H_MEDIAN":32.52,"y":17119730,"name":"All"}],"type":"column"}],"xAxis":{"type":"category","title":{"text":"Sector"}},"tooltip":{"pointFormat":"<b>{point.y:,0f}<\/b>"}},"theme":{"chart":{"backgroundColor":"transparent"},"colors":["#7cb5ec","#434348","#90ed7d","#f7a35c","#8085e9","#f15c80","#e4d354","#2b908f","#f45b5b","#91e8e1"]},"conf_opts":{"global":{"Date":null,"VMLRadialGradientURL":"http =//code.highcharts.com/list(version)/gfx/vml-radial-gradient.png","canvasToolsURL":"http =//code.highcharts.com/list(version)/modules/canvas-tools.js","getTimezoneOffset":null,"timezoneOffset":0,"useUTC":true},"lang":{"contextButtonTitle":"Chart context menu","decimalPoint":".","downloadCSV":"Download CSV","downloadJPEG":"Download JPEG image","downloadPDF":"Download PDF document","downloadPNG":"Download PNG image","downloadSVG":"Download SVG vector image","downloadXLS":"Download XLS","drillUpText":"◁ Back to {series.name}","exitFullscreen":"Exit from full screen","exportData":{"annotationHeader":"Annotations","categoryDatetimeHeader":"DateTime","categoryHeader":"Category"},"hideData":"Hide data table","invalidDate":null,"loading":"Loading...","months":["January","February","March","April","May","June","July","August","September","October","November","December"],"noData":"No data to display","numericSymbolMagnitude":1000,"numericSymbols":["k","M","G","T","P","E"],"printChart":"Print chart","resetZoom":"Reset zoom","resetZoomTitle":"Reset zoom level 1:1","shortMonths":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"shortWeekdays":["Sat","Sun","Mon","Tue","Wed","Thu","Fri"],"thousandsSep":" ","viewData":"View data table","viewFullscreen":"View in full screen","weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},"type":"chart","fonts":[],"debug":false},"evals":[],"jsHooks":[]}</script>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Visualizing H_MEAN (Mean Hourly Wage) across the sectors</span></span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a><span class="fu">hchart</span>(final_summary, <span class="st">"column"</span>, <span class="fu">hcaes</span>(<span class="at">x =</span> <span class="st">`</span><span class="at">O*NET-SOC Sector</span><span class="st">`</span>, <span class="at">y =</span> H_MEAN)) <span class="sc">%&gt;%</span></span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_title</span>(<span class="at">text =</span> <span class="st">"Mean Hourly Wage by Sector"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_xAxis</span>(<span class="at">title =</span> <span class="fu">list</span>(<span class="at">text =</span> <span class="st">"Sector"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb48-5"><a href="#cb48-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_yAxis</span>(<span class="at">title =</span> <span class="fu">list</span>(<span class="at">text =</span> <span class="st">"Mean Hourly Wage (USD)"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb48-6"><a href="#cb48-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_tooltip</span>(<span class="at">pointFormat =</span> <span class="st">'&lt;b&gt;{point.y:.2f} USD&lt;/b&gt;'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="highchart html-widget html-fill-item" id="htmlwidget-c2d054d3758b5b6e05f9" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-c2d054d3758b5b6e05f9">{"x":{"hc_opts":{"chart":{"reflow":true},"title":{"text":"Mean Hourly Wage by Sector"},"yAxis":{"title":{"text":"Mean Hourly Wage (USD)"},"type":"linear"},"credits":{"enabled":false},"exporting":{"enabled":false},"boost":{"enabled":false},"plotOptions":{"series":{"label":{"enabled":false},"turboThreshold":0,"showInLegend":false},"treemap":{"layoutAlgorithm":"squarified"},"scatter":{"marker":{"symbol":"circle"}}},"series":[{"group":"group","data":[{"O*NET-SOC Sector":"Energy Efficiency","TOT_EMP":4928520,"H_MEAN":42.968,"A_MEAN":89371,"A_MEDIAN":86355,"H_MEDIAN":41.515,"y":42.968,"name":"Energy Efficiency"},{"O*NET-SOC Sector":"Green Construction","TOT_EMP":10624140,"H_MEAN":33.898,"A_MEAN":70506.33333333334,"A_MEDIAN":60165,"H_MEDIAN":28.925,"y":33.898,"name":"Green Construction"},{"O*NET-SOC Sector":"Renewable Energy Generation","TOT_EMP":1567070,"H_MEAN":42.32153846153846,"A_MEAN":88027.69230769231,"A_MEDIAN":97010,"H_MEDIAN":46.64,"y":42.32153846153846,"name":"Renewable Energy Generation"},{"O*NET-SOC Sector":"All","TOT_EMP":17119730,"H_MEAN":37.67547169811321,"A_MEAN":78363.39622641511,"A_MEDIAN":67640,"H_MEDIAN":32.52,"y":37.67547169811321,"name":"All"}],"type":"column"}],"xAxis":{"type":"category","title":{"text":"Sector"}},"tooltip":{"pointFormat":"<b>{point.y:.2f} USD<\/b>"}},"theme":{"chart":{"backgroundColor":"transparent"},"colors":["#7cb5ec","#434348","#90ed7d","#f7a35c","#8085e9","#f15c80","#e4d354","#2b908f","#f45b5b","#91e8e1"]},"conf_opts":{"global":{"Date":null,"VMLRadialGradientURL":"http =//code.highcharts.com/list(version)/gfx/vml-radial-gradient.png","canvasToolsURL":"http =//code.highcharts.com/list(version)/modules/canvas-tools.js","getTimezoneOffset":null,"timezoneOffset":0,"useUTC":true},"lang":{"contextButtonTitle":"Chart context menu","decimalPoint":".","downloadCSV":"Download CSV","downloadJPEG":"Download JPEG image","downloadPDF":"Download PDF document","downloadPNG":"Download PNG image","downloadSVG":"Download SVG vector image","downloadXLS":"Download XLS","drillUpText":"◁ Back to {series.name}","exitFullscreen":"Exit from full screen","exportData":{"annotationHeader":"Annotations","categoryDatetimeHeader":"DateTime","categoryHeader":"Category"},"hideData":"Hide data table","invalidDate":null,"loading":"Loading...","months":["January","February","March","April","May","June","July","August","September","October","November","December"],"noData":"No data to display","numericSymbolMagnitude":1000,"numericSymbols":["k","M","G","T","P","E"],"printChart":"Print chart","resetZoom":"Reset zoom","resetZoomTitle":"Reset zoom level 1:1","shortMonths":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"shortWeekdays":["Sat","Sun","Mon","Tue","Wed","Thu","Fri"],"thousandsSep":" ","viewData":"View data table","viewFullscreen":"View in full screen","weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},"type":"chart","fonts":[],"debug":false},"evals":[],"jsHooks":[]}</script>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Visualizing A_MEAN (Mean Annual Wage) across the sectors</span></span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a><span class="fu">hchart</span>(final_summary, <span class="st">"column"</span>, <span class="fu">hcaes</span>(<span class="at">x =</span> <span class="st">`</span><span class="at">O*NET-SOC Sector</span><span class="st">`</span>, <span class="at">y =</span> A_MEAN)) <span class="sc">%&gt;%</span></span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_title</span>(<span class="at">text =</span> <span class="st">"Mean Annual Wage by Sector"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_xAxis</span>(<span class="at">title =</span> <span class="fu">list</span>(<span class="at">text =</span> <span class="st">"Sector"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_yAxis</span>(<span class="at">title =</span> <span class="fu">list</span>(<span class="at">text =</span> <span class="st">"Mean Annual Wage (USD)"</span>), <span class="at">labels =</span> <span class="fu">list</span>(<span class="at">format =</span> <span class="st">"{value:,0f}"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb49-6"><a href="#cb49-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_tooltip</span>(<span class="at">pointFormat =</span> <span class="st">'&lt;b&gt;{point.y:,0f} USD&lt;/b&gt;'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="highchart html-widget html-fill-item" id="htmlwidget-86bd2aa6e895ab485d2d" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-86bd2aa6e895ab485d2d">{"x":{"hc_opts":{"chart":{"reflow":true},"title":{"text":"Mean Annual Wage by Sector"},"yAxis":{"title":{"text":"Mean Annual Wage (USD)"},"type":"linear","labels":{"format":"{value:,0f}"}},"credits":{"enabled":false},"exporting":{"enabled":false},"boost":{"enabled":false},"plotOptions":{"series":{"label":{"enabled":false},"turboThreshold":0,"showInLegend":false},"treemap":{"layoutAlgorithm":"squarified"},"scatter":{"marker":{"symbol":"circle"}}},"series":[{"group":"group","data":[{"O*NET-SOC Sector":"Energy Efficiency","TOT_EMP":4928520,"H_MEAN":42.968,"A_MEAN":89371,"A_MEDIAN":86355,"H_MEDIAN":41.515,"y":89371,"name":"Energy Efficiency"},{"O*NET-SOC Sector":"Green Construction","TOT_EMP":10624140,"H_MEAN":33.898,"A_MEAN":70506.33333333334,"A_MEDIAN":60165,"H_MEDIAN":28.925,"y":70506.33333333334,"name":"Green Construction"},{"O*NET-SOC Sector":"Renewable Energy Generation","TOT_EMP":1567070,"H_MEAN":42.32153846153846,"A_MEAN":88027.69230769231,"A_MEDIAN":97010,"H_MEDIAN":46.64,"y":88027.69230769231,"name":"Renewable Energy Generation"},{"O*NET-SOC Sector":"All","TOT_EMP":17119730,"H_MEAN":37.67547169811321,"A_MEAN":78363.39622641511,"A_MEDIAN":67640,"H_MEDIAN":32.52,"y":78363.39622641511,"name":"All"}],"type":"column"}],"xAxis":{"type":"category","title":{"text":"Sector"}},"tooltip":{"pointFormat":"<b>{point.y:,0f} USD<\/b>"}},"theme":{"chart":{"backgroundColor":"transparent"},"colors":["#7cb5ec","#434348","#90ed7d","#f7a35c","#8085e9","#f15c80","#e4d354","#2b908f","#f45b5b","#91e8e1"]},"conf_opts":{"global":{"Date":null,"VMLRadialGradientURL":"http =//code.highcharts.com/list(version)/gfx/vml-radial-gradient.png","canvasToolsURL":"http =//code.highcharts.com/list(version)/modules/canvas-tools.js","getTimezoneOffset":null,"timezoneOffset":0,"useUTC":true},"lang":{"contextButtonTitle":"Chart context menu","decimalPoint":".","downloadCSV":"Download CSV","downloadJPEG":"Download JPEG image","downloadPDF":"Download PDF document","downloadPNG":"Download PNG image","downloadSVG":"Download SVG vector image","downloadXLS":"Download XLS","drillUpText":"◁ Back to {series.name}","exitFullscreen":"Exit from full screen","exportData":{"annotationHeader":"Annotations","categoryDatetimeHeader":"DateTime","categoryHeader":"Category"},"hideData":"Hide data table","invalidDate":null,"loading":"Loading...","months":["January","February","March","April","May","June","July","August","September","October","November","December"],"noData":"No data to display","numericSymbolMagnitude":1000,"numericSymbols":["k","M","G","T","P","E"],"printChart":"Print chart","resetZoom":"Reset zoom","resetZoomTitle":"Reset zoom level 1:1","shortMonths":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"shortWeekdays":["Sat","Sun","Mon","Tue","Wed","Thu","Fri"],"thousandsSep":" ","viewData":"View data table","viewFullscreen":"View in full screen","weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},"type":"chart","fonts":[],"debug":false},"evals":[],"jsHooks":[]}</script>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Visualizing A_MEDIAN (Median Annual Wage) across the sectors</span></span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a><span class="fu">hchart</span>(final_summary, <span class="st">"column"</span>, <span class="fu">hcaes</span>(<span class="at">x =</span> <span class="st">`</span><span class="at">O*NET-SOC Sector</span><span class="st">`</span>, <span class="at">y =</span> A_MEDIAN)) <span class="sc">%&gt;%</span></span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_title</span>(<span class="at">text =</span> <span class="st">"Median Annual Wage by Sector"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_xAxis</span>(<span class="at">title =</span> <span class="fu">list</span>(<span class="at">text =</span> <span class="st">"Sector"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb50-5"><a href="#cb50-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_yAxis</span>(<span class="at">title =</span> <span class="fu">list</span>(<span class="at">text =</span> <span class="st">"Median Annual Wage (USD)"</span>), <span class="at">labels =</span> <span class="fu">list</span>(<span class="at">format =</span> <span class="st">"{value:,0f}"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb50-6"><a href="#cb50-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_tooltip</span>(<span class="at">pointFormat =</span> <span class="st">'&lt;b&gt;{point.y:,0f} USD&lt;/b&gt;'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="highchart html-widget html-fill-item" id="htmlwidget-8c12f337caabb738b72b" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-8c12f337caabb738b72b">{"x":{"hc_opts":{"chart":{"reflow":true},"title":{"text":"Median Annual Wage by Sector"},"yAxis":{"title":{"text":"Median Annual Wage (USD)"},"type":"linear","labels":{"format":"{value:,0f}"}},"credits":{"enabled":false},"exporting":{"enabled":false},"boost":{"enabled":false},"plotOptions":{"series":{"label":{"enabled":false},"turboThreshold":0,"showInLegend":false},"treemap":{"layoutAlgorithm":"squarified"},"scatter":{"marker":{"symbol":"circle"}}},"series":[{"group":"group","data":[{"O*NET-SOC Sector":"Energy Efficiency","TOT_EMP":4928520,"H_MEAN":42.968,"A_MEAN":89371,"A_MEDIAN":86355,"H_MEDIAN":41.515,"y":86355,"name":"Energy Efficiency"},{"O*NET-SOC Sector":"Green Construction","TOT_EMP":10624140,"H_MEAN":33.898,"A_MEAN":70506.33333333334,"A_MEDIAN":60165,"H_MEDIAN":28.925,"y":60165,"name":"Green Construction"},{"O*NET-SOC Sector":"Renewable Energy Generation","TOT_EMP":1567070,"H_MEAN":42.32153846153846,"A_MEAN":88027.69230769231,"A_MEDIAN":97010,"H_MEDIAN":46.64,"y":97010,"name":"Renewable Energy Generation"},{"O*NET-SOC Sector":"All","TOT_EMP":17119730,"H_MEAN":37.67547169811321,"A_MEAN":78363.39622641511,"A_MEDIAN":67640,"H_MEDIAN":32.52,"y":67640,"name":"All"}],"type":"column"}],"xAxis":{"type":"category","title":{"text":"Sector"}},"tooltip":{"pointFormat":"<b>{point.y:,0f} USD<\/b>"}},"theme":{"chart":{"backgroundColor":"transparent"},"colors":["#7cb5ec","#434348","#90ed7d","#f7a35c","#8085e9","#f15c80","#e4d354","#2b908f","#f45b5b","#91e8e1"]},"conf_opts":{"global":{"Date":null,"VMLRadialGradientURL":"http =//code.highcharts.com/list(version)/gfx/vml-radial-gradient.png","canvasToolsURL":"http =//code.highcharts.com/list(version)/modules/canvas-tools.js","getTimezoneOffset":null,"timezoneOffset":0,"useUTC":true},"lang":{"contextButtonTitle":"Chart context menu","decimalPoint":".","downloadCSV":"Download CSV","downloadJPEG":"Download JPEG image","downloadPDF":"Download PDF document","downloadPNG":"Download PNG image","downloadSVG":"Download SVG vector image","downloadXLS":"Download XLS","drillUpText":"◁ Back to {series.name}","exitFullscreen":"Exit from full screen","exportData":{"annotationHeader":"Annotations","categoryDatetimeHeader":"DateTime","categoryHeader":"Category"},"hideData":"Hide data table","invalidDate":null,"loading":"Loading...","months":["January","February","March","April","May","June","July","August","September","October","November","December"],"noData":"No data to display","numericSymbolMagnitude":1000,"numericSymbols":["k","M","G","T","P","E"],"printChart":"Print chart","resetZoom":"Reset zoom","resetZoomTitle":"Reset zoom level 1:1","shortMonths":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"shortWeekdays":["Sat","Sun","Mon","Tue","Wed","Thu","Fri"],"thousandsSep":" ","viewData":"View data table","viewFullscreen":"View in full screen","weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},"type":"chart","fonts":[],"debug":false},"evals":[],"jsHooks":[]}</script>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Visualizing H_MEDIAN (Median Hourly Wage) across the sectors</span></span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a><span class="fu">hchart</span>(final_summary, <span class="st">"column"</span>, <span class="fu">hcaes</span>(<span class="at">x =</span> <span class="st">`</span><span class="at">O*NET-SOC Sector</span><span class="st">`</span>, <span class="at">y =</span> H_MEDIAN)) <span class="sc">%&gt;%</span></span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_title</span>(<span class="at">text =</span> <span class="st">"Median Hourly Wage by Sector"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_xAxis</span>(<span class="at">title =</span> <span class="fu">list</span>(<span class="at">text =</span> <span class="st">"Sector"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb51-5"><a href="#cb51-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_yAxis</span>(<span class="at">title =</span> <span class="fu">list</span>(<span class="at">text =</span> <span class="st">"Median Hourly Wage (USD)"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb51-6"><a href="#cb51-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_tooltip</span>(<span class="at">pointFormat =</span> <span class="st">'&lt;b&gt;{point.y:.2f} USD&lt;/b&gt;'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="highchart html-widget html-fill-item" id="htmlwidget-86330b0b4872b89684ba" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-86330b0b4872b89684ba">{"x":{"hc_opts":{"chart":{"reflow":true},"title":{"text":"Median Hourly Wage by Sector"},"yAxis":{"title":{"text":"Median Hourly Wage (USD)"},"type":"linear"},"credits":{"enabled":false},"exporting":{"enabled":false},"boost":{"enabled":false},"plotOptions":{"series":{"label":{"enabled":false},"turboThreshold":0,"showInLegend":false},"treemap":{"layoutAlgorithm":"squarified"},"scatter":{"marker":{"symbol":"circle"}}},"series":[{"group":"group","data":[{"O*NET-SOC Sector":"Energy Efficiency","TOT_EMP":4928520,"H_MEAN":42.968,"A_MEAN":89371,"A_MEDIAN":86355,"H_MEDIAN":41.515,"y":41.515,"name":"Energy Efficiency"},{"O*NET-SOC Sector":"Green Construction","TOT_EMP":10624140,"H_MEAN":33.898,"A_MEAN":70506.33333333334,"A_MEDIAN":60165,"H_MEDIAN":28.925,"y":28.925,"name":"Green Construction"},{"O*NET-SOC Sector":"Renewable Energy Generation","TOT_EMP":1567070,"H_MEAN":42.32153846153846,"A_MEAN":88027.69230769231,"A_MEDIAN":97010,"H_MEDIAN":46.64,"y":46.64,"name":"Renewable Energy Generation"},{"O*NET-SOC Sector":"All","TOT_EMP":17119730,"H_MEAN":37.67547169811321,"A_MEAN":78363.39622641511,"A_MEDIAN":67640,"H_MEDIAN":32.52,"y":32.52,"name":"All"}],"type":"column"}],"xAxis":{"type":"category","title":{"text":"Sector"}},"tooltip":{"pointFormat":"<b>{point.y:.2f} USD<\/b>"}},"theme":{"chart":{"backgroundColor":"transparent"},"colors":["#7cb5ec","#434348","#90ed7d","#f7a35c","#8085e9","#f15c80","#e4d354","#2b908f","#f45b5b","#91e8e1"]},"conf_opts":{"global":{"Date":null,"VMLRadialGradientURL":"http =//code.highcharts.com/list(version)/gfx/vml-radial-gradient.png","canvasToolsURL":"http =//code.highcharts.com/list(version)/modules/canvas-tools.js","getTimezoneOffset":null,"timezoneOffset":0,"useUTC":true},"lang":{"contextButtonTitle":"Chart context menu","decimalPoint":".","downloadCSV":"Download CSV","downloadJPEG":"Download JPEG image","downloadPDF":"Download PDF document","downloadPNG":"Download PNG image","downloadSVG":"Download SVG vector image","downloadXLS":"Download XLS","drillUpText":"◁ Back to {series.name}","exitFullscreen":"Exit from full screen","exportData":{"annotationHeader":"Annotations","categoryDatetimeHeader":"DateTime","categoryHeader":"Category"},"hideData":"Hide data table","invalidDate":null,"loading":"Loading...","months":["January","February","March","April","May","June","July","August","September","October","November","December"],"noData":"No data to display","numericSymbolMagnitude":1000,"numericSymbols":["k","M","G","T","P","E"],"printChart":"Print chart","resetZoom":"Reset zoom","resetZoomTitle":"Reset zoom level 1:1","shortMonths":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"shortWeekdays":["Sat","Sun","Mon","Tue","Wed","Thu","Fri"],"thousandsSep":" ","viewData":"View data table","viewFullscreen":"View in full screen","weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},"type":"chart","fonts":[],"debug":false},"evals":[],"jsHooks":[]}</script>
</div>
<a class="quarto-notebook-link" id="nblink-14" href="index-preview.html">Source: Article Notebook</a></div>
<p>I’m also curious about the differences between green jobs and non-green jobs for mean hourly wage and mean annual wage.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Define green jobs as sectors related to energy and construction</span></span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a>green_jobs_sectors <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Energy Efficiency"</span>, <span class="st">"Renewable Energy Generation"</span>, <span class="st">"Green Construction"</span>)</span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-4"><a href="#cb52-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Add a new column to identify green and non-green jobs</span></span>
<span id="cb52-5"><a href="#cb52-5" aria-hidden="true" tabindex="-1"></a>national_jobs <span class="ot">&lt;-</span> national_jobs <span class="sc">%&gt;%</span></span>
<span id="cb52-6"><a href="#cb52-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb52-7"><a href="#cb52-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">Job_Type =</span> <span class="fu">ifelse</span>(<span class="st">`</span><span class="at">O*NET-SOC Sector</span><span class="st">`</span> <span class="sc">%in%</span> green_jobs_sectors, <span class="st">"Green Jobs"</span>, <span class="st">"Non-Green Jobs"</span>)</span>
<span id="cb52-8"><a href="#cb52-8" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb52-9"><a href="#cb52-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-10"><a href="#cb52-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Group by job type (Green vs Non-Green) and calculate mean wages</span></span>
<span id="cb52-11"><a href="#cb52-11" aria-hidden="true" tabindex="-1"></a>job_type_summary <span class="ot">&lt;-</span> national_jobs <span class="sc">%&gt;%</span></span>
<span id="cb52-12"><a href="#cb52-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Job_Type) <span class="sc">%&gt;%</span></span>
<span id="cb52-13"><a href="#cb52-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(</span>
<span id="cb52-14"><a href="#cb52-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">H_MEAN =</span> <span class="fu">mean</span>(H_MEAN, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb52-15"><a href="#cb52-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">A_MEAN =</span> <span class="fu">mean</span>(A_MEAN, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb52-16"><a href="#cb52-16" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb52-17"><a href="#cb52-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-18"><a href="#cb52-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Visualizing Mean Hourly Wage (H_MEAN) for Green vs Non-Green Jobs</span></span>
<span id="cb52-19"><a href="#cb52-19" aria-hidden="true" tabindex="-1"></a><span class="fu">hchart</span>(job_type_summary, <span class="st">"column"</span>, <span class="fu">hcaes</span>(<span class="at">x =</span> Job_Type, <span class="at">y =</span> H_MEAN)) <span class="sc">%&gt;%</span></span>
<span id="cb52-20"><a href="#cb52-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_title</span>(<span class="at">text =</span> <span class="st">"Mean Hourly Wage: Green Jobs vs Non-Green Jobs"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb52-21"><a href="#cb52-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_xAxis</span>(<span class="at">title =</span> <span class="fu">list</span>(<span class="at">text =</span> <span class="st">"Job Type"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb52-22"><a href="#cb52-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_yAxis</span>(<span class="at">title =</span> <span class="fu">list</span>(<span class="at">text =</span> <span class="st">"Mean Hourly Wage (USD)"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb52-23"><a href="#cb52-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_tooltip</span>(<span class="at">pointFormat =</span> <span class="st">'&lt;b&gt;{point.y:.2f} USD&lt;/b&gt;'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="highchart html-widget html-fill-item" id="htmlwidget-8ff96c02f4b7c8e04ba4" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-8ff96c02f4b7c8e04ba4">{"x":{"hc_opts":{"chart":{"reflow":true},"title":{"text":"Mean Hourly Wage: Green Jobs vs Non-Green Jobs"},"yAxis":{"title":{"text":"Mean Hourly Wage (USD)"},"type":"linear"},"credits":{"enabled":false},"exporting":{"enabled":false},"boost":{"enabled":false},"plotOptions":{"series":{"label":{"enabled":false},"turboThreshold":0,"showInLegend":false},"treemap":{"layoutAlgorithm":"squarified"},"scatter":{"marker":{"symbol":"circle"}}},"series":[{"group":"group","data":[{"Job_Type":"Green Jobs","H_MEAN":37.67547169811321,"A_MEAN":78363.39622641511,"y":37.67547169811321,"name":"Green Jobs"},{"Job_Type":"Non-Green Jobs","H_MEAN":34.79640845070423,"A_MEAN":73763.67060561306,"y":34.79640845070423,"name":"Non-Green Jobs"}],"type":"column"}],"xAxis":{"type":"category","title":{"text":"Job Type"}},"tooltip":{"pointFormat":"<b>{point.y:.2f} USD<\/b>"}},"theme":{"chart":{"backgroundColor":"transparent"},"colors":["#7cb5ec","#434348","#90ed7d","#f7a35c","#8085e9","#f15c80","#e4d354","#2b908f","#f45b5b","#91e8e1"]},"conf_opts":{"global":{"Date":null,"VMLRadialGradientURL":"http =//code.highcharts.com/list(version)/gfx/vml-radial-gradient.png","canvasToolsURL":"http =//code.highcharts.com/list(version)/modules/canvas-tools.js","getTimezoneOffset":null,"timezoneOffset":0,"useUTC":true},"lang":{"contextButtonTitle":"Chart context menu","decimalPoint":".","downloadCSV":"Download CSV","downloadJPEG":"Download JPEG image","downloadPDF":"Download PDF document","downloadPNG":"Download PNG image","downloadSVG":"Download SVG vector image","downloadXLS":"Download XLS","drillUpText":"◁ Back to {series.name}","exitFullscreen":"Exit from full screen","exportData":{"annotationHeader":"Annotations","categoryDatetimeHeader":"DateTime","categoryHeader":"Category"},"hideData":"Hide data table","invalidDate":null,"loading":"Loading...","months":["January","February","March","April","May","June","July","August","September","October","November","December"],"noData":"No data to display","numericSymbolMagnitude":1000,"numericSymbols":["k","M","G","T","P","E"],"printChart":"Print chart","resetZoom":"Reset zoom","resetZoomTitle":"Reset zoom level 1:1","shortMonths":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"shortWeekdays":["Sat","Sun","Mon","Tue","Wed","Thu","Fri"],"thousandsSep":" ","viewData":"View data table","viewFullscreen":"View in full screen","weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},"type":"chart","fonts":[],"debug":false},"evals":[],"jsHooks":[]}</script>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Visualizing Mean Annual Wage (A_MEAN) for Green vs Non-Green Jobs</span></span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a><span class="fu">hchart</span>(job_type_summary, <span class="st">"column"</span>, <span class="fu">hcaes</span>(<span class="at">x =</span> Job_Type, <span class="at">y =</span> A_MEAN)) <span class="sc">%&gt;%</span></span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_title</span>(<span class="at">text =</span> <span class="st">"Mean Annual Wage: Green Jobs vs Non-Green Jobs"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb53-4"><a href="#cb53-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_xAxis</span>(<span class="at">title =</span> <span class="fu">list</span>(<span class="at">text =</span> <span class="st">"Job Type"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb53-5"><a href="#cb53-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_yAxis</span>(<span class="at">title =</span> <span class="fu">list</span>(<span class="at">text =</span> <span class="st">"Mean Annual Wage (USD)"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb53-6"><a href="#cb53-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_tooltip</span>(<span class="at">pointFormat =</span> <span class="st">'&lt;b&gt;{point.y:,0f} USD&lt;/b&gt;'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="highchart html-widget html-fill-item" id="htmlwidget-2e05c62997017fc9e521" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-2e05c62997017fc9e521">{"x":{"hc_opts":{"chart":{"reflow":true},"title":{"text":"Mean Annual Wage: Green Jobs vs Non-Green Jobs"},"yAxis":{"title":{"text":"Mean Annual Wage (USD)"},"type":"linear"},"credits":{"enabled":false},"exporting":{"enabled":false},"boost":{"enabled":false},"plotOptions":{"series":{"label":{"enabled":false},"turboThreshold":0,"showInLegend":false},"treemap":{"layoutAlgorithm":"squarified"},"scatter":{"marker":{"symbol":"circle"}}},"series":[{"group":"group","data":[{"Job_Type":"Green Jobs","H_MEAN":37.67547169811321,"A_MEAN":78363.39622641511,"y":78363.39622641511,"name":"Green Jobs"},{"Job_Type":"Non-Green Jobs","H_MEAN":34.79640845070423,"A_MEAN":73763.67060561306,"y":73763.67060561306,"name":"Non-Green Jobs"}],"type":"column"}],"xAxis":{"type":"category","title":{"text":"Job Type"}},"tooltip":{"pointFormat":"<b>{point.y:,0f} USD<\/b>"}},"theme":{"chart":{"backgroundColor":"transparent"},"colors":["#7cb5ec","#434348","#90ed7d","#f7a35c","#8085e9","#f15c80","#e4d354","#2b908f","#f45b5b","#91e8e1"]},"conf_opts":{"global":{"Date":null,"VMLRadialGradientURL":"http =//code.highcharts.com/list(version)/gfx/vml-radial-gradient.png","canvasToolsURL":"http =//code.highcharts.com/list(version)/modules/canvas-tools.js","getTimezoneOffset":null,"timezoneOffset":0,"useUTC":true},"lang":{"contextButtonTitle":"Chart context menu","decimalPoint":".","downloadCSV":"Download CSV","downloadJPEG":"Download JPEG image","downloadPDF":"Download PDF document","downloadPNG":"Download PNG image","downloadSVG":"Download SVG vector image","downloadXLS":"Download XLS","drillUpText":"◁ Back to {series.name}","exitFullscreen":"Exit from full screen","exportData":{"annotationHeader":"Annotations","categoryDatetimeHeader":"DateTime","categoryHeader":"Category"},"hideData":"Hide data table","invalidDate":null,"loading":"Loading...","months":["January","February","March","April","May","June","July","August","September","October","November","December"],"noData":"No data to display","numericSymbolMagnitude":1000,"numericSymbols":["k","M","G","T","P","E"],"printChart":"Print chart","resetZoom":"Reset zoom","resetZoomTitle":"Reset zoom level 1:1","shortMonths":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"shortWeekdays":["Sat","Sun","Mon","Tue","Wed","Thu","Fri"],"thousandsSep":" ","viewData":"View data table","viewFullscreen":"View in full screen","weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},"type":"chart","fonts":[],"debug":false},"evals":[],"jsHooks":[]}</script>
</div>
<a class="quarto-notebook-link" id="nblink-15" href="index-preview.html">Source: Article Notebook</a></div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Summarizing core findings nationally</span></span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract green and non-green job wage data</span></span>
<span id="cb54-4"><a href="#cb54-4" aria-hidden="true" tabindex="-1"></a>green_wages <span class="ot">&lt;-</span> job_type_summary <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Job_Type <span class="sc">==</span> <span class="st">"Green Jobs"</span>)</span>
<span id="cb54-5"><a href="#cb54-5" aria-hidden="true" tabindex="-1"></a>non_green_wages <span class="ot">&lt;-</span> job_type_summary <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Job_Type <span class="sc">==</span> <span class="st">"Non-Green Jobs"</span>)</span>
<span id="cb54-6"><a href="#cb54-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-7"><a href="#cb54-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the difference between green and non-green jobs</span></span>
<span id="cb54-8"><a href="#cb54-8" aria-hidden="true" tabindex="-1"></a>difference_annual <span class="ot">&lt;-</span> green_wages<span class="sc">$</span>A_MEAN <span class="sc">-</span> non_green_wages<span class="sc">$</span>A_MEAN</span>
<span id="cb54-9"><a href="#cb54-9" aria-hidden="true" tabindex="-1"></a>difference_hourly <span class="ot">&lt;-</span> green_wages<span class="sc">$</span>H_MEAN <span class="sc">-</span> non_green_wages<span class="sc">$</span>H_MEAN</span>
<span id="cb54-10"><a href="#cb54-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-11"><a href="#cb54-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Format and print the sentences</span></span>
<span id="cb54-12"><a href="#cb54-12" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"The mean annual wage for the occupation in U.S. dollars for green jobs is $"</span>, </span>
<span id="cb54-13"><a href="#cb54-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">format</span>(green_wages<span class="sc">$</span>A_MEAN, <span class="at">big.mark =</span> <span class="st">","</span>, <span class="at">scientific =</span> <span class="cn">FALSE</span>), </span>
<span id="cb54-14"><a href="#cb54-14" aria-hidden="true" tabindex="-1"></a>    <span class="st">", and for non-green jobs is $"</span>, </span>
<span id="cb54-15"><a href="#cb54-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">format</span>(non_green_wages<span class="sc">$</span>A_MEAN, <span class="at">big.mark =</span> <span class="st">","</span>, <span class="at">scientific =</span> <span class="cn">FALSE</span>), </span>
<span id="cb54-16"><a href="#cb54-16" aria-hidden="true" tabindex="-1"></a>    <span class="st">". That means green jobs pay $"</span>, </span>
<span id="cb54-17"><a href="#cb54-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">format</span>(<span class="fu">abs</span>(difference_annual), <span class="at">big.mark =</span> <span class="st">","</span>, <span class="at">scientific =</span> <span class="cn">FALSE</span>), </span>
<span id="cb54-18"><a href="#cb54-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ifelse</span>(difference_annual <span class="sc">&gt;</span> <span class="dv">0</span>, <span class="st">" more"</span>, <span class="st">" less"</span>), </span>
<span id="cb54-19"><a href="#cb54-19" aria-hidden="true" tabindex="-1"></a>    <span class="st">" than non-green jobs nationally.</span><span class="sc">\n</span><span class="st">"</span>, <span class="at">sep =</span> <span class="st">""</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>The mean annual wage for the occupation in U.S. dollars for green jobs is $78,363.4, and for non-green jobs is $73,763.67. That means green jobs pay $4,599.726 more than non-green jobs nationally.</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"The mean hourly wage for the occupation in U.S. dollars for green jobs is $"</span>, </span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">format</span>(green_wages<span class="sc">$</span>H_MEAN, <span class="at">big.mark =</span> <span class="st">","</span>, <span class="at">scientific =</span> <span class="cn">FALSE</span>), </span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">", and for non-green jobs is $"</span>, </span>
<span id="cb56-4"><a href="#cb56-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">format</span>(non_green_wages<span class="sc">$</span>H_MEAN, <span class="at">big.mark =</span> <span class="st">","</span>, <span class="at">scientific =</span> <span class="cn">FALSE</span>), </span>
<span id="cb56-5"><a href="#cb56-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">". That means green jobs pay $"</span>, </span>
<span id="cb56-6"><a href="#cb56-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">format</span>(<span class="fu">abs</span>(difference_hourly), <span class="at">big.mark =</span> <span class="st">","</span>, <span class="at">scientific =</span> <span class="cn">FALSE</span>), </span>
<span id="cb56-7"><a href="#cb56-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ifelse</span>(difference_hourly <span class="sc">&gt;</span> <span class="dv">0</span>, <span class="st">" more"</span>, <span class="st">" less"</span>), </span>
<span id="cb56-8"><a href="#cb56-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">" than non-green jobs nationally.</span><span class="sc">\n</span><span class="st">"</span>, <span class="at">sep =</span> <span class="st">""</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>The mean hourly wage for the occupation in U.S. dollars for green jobs is $37.67547, and for non-green jobs is $34.79641. That means green jobs pay $2.879063 more than non-green jobs nationally.</code></pre>
</div>
<a class="quarto-notebook-link" id="nblink-16" href="index-preview.html">Source: Article Notebook</a></div>
<p>I’d like to see a word cloud of different job titles for each sector</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter the dataset for green jobs only</span></span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a>green_jobs <span class="ot">&lt;-</span> national_jobs <span class="sc">%&gt;%</span></span>
<span id="cb58-3"><a href="#cb58-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="st">`</span><span class="at">O*NET-SOC Sector</span><span class="st">`</span> <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Energy Efficiency"</span>, <span class="st">"Renewable Energy Generation"</span>, <span class="st">"Green Construction"</span>))</span>
<span id="cb58-4"><a href="#cb58-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-5"><a href="#cb58-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract job titles and count their occurrences</span></span>
<span id="cb58-6"><a href="#cb58-6" aria-hidden="true" tabindex="-1"></a>job_titles <span class="ot">&lt;-</span> green_jobs <span class="sc">%&gt;%</span></span>
<span id="cb58-7"><a href="#cb58-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(OCC_TITLE, <span class="at">sort =</span> <span class="cn">TRUE</span>)</span>
<span id="cb58-8"><a href="#cb58-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-9"><a href="#cb58-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a word cloud using highcharter</span></span>
<span id="cb58-10"><a href="#cb58-10" aria-hidden="true" tabindex="-1"></a><span class="fu">hchart</span>(</span>
<span id="cb58-11"><a href="#cb58-11" aria-hidden="true" tabindex="-1"></a>  job_titles, </span>
<span id="cb58-12"><a href="#cb58-12" aria-hidden="true" tabindex="-1"></a>  <span class="st">"wordcloud"</span>, </span>
<span id="cb58-13"><a href="#cb58-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hcaes</span>(<span class="at">name =</span> OCC_TITLE, <span class="at">weight =</span> n)</span>
<span id="cb58-14"><a href="#cb58-14" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span></span>
<span id="cb58-15"><a href="#cb58-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_title</span>(<span class="at">text =</span> <span class="st">"Word Cloud of Green Job Titles"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="highchart html-widget html-fill-item" id="htmlwidget-cb9e72b6f42afc65b781" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-cb9e72b6f42afc65b781">{"x":{"hc_opts":{"chart":{"reflow":true},"title":{"text":"Word Cloud of Green Job Titles"},"yAxis":{"title":{"text":[]}},"credits":{"enabled":false},"exporting":{"enabled":false},"boost":{"enabled":false},"plotOptions":{"series":{"label":{"enabled":false},"turboThreshold":0,"showInLegend":false},"treemap":{"layoutAlgorithm":"squarified"},"scatter":{"marker":{"symbol":"circle"}}},"series":[{"group":"group","data":[{"OCC_TITLE":null,"n":6,"name":null,"weight":6},{"OCC_TITLE":"Electrical Engineers","n":3,"name":"Electrical Engineers","weight":3},{"OCC_TITLE":"Mechanical Engineers","n":3,"name":"Mechanical Engineers","weight":3},{"OCC_TITLE":"Boilermakers","n":2,"name":"Boilermakers","weight":2},{"OCC_TITLE":"Civil Engineers","n":2,"name":"Civil Engineers","weight":2},{"OCC_TITLE":"Financial and Investment Analysts","n":2,"name":"Financial and Investment Analysts","weight":2},{"OCC_TITLE":"Heating, Air Conditioning, and Refrigeration Mechanics and Installers","n":2,"name":"Heating, Air Conditioning, and Refrigeration Mechanics and Installers","weight":2},{"OCC_TITLE":"Insulation Workers, Floor, Ceiling, and Wall","n":2,"name":"Insulation Workers, Floor, Ceiling, and Wall","weight":2},{"OCC_TITLE":"Power Plant Operators","n":2,"name":"Power Plant Operators","weight":2},{"OCC_TITLE":"Sheet Metal Workers","n":2,"name":"Sheet Metal Workers","weight":2},{"OCC_TITLE":"Architects, Except Landscape and Naval","n":1,"name":"Architects, Except Landscape and Naval","weight":1},{"OCC_TITLE":"Architectural and Civil Drafters","n":1,"name":"Architectural and Civil Drafters","weight":1},{"OCC_TITLE":"Carpenters","n":1,"name":"Carpenters","weight":1},{"OCC_TITLE":"Cement Masons and Concrete Finishers","n":1,"name":"Cement Masons and Concrete Finishers","weight":1},{"OCC_TITLE":"Construction Laborers","n":1,"name":"Construction Laborers","weight":1},{"OCC_TITLE":"Construction Managers","n":1,"name":"Construction Managers","weight":1},{"OCC_TITLE":"Construction and Building Inspectors","n":1,"name":"Construction and Building Inspectors","weight":1},{"OCC_TITLE":"Continuous Mining Machine Operators","n":1,"name":"Continuous Mining Machine Operators","weight":1},{"OCC_TITLE":"Electrical Power-Line Installers and Repairers","n":1,"name":"Electrical Power-Line Installers and Repairers","weight":1},{"OCC_TITLE":"Electricians","n":1,"name":"Electricians","weight":1},{"OCC_TITLE":"General and Operations Managers","n":1,"name":"General and Operations Managers","weight":1},{"OCC_TITLE":"Hazardous Materials Removal Workers","n":1,"name":"Hazardous Materials Removal Workers","weight":1},{"OCC_TITLE":"Helpers--Carpenters","n":1,"name":"Helpers--Carpenters","weight":1},{"OCC_TITLE":"Helpers--Installation, Maintenance, and Repair Workers","n":1,"name":"Helpers--Installation, Maintenance, and Repair Workers","weight":1},{"OCC_TITLE":"Industrial Truck and Tractor Operators","n":1,"name":"Industrial Truck and Tractor Operators","weight":1},{"OCC_TITLE":"Laborers and Freight, Stock, and Material Movers, Hand","n":1,"name":"Laborers and Freight, Stock, and Material Movers, Hand","weight":1},{"OCC_TITLE":"Landscape Architects","n":1,"name":"Landscape Architects","weight":1},{"OCC_TITLE":"Machinists","n":1,"name":"Machinists","weight":1},{"OCC_TITLE":"Nuclear Power Reactor Operators","n":1,"name":"Nuclear Power Reactor Operators","weight":1},{"OCC_TITLE":"Nuclear Technicians","n":1,"name":"Nuclear Technicians","weight":1},{"OCC_TITLE":"Operating Engineers and Other Construction Equipment Operators","n":1,"name":"Operating Engineers and Other Construction Equipment Operators","weight":1},{"OCC_TITLE":"Plumbers, Pipefitters, and Steamfitters","n":1,"name":"Plumbers, Pipefitters, and Steamfitters","weight":1},{"OCC_TITLE":"Power Distributors and Dispatchers","n":1,"name":"Power Distributors and Dispatchers","weight":1},{"OCC_TITLE":"Roofers","n":1,"name":"Roofers","weight":1},{"OCC_TITLE":"Separating, Filtering, Clarifying, Precipitating, and Still Machine Setters, Operators, and Tenders","n":1,"name":"Separating, Filtering, Clarifying, Precipitating, and Still Machine Setters, Operators, and Tenders","weight":1},{"OCC_TITLE":"Service Unit Operators, Oil and Gas","n":1,"name":"Service Unit Operators, Oil and Gas","weight":1},{"OCC_TITLE":"Stationary Engineers and Boiler Operators","n":1,"name":"Stationary Engineers and Boiler Operators","weight":1},{"OCC_TITLE":"Structural Iron and Steel Workers","n":1,"name":"Structural Iron and Steel Workers","weight":1},{"OCC_TITLE":"Structural Metal Fabricators and Fitters","n":1,"name":"Structural Metal Fabricators and Fitters","weight":1},{"OCC_TITLE":"Transportation Inspectors","n":1,"name":"Transportation Inspectors","weight":1},{"OCC_TITLE":"Transportation, Storage, and Distribution Managers","n":1,"name":"Transportation, Storage, and Distribution Managers","weight":1},{"OCC_TITLE":"Urban and Regional Planners","n":1,"name":"Urban and Regional Planners","weight":1},{"OCC_TITLE":"Welders, Cutters, Solderers, and Brazers","n":1,"name":"Welders, Cutters, Solderers, and Brazers","weight":1}],"type":"wordcloud"}],"xAxis":{"type":null,"title":{"text":[]},"categories":null}},"theme":{"chart":{"backgroundColor":"transparent"},"colors":["#7cb5ec","#434348","#90ed7d","#f7a35c","#8085e9","#f15c80","#e4d354","#2b908f","#f45b5b","#91e8e1"]},"conf_opts":{"global":{"Date":null,"VMLRadialGradientURL":"http =//code.highcharts.com/list(version)/gfx/vml-radial-gradient.png","canvasToolsURL":"http =//code.highcharts.com/list(version)/modules/canvas-tools.js","getTimezoneOffset":null,"timezoneOffset":0,"useUTC":true},"lang":{"contextButtonTitle":"Chart context menu","decimalPoint":".","downloadCSV":"Download CSV","downloadJPEG":"Download JPEG image","downloadPDF":"Download PDF document","downloadPNG":"Download PNG image","downloadSVG":"Download SVG vector image","downloadXLS":"Download XLS","drillUpText":"◁ Back to {series.name}","exitFullscreen":"Exit from full screen","exportData":{"annotationHeader":"Annotations","categoryDatetimeHeader":"DateTime","categoryHeader":"Category"},"hideData":"Hide data table","invalidDate":null,"loading":"Loading...","months":["January","February","March","April","May","June","July","August","September","October","November","December"],"noData":"No data to display","numericSymbolMagnitude":1000,"numericSymbols":["k","M","G","T","P","E"],"printChart":"Print chart","resetZoom":"Reset zoom","resetZoomTitle":"Reset zoom level 1:1","shortMonths":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"shortWeekdays":["Sat","Sun","Mon","Tue","Wed","Thu","Fri"],"thousandsSep":" ","viewData":"View data table","viewFullscreen":"View in full screen","weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},"type":"chart","fonts":[],"debug":false},"evals":[],"jsHooks":[]}</script>
</div>
<a class="quarto-notebook-link" id="nblink-17" href="index-preview.html">Source: Article Notebook</a></div>
<p>Now let’s create separate word clouds for each of the green sectors (“Energy Efficiency”, “Renewable Energy Generation”, and “Green Construction”).</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter the dataset for each sector</span></span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a>energy_efficiency_jobs <span class="ot">&lt;-</span> national_jobs <span class="sc">%&gt;%</span></span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="st">`</span><span class="at">O*NET-SOC Sector</span><span class="st">`</span> <span class="sc">==</span> <span class="st">"Energy Efficiency"</span>)</span>
<span id="cb59-4"><a href="#cb59-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-5"><a href="#cb59-5" aria-hidden="true" tabindex="-1"></a>renewable_energy_jobs <span class="ot">&lt;-</span> national_jobs <span class="sc">%&gt;%</span></span>
<span id="cb59-6"><a href="#cb59-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="st">`</span><span class="at">O*NET-SOC Sector</span><span class="st">`</span> <span class="sc">==</span> <span class="st">"Renewable Energy Generation"</span>)</span>
<span id="cb59-7"><a href="#cb59-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-8"><a href="#cb59-8" aria-hidden="true" tabindex="-1"></a>green_construction_jobs <span class="ot">&lt;-</span> national_jobs <span class="sc">%&gt;%</span></span>
<span id="cb59-9"><a href="#cb59-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="st">`</span><span class="at">O*NET-SOC Sector</span><span class="st">`</span> <span class="sc">==</span> <span class="st">"Green Construction"</span>)</span>
<span id="cb59-10"><a href="#cb59-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-11"><a href="#cb59-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a function to generate word clouds</span></span>
<span id="cb59-12"><a href="#cb59-12" aria-hidden="true" tabindex="-1"></a>generate_wordcloud <span class="ot">&lt;-</span> <span class="cf">function</span>(data, sector_name) {</span>
<span id="cb59-13"><a href="#cb59-13" aria-hidden="true" tabindex="-1"></a>  job_titles <span class="ot">&lt;-</span> data <span class="sc">%&gt;%</span></span>
<span id="cb59-14"><a href="#cb59-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">count</span>(OCC_TITLE, <span class="at">sort =</span> <span class="cn">TRUE</span>)</span>
<span id="cb59-15"><a href="#cb59-15" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb59-16"><a href="#cb59-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hchart</span>(</span>
<span id="cb59-17"><a href="#cb59-17" aria-hidden="true" tabindex="-1"></a>    job_titles, </span>
<span id="cb59-18"><a href="#cb59-18" aria-hidden="true" tabindex="-1"></a>    <span class="st">"wordcloud"</span>, </span>
<span id="cb59-19"><a href="#cb59-19" aria-hidden="true" tabindex="-1"></a>    <span class="fu">hcaes</span>(<span class="at">name =</span> OCC_TITLE, <span class="at">weight =</span> n)</span>
<span id="cb59-20"><a href="#cb59-20" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb59-21"><a href="#cb59-21" aria-hidden="true" tabindex="-1"></a>    <span class="fu">hc_title</span>(<span class="at">text =</span> <span class="fu">paste</span>(<span class="st">"Word Cloud of"</span>, sector_name, <span class="st">"Job Titles"</span>))</span>
<span id="cb59-22"><a href="#cb59-22" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb59-23"><a href="#cb59-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-24"><a href="#cb59-24" aria-hidden="true" tabindex="-1"></a><span class="co"># Generate word cloud for Energy Efficiency</span></span>
<span id="cb59-25"><a href="#cb59-25" aria-hidden="true" tabindex="-1"></a>energy_efficiency_wordcloud <span class="ot">&lt;-</span> <span class="fu">generate_wordcloud</span>(energy_efficiency_jobs, <span class="st">"Energy Efficiency"</span>)</span>
<span id="cb59-26"><a href="#cb59-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-27"><a href="#cb59-27" aria-hidden="true" tabindex="-1"></a><span class="co"># Generate word cloud for Renewable Energy Generation</span></span>
<span id="cb59-28"><a href="#cb59-28" aria-hidden="true" tabindex="-1"></a>renewable_energy_wordcloud <span class="ot">&lt;-</span> <span class="fu">generate_wordcloud</span>(renewable_energy_jobs, <span class="st">"Renewable Energy Generation"</span>)</span>
<span id="cb59-29"><a href="#cb59-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-30"><a href="#cb59-30" aria-hidden="true" tabindex="-1"></a><span class="co"># Generate word cloud for Green Construction</span></span>
<span id="cb59-31"><a href="#cb59-31" aria-hidden="true" tabindex="-1"></a>green_construction_wordcloud <span class="ot">&lt;-</span> <span class="fu">generate_wordcloud</span>(green_construction_jobs, <span class="st">"Green Construction"</span>)</span>
<span id="cb59-32"><a href="#cb59-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-33"><a href="#cb59-33" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the word clouds</span></span>
<span id="cb59-34"><a href="#cb59-34" aria-hidden="true" tabindex="-1"></a>energy_efficiency_wordcloud</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="highchart html-widget html-fill-item" id="htmlwidget-70a60372b93fe110aaf6" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-70a60372b93fe110aaf6">{"x":{"hc_opts":{"chart":{"reflow":true},"title":{"text":"Word Cloud of Energy Efficiency Job Titles"},"yAxis":{"title":{"text":[]}},"credits":{"enabled":false},"exporting":{"enabled":false},"boost":{"enabled":false},"plotOptions":{"series":{"label":{"enabled":false},"turboThreshold":0,"showInLegend":false},"treemap":{"layoutAlgorithm":"squarified"},"scatter":{"marker":{"symbol":"circle"}}},"series":[{"group":"group","data":[{"OCC_TITLE":null,"n":2,"name":null,"weight":2},{"OCC_TITLE":"Boilermakers","n":1,"name":"Boilermakers","weight":1},{"OCC_TITLE":"Electrical Engineers","n":1,"name":"Electrical Engineers","weight":1},{"OCC_TITLE":"Electrical Power-Line Installers and Repairers","n":1,"name":"Electrical Power-Line Installers and Repairers","weight":1},{"OCC_TITLE":"Financial and Investment Analysts","n":1,"name":"Financial and Investment Analysts","weight":1},{"OCC_TITLE":"General and Operations Managers","n":1,"name":"General and Operations Managers","weight":1},{"OCC_TITLE":"Heating, Air Conditioning, and Refrigeration Mechanics and Installers","n":1,"name":"Heating, Air Conditioning, and Refrigeration Mechanics and Installers","weight":1},{"OCC_TITLE":"Insulation Workers, Floor, Ceiling, and Wall","n":1,"name":"Insulation Workers, Floor, Ceiling, and Wall","weight":1},{"OCC_TITLE":"Mechanical Engineers","n":1,"name":"Mechanical Engineers","weight":1},{"OCC_TITLE":"Stationary Engineers and Boiler Operators","n":1,"name":"Stationary Engineers and Boiler Operators","weight":1},{"OCC_TITLE":"Transportation Inspectors","n":1,"name":"Transportation Inspectors","weight":1}],"type":"wordcloud"}],"xAxis":{"type":null,"title":{"text":[]},"categories":null}},"theme":{"chart":{"backgroundColor":"transparent"},"colors":["#7cb5ec","#434348","#90ed7d","#f7a35c","#8085e9","#f15c80","#e4d354","#2b908f","#f45b5b","#91e8e1"]},"conf_opts":{"global":{"Date":null,"VMLRadialGradientURL":"http =//code.highcharts.com/list(version)/gfx/vml-radial-gradient.png","canvasToolsURL":"http =//code.highcharts.com/list(version)/modules/canvas-tools.js","getTimezoneOffset":null,"timezoneOffset":0,"useUTC":true},"lang":{"contextButtonTitle":"Chart context menu","decimalPoint":".","downloadCSV":"Download CSV","downloadJPEG":"Download JPEG image","downloadPDF":"Download PDF document","downloadPNG":"Download PNG image","downloadSVG":"Download SVG vector image","downloadXLS":"Download XLS","drillUpText":"◁ Back to {series.name}","exitFullscreen":"Exit from full screen","exportData":{"annotationHeader":"Annotations","categoryDatetimeHeader":"DateTime","categoryHeader":"Category"},"hideData":"Hide data table","invalidDate":null,"loading":"Loading...","months":["January","February","March","April","May","June","July","August","September","October","November","December"],"noData":"No data to display","numericSymbolMagnitude":1000,"numericSymbols":["k","M","G","T","P","E"],"printChart":"Print chart","resetZoom":"Reset zoom","resetZoomTitle":"Reset zoom level 1:1","shortMonths":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"shortWeekdays":["Sat","Sun","Mon","Tue","Wed","Thu","Fri"],"thousandsSep":" ","viewData":"View data table","viewFullscreen":"View in full screen","weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},"type":"chart","fonts":[],"debug":false},"evals":[],"jsHooks":[]}</script>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a>renewable_energy_wordcloud</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="highchart html-widget html-fill-item" id="htmlwidget-ca572fe08dc6d6eea155" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-ca572fe08dc6d6eea155">{"x":{"hc_opts":{"chart":{"reflow":true},"title":{"text":"Word Cloud of Renewable Energy Generation Job Titles"},"yAxis":{"title":{"text":[]}},"credits":{"enabled":false},"exporting":{"enabled":false},"boost":{"enabled":false},"plotOptions":{"series":{"label":{"enabled":false},"turboThreshold":0,"showInLegend":false},"treemap":{"layoutAlgorithm":"squarified"},"scatter":{"marker":{"symbol":"circle"}}},"series":[{"group":"group","data":[{"OCC_TITLE":null,"n":2,"name":null,"weight":2},{"OCC_TITLE":"Civil Engineers","n":1,"name":"Civil Engineers","weight":1},{"OCC_TITLE":"Continuous Mining Machine Operators","n":1,"name":"Continuous Mining Machine Operators","weight":1},{"OCC_TITLE":"Electrical Engineers","n":1,"name":"Electrical Engineers","weight":1},{"OCC_TITLE":"Machinists","n":1,"name":"Machinists","weight":1},{"OCC_TITLE":"Mechanical Engineers","n":1,"name":"Mechanical Engineers","weight":1},{"OCC_TITLE":"Nuclear Power Reactor Operators","n":1,"name":"Nuclear Power Reactor Operators","weight":1},{"OCC_TITLE":"Nuclear Technicians","n":1,"name":"Nuclear Technicians","weight":1},{"OCC_TITLE":"Power Distributors and Dispatchers","n":1,"name":"Power Distributors and Dispatchers","weight":1},{"OCC_TITLE":"Power Plant Operators","n":1,"name":"Power Plant Operators","weight":1},{"OCC_TITLE":"Separating, Filtering, Clarifying, Precipitating, and Still Machine Setters, Operators, and Tenders","n":1,"name":"Separating, Filtering, Clarifying, Precipitating, and Still Machine Setters, Operators, and Tenders","weight":1},{"OCC_TITLE":"Service Unit Operators, Oil and Gas","n":1,"name":"Service Unit Operators, Oil and Gas","weight":1},{"OCC_TITLE":"Sheet Metal Workers","n":1,"name":"Sheet Metal Workers","weight":1},{"OCC_TITLE":"Transportation, Storage, and Distribution Managers","n":1,"name":"Transportation, Storage, and Distribution Managers","weight":1}],"type":"wordcloud"}],"xAxis":{"type":null,"title":{"text":[]},"categories":null}},"theme":{"chart":{"backgroundColor":"transparent"},"colors":["#7cb5ec","#434348","#90ed7d","#f7a35c","#8085e9","#f15c80","#e4d354","#2b908f","#f45b5b","#91e8e1"]},"conf_opts":{"global":{"Date":null,"VMLRadialGradientURL":"http =//code.highcharts.com/list(version)/gfx/vml-radial-gradient.png","canvasToolsURL":"http =//code.highcharts.com/list(version)/modules/canvas-tools.js","getTimezoneOffset":null,"timezoneOffset":0,"useUTC":true},"lang":{"contextButtonTitle":"Chart context menu","decimalPoint":".","downloadCSV":"Download CSV","downloadJPEG":"Download JPEG image","downloadPDF":"Download PDF document","downloadPNG":"Download PNG image","downloadSVG":"Download SVG vector image","downloadXLS":"Download XLS","drillUpText":"◁ Back to {series.name}","exitFullscreen":"Exit from full screen","exportData":{"annotationHeader":"Annotations","categoryDatetimeHeader":"DateTime","categoryHeader":"Category"},"hideData":"Hide data table","invalidDate":null,"loading":"Loading...","months":["January","February","March","April","May","June","July","August","September","October","November","December"],"noData":"No data to display","numericSymbolMagnitude":1000,"numericSymbols":["k","M","G","T","P","E"],"printChart":"Print chart","resetZoom":"Reset zoom","resetZoomTitle":"Reset zoom level 1:1","shortMonths":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"shortWeekdays":["Sat","Sun","Mon","Tue","Wed","Thu","Fri"],"thousandsSep":" ","viewData":"View data table","viewFullscreen":"View in full screen","weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},"type":"chart","fonts":[],"debug":false},"evals":[],"jsHooks":[]}</script>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a>green_construction_wordcloud</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="highchart html-widget html-fill-item" id="htmlwidget-3eb8dc0474e0d000444f" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-3eb8dc0474e0d000444f">{"x":{"hc_opts":{"chart":{"reflow":true},"title":{"text":"Word Cloud of Green Construction Job Titles"},"yAxis":{"title":{"text":[]}},"credits":{"enabled":false},"exporting":{"enabled":false},"boost":{"enabled":false},"plotOptions":{"series":{"label":{"enabled":false},"turboThreshold":0,"showInLegend":false},"treemap":{"layoutAlgorithm":"squarified"},"scatter":{"marker":{"symbol":"circle"}}},"series":[{"group":"group","data":[{"OCC_TITLE":null,"n":2,"name":null,"weight":2},{"OCC_TITLE":"Architects, Except Landscape and Naval","n":1,"name":"Architects, Except Landscape and Naval","weight":1},{"OCC_TITLE":"Architectural and Civil Drafters","n":1,"name":"Architectural and Civil Drafters","weight":1},{"OCC_TITLE":"Boilermakers","n":1,"name":"Boilermakers","weight":1},{"OCC_TITLE":"Carpenters","n":1,"name":"Carpenters","weight":1},{"OCC_TITLE":"Cement Masons and Concrete Finishers","n":1,"name":"Cement Masons and Concrete Finishers","weight":1},{"OCC_TITLE":"Civil Engineers","n":1,"name":"Civil Engineers","weight":1},{"OCC_TITLE":"Construction Laborers","n":1,"name":"Construction Laborers","weight":1},{"OCC_TITLE":"Construction Managers","n":1,"name":"Construction Managers","weight":1},{"OCC_TITLE":"Construction and Building Inspectors","n":1,"name":"Construction and Building Inspectors","weight":1},{"OCC_TITLE":"Electrical Engineers","n":1,"name":"Electrical Engineers","weight":1},{"OCC_TITLE":"Electricians","n":1,"name":"Electricians","weight":1},{"OCC_TITLE":"Financial and Investment Analysts","n":1,"name":"Financial and Investment Analysts","weight":1},{"OCC_TITLE":"Hazardous Materials Removal Workers","n":1,"name":"Hazardous Materials Removal Workers","weight":1},{"OCC_TITLE":"Heating, Air Conditioning, and Refrigeration Mechanics and Installers","n":1,"name":"Heating, Air Conditioning, and Refrigeration Mechanics and Installers","weight":1},{"OCC_TITLE":"Helpers--Carpenters","n":1,"name":"Helpers--Carpenters","weight":1},{"OCC_TITLE":"Helpers--Installation, Maintenance, and Repair Workers","n":1,"name":"Helpers--Installation, Maintenance, and Repair Workers","weight":1},{"OCC_TITLE":"Industrial Truck and Tractor Operators","n":1,"name":"Industrial Truck and Tractor Operators","weight":1},{"OCC_TITLE":"Insulation Workers, Floor, Ceiling, and Wall","n":1,"name":"Insulation Workers, Floor, Ceiling, and Wall","weight":1},{"OCC_TITLE":"Laborers and Freight, Stock, and Material Movers, Hand","n":1,"name":"Laborers and Freight, Stock, and Material Movers, Hand","weight":1},{"OCC_TITLE":"Landscape Architects","n":1,"name":"Landscape Architects","weight":1},{"OCC_TITLE":"Mechanical Engineers","n":1,"name":"Mechanical Engineers","weight":1},{"OCC_TITLE":"Operating Engineers and Other Construction Equipment Operators","n":1,"name":"Operating Engineers and Other Construction Equipment Operators","weight":1},{"OCC_TITLE":"Plumbers, Pipefitters, and Steamfitters","n":1,"name":"Plumbers, Pipefitters, and Steamfitters","weight":1},{"OCC_TITLE":"Power Plant Operators","n":1,"name":"Power Plant Operators","weight":1},{"OCC_TITLE":"Roofers","n":1,"name":"Roofers","weight":1},{"OCC_TITLE":"Sheet Metal Workers","n":1,"name":"Sheet Metal Workers","weight":1},{"OCC_TITLE":"Structural Iron and Steel Workers","n":1,"name":"Structural Iron and Steel Workers","weight":1},{"OCC_TITLE":"Structural Metal Fabricators and Fitters","n":1,"name":"Structural Metal Fabricators and Fitters","weight":1},{"OCC_TITLE":"Urban and Regional Planners","n":1,"name":"Urban and Regional Planners","weight":1},{"OCC_TITLE":"Welders, Cutters, Solderers, and Brazers","n":1,"name":"Welders, Cutters, Solderers, and Brazers","weight":1}],"type":"wordcloud"}],"xAxis":{"type":null,"title":{"text":[]},"categories":null}},"theme":{"chart":{"backgroundColor":"transparent"},"colors":["#7cb5ec","#434348","#90ed7d","#f7a35c","#8085e9","#f15c80","#e4d354","#2b908f","#f45b5b","#91e8e1"]},"conf_opts":{"global":{"Date":null,"VMLRadialGradientURL":"http =//code.highcharts.com/list(version)/gfx/vml-radial-gradient.png","canvasToolsURL":"http =//code.highcharts.com/list(version)/modules/canvas-tools.js","getTimezoneOffset":null,"timezoneOffset":0,"useUTC":true},"lang":{"contextButtonTitle":"Chart context menu","decimalPoint":".","downloadCSV":"Download CSV","downloadJPEG":"Download JPEG image","downloadPDF":"Download PDF document","downloadPNG":"Download PNG image","downloadSVG":"Download SVG vector image","downloadXLS":"Download XLS","drillUpText":"◁ Back to {series.name}","exitFullscreen":"Exit from full screen","exportData":{"annotationHeader":"Annotations","categoryDatetimeHeader":"DateTime","categoryHeader":"Category"},"hideData":"Hide data table","invalidDate":null,"loading":"Loading...","months":["January","February","March","April","May","June","July","August","September","October","November","December"],"noData":"No data to display","numericSymbolMagnitude":1000,"numericSymbols":["k","M","G","T","P","E"],"printChart":"Print chart","resetZoom":"Reset zoom","resetZoomTitle":"Reset zoom level 1:1","shortMonths":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"shortWeekdays":["Sat","Sun","Mon","Tue","Wed","Thu","Fri"],"thousandsSep":" ","viewData":"View data table","viewFullscreen":"View in full screen","weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},"type":"chart","fonts":[],"debug":false},"evals":[],"jsHooks":[]}</script>
</div>
<a class="quarto-notebook-link" id="nblink-18" href="index-preview.html">Source: Article Notebook</a></div>
<p>Let’s export for graphing</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Export the national jobs data to CSV for graphing</span></span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(national_jobs, <span class="fu">here</span>(<span class="st">"processed_data"</span>, <span class="st">"national_jobs.csv"</span>), <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span>
<span id="cb62-3"><a href="#cb62-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-4"><a href="#cb62-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Export the job_type_summary dataset to CSV for graphing</span></span>
<span id="cb62-5"><a href="#cb62-5" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(job_type_summary, <span class="fu">here</span>(<span class="st">"processed_data"</span>, <span class="st">"national_job_type_summary.csv"</span>), <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<a class="quarto-notebook-link" id="nblink-19" href="index-preview.html">Source: Article Notebook</a></div>
</section>
<section id="green-jobs-in-st.-paul" class="level4">
<h4 class="anchored" data-anchor-id="green-jobs-in-st.-paul">Green jobs in St.&nbsp;Paul</h4>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Import St. Paul jobs data</span></span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a>st_paul_jobs <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="fu">here</span>(<span class="st">"processed_data"</span>, <span class="st">"OWES_and_ONET-St_Paul.csv"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr hidden">
<pre><code>Rows: 742 Columns: 34
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr (26): AREA_TITLE, PRIM_STATE, NAICS_TITLE, I_GROUP, OCC_CODE, OCC_TITLE,...
dbl  (4): AREA, AREA_TYPE, NAICS, OWN_CODE
lgl  (4): PCT_TOTAL, PCT_RPT, ANNUAL, HOURLY

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(st_paul_jobs, <span class="fu">here</span>(<span class="st">"processed_data"</span>, <span class="st">"st_paul_jobs.rds"</span>))</span>
<span id="cb65-2"><a href="#cb65-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-3"><a href="#cb65-3" aria-hidden="true" tabindex="-1"></a>st_paul_jobs <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="fu">here</span>(<span class="st">"processed_data"</span>, <span class="st">"st_paul_jobs.rds"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<a class="quarto-notebook-link" id="nblink-20" href="index-preview.html">Source: Article Notebook</a></div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert necessary columns to numeric where needed</span></span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a>st_paul_jobs <span class="ot">&lt;-</span> st_paul_jobs <span class="sc">%&gt;%</span></span>
<span id="cb66-3"><a href="#cb66-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb66-4"><a href="#cb66-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">TOT_EMP =</span> <span class="fu">as.numeric</span>(TOT_EMP),</span>
<span id="cb66-5"><a href="#cb66-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">H_MEAN =</span> <span class="fu">as.numeric</span>(H_MEAN),</span>
<span id="cb66-6"><a href="#cb66-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">A_MEAN =</span> <span class="fu">as.numeric</span>(A_MEAN),</span>
<span id="cb66-7"><a href="#cb66-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">A_MEDIAN =</span> <span class="fu">as.numeric</span>(A_MEDIAN),</span>
<span id="cb66-8"><a href="#cb66-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">H_MEDIAN =</span> <span class="fu">as.numeric</span>(H_MEDIAN)</span>
<span id="cb66-9"><a href="#cb66-9" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr hidden">
<pre><code>Warning: There were 5 warnings in `mutate()`.
The first warning was:
ℹ In argument: `TOT_EMP = as.numeric(TOT_EMP)`.
Caused by warning:
! NAs introduced by coercion
ℹ Run `dplyr::last_dplyr_warnings()` to see the 4 remaining warnings.</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter the dataset to include only relevant green sectors</span></span>
<span id="cb68-2"><a href="#cb68-2" aria-hidden="true" tabindex="-1"></a>filtered_st_paul_jobs <span class="ot">&lt;-</span> st_paul_jobs <span class="sc">%&gt;%</span></span>
<span id="cb68-3"><a href="#cb68-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="st">`</span><span class="at">O*NET-SOC Sector</span><span class="st">`</span> <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Energy Efficiency"</span>, <span class="st">"Renewable Energy Generation"</span>, <span class="st">"Green Construction"</span>))</span>
<span id="cb68-4"><a href="#cb68-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb68-5"><a href="#cb68-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Function to summarize data for each sector</span></span>
<span id="cb68-6"><a href="#cb68-6" aria-hidden="true" tabindex="-1"></a>summarize_by_sector <span class="ot">&lt;-</span> <span class="cf">function</span>(df) {</span>
<span id="cb68-7"><a href="#cb68-7" aria-hidden="true" tabindex="-1"></a>  df <span class="sc">%&gt;%</span></span>
<span id="cb68-8"><a href="#cb68-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarize</span>(</span>
<span id="cb68-9"><a href="#cb68-9" aria-hidden="true" tabindex="-1"></a>      <span class="at">TOT_EMP =</span> <span class="fu">sum</span>(TOT_EMP, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb68-10"><a href="#cb68-10" aria-hidden="true" tabindex="-1"></a>      <span class="at">H_MEAN =</span> <span class="fu">mean</span>(H_MEAN, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb68-11"><a href="#cb68-11" aria-hidden="true" tabindex="-1"></a>      <span class="at">A_MEAN =</span> <span class="fu">mean</span>(A_MEAN, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb68-12"><a href="#cb68-12" aria-hidden="true" tabindex="-1"></a>      <span class="at">A_MEDIAN =</span> <span class="fu">median</span>(A_MEDIAN, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb68-13"><a href="#cb68-13" aria-hidden="true" tabindex="-1"></a>      <span class="at">H_MEDIAN =</span> <span class="fu">median</span>(H_MEDIAN, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb68-14"><a href="#cb68-14" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb68-15"><a href="#cb68-15" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb68-16"><a href="#cb68-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb68-17"><a href="#cb68-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Summarize the data for each sector and overall</span></span>
<span id="cb68-18"><a href="#cb68-18" aria-hidden="true" tabindex="-1"></a>sector_summary_st_paul <span class="ot">&lt;-</span> filtered_st_paul_jobs <span class="sc">%&gt;%</span></span>
<span id="cb68-19"><a href="#cb68-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(<span class="st">`</span><span class="at">O*NET-SOC Sector</span><span class="st">`</span>) <span class="sc">%&gt;%</span></span>
<span id="cb68-20"><a href="#cb68-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize_by_sector</span>()</span>
<span id="cb68-21"><a href="#cb68-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb68-22"><a href="#cb68-22" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the summary for all sectors combined</span></span>
<span id="cb68-23"><a href="#cb68-23" aria-hidden="true" tabindex="-1"></a>overall_summary_st_paul <span class="ot">&lt;-</span> filtered_st_paul_jobs <span class="sc">%&gt;%</span></span>
<span id="cb68-24"><a href="#cb68-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize_by_sector</span>()</span>
<span id="cb68-25"><a href="#cb68-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb68-26"><a href="#cb68-26" aria-hidden="true" tabindex="-1"></a><span class="co"># Combine the results: sector-wise and overall</span></span>
<span id="cb68-27"><a href="#cb68-27" aria-hidden="true" tabindex="-1"></a>final_summary_st_paul <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(sector_summary_st_paul, <span class="fu">tibble</span>(<span class="st">`</span><span class="at">O*NET-SOC Sector</span><span class="st">`</span> <span class="ot">=</span> <span class="st">"All"</span>, overall_summary_st_paul))</span>
<span id="cb68-28"><a href="#cb68-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb68-29"><a href="#cb68-29" aria-hidden="true" tabindex="-1"></a><span class="co"># Save the final summary as an RDS file and CSV for future reference</span></span>
<span id="cb68-30"><a href="#cb68-30" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(final_summary_st_paul, <span class="fu">here</span>(<span class="st">"processed_data"</span>, <span class="st">"sector_summary_st_paul.rds"</span>))</span>
<span id="cb68-31"><a href="#cb68-31" aria-hidden="true" tabindex="-1"></a><span class="fu">write_csv</span>(final_summary_st_paul, <span class="fu">here</span>(<span class="st">"processed_data"</span>, <span class="st">"sector_summary_st_paul.csv"</span>))</span>
<span id="cb68-32"><a href="#cb68-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb68-33"><a href="#cb68-33" aria-hidden="true" tabindex="-1"></a><span class="co"># Output the final summary to the user</span></span>
<span id="cb68-34"><a href="#cb68-34" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(final_summary_st_paul)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 6
  `O*NET-SOC Sector`          TOT_EMP H_MEAN A_MEAN A_MEDIAN H_MEDIAN
  &lt;chr&gt;                         &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;
1 Energy Efficiency             66410   45.5 94669.    98740     47.5
2 Green Construction           124680   37.9 78809.    75800     36.4
3 Renewable Energy Generation   23250   44.7 92991.    99690     47.9
4 All                          214340   40.7 84562.    82170     39.5</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate total employment and sector percentages for St. Paul</span></span>
<span id="cb70-2"><a href="#cb70-2" aria-hidden="true" tabindex="-1"></a>total_green_jobs_st_paul <span class="ot">&lt;-</span> final_summary_st_paul <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="st">`</span><span class="at">O*NET-SOC Sector</span><span class="st">`</span> <span class="sc">==</span> <span class="st">"All"</span>) <span class="sc">%&gt;%</span> <span class="fu">pull</span>(TOT_EMP)</span>
<span id="cb70-3"><a href="#cb70-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-4"><a href="#cb70-4" aria-hidden="true" tabindex="-1"></a>energy_efficiency_jobs_st_paul <span class="ot">&lt;-</span> final_summary_st_paul <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="st">`</span><span class="at">O*NET-SOC Sector</span><span class="st">`</span> <span class="sc">==</span> <span class="st">"Energy Efficiency"</span>) <span class="sc">%&gt;%</span> <span class="fu">pull</span>(TOT_EMP)</span>
<span id="cb70-5"><a href="#cb70-5" aria-hidden="true" tabindex="-1"></a>green_construction_jobs_st_paul <span class="ot">&lt;-</span> final_summary_st_paul <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="st">`</span><span class="at">O*NET-SOC Sector</span><span class="st">`</span> <span class="sc">==</span> <span class="st">"Green Construction"</span>) <span class="sc">%&gt;%</span> <span class="fu">pull</span>(TOT_EMP)</span>
<span id="cb70-6"><a href="#cb70-6" aria-hidden="true" tabindex="-1"></a>renewable_energy_jobs_st_paul <span class="ot">&lt;-</span> final_summary_st_paul <span class="sc">%&gt;%</span> <span class="fu">filter</span>(<span class="st">`</span><span class="at">O*NET-SOC Sector</span><span class="st">`</span> <span class="sc">==</span> <span class="st">"Renewable Energy Generation"</span>) <span class="sc">%&gt;%</span> <span class="fu">pull</span>(TOT_EMP)</span>
<span id="cb70-7"><a href="#cb70-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-8"><a href="#cb70-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the percentages</span></span>
<span id="cb70-9"><a href="#cb70-9" aria-hidden="true" tabindex="-1"></a>energy_efficiency_pct_st_paul <span class="ot">&lt;-</span> <span class="fu">round</span>((energy_efficiency_jobs_st_paul <span class="sc">/</span> total_green_jobs_st_paul) <span class="sc">*</span> <span class="dv">100</span>, <span class="dv">2</span>)</span>
<span id="cb70-10"><a href="#cb70-10" aria-hidden="true" tabindex="-1"></a>green_construction_pct_st_paul <span class="ot">&lt;-</span> <span class="fu">round</span>((green_construction_jobs_st_paul <span class="sc">/</span> total_green_jobs_st_paul) <span class="sc">*</span> <span class="dv">100</span>, <span class="dv">2</span>)</span>
<span id="cb70-11"><a href="#cb70-11" aria-hidden="true" tabindex="-1"></a>renewable_energy_pct_st_paul <span class="ot">&lt;-</span> <span class="fu">round</span>((renewable_energy_jobs_st_paul <span class="sc">/</span> total_green_jobs_st_paul) <span class="sc">*</span> <span class="dv">100</span>, <span class="dv">2</span>)</span>
<span id="cb70-12"><a href="#cb70-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-13"><a href="#cb70-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the concatenated sentence for St. Paul</span></span>
<span id="cb70-14"><a href="#cb70-14" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"There's a total of"</span>, <span class="fu">format</span>(total_green_jobs_st_paul, <span class="at">big.mark =</span> <span class="st">","</span>, <span class="at">scientific =</span> <span class="cn">FALSE</span>), </span>
<span id="cb70-15"><a href="#cb70-15" aria-hidden="true" tabindex="-1"></a>    <span class="st">"employed people in green jobs in Saint Paul. Specifically, in Energy Efficiency, there are"</span>, </span>
<span id="cb70-16"><a href="#cb70-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">format</span>(energy_efficiency_jobs_st_paul, <span class="at">big.mark =</span> <span class="st">","</span>, <span class="at">scientific =</span> <span class="cn">FALSE</span>), </span>
<span id="cb70-17"><a href="#cb70-17" aria-hidden="true" tabindex="-1"></a>    <span class="st">"("</span>, energy_efficiency_pct_st_paul, <span class="st">"%), in Green Construction there are"</span>, </span>
<span id="cb70-18"><a href="#cb70-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">format</span>(green_construction_jobs_st_paul, <span class="at">big.mark =</span> <span class="st">","</span>, <span class="at">scientific =</span> <span class="cn">FALSE</span>), </span>
<span id="cb70-19"><a href="#cb70-19" aria-hidden="true" tabindex="-1"></a>    <span class="st">"("</span>, green_construction_pct_st_paul, <span class="st">"%), and in Renewable Energy Generation there are"</span>, </span>
<span id="cb70-20"><a href="#cb70-20" aria-hidden="true" tabindex="-1"></a>    <span class="fu">format</span>(renewable_energy_jobs_st_paul, <span class="at">big.mark =</span> <span class="st">","</span>, <span class="at">scientific =</span> <span class="cn">FALSE</span>), </span>
<span id="cb70-21"><a href="#cb70-21" aria-hidden="true" tabindex="-1"></a>    <span class="st">"("</span>, renewable_energy_pct_st_paul, <span class="st">"%).</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>There's a total of 214,340 employed people in green jobs in Saint Paul. Specifically, in Energy Efficiency, there are 66,410 ( 30.98 %), in Green Construction there are 124,680 ( 58.17 %), and in Renewable Energy Generation there are 23,250 ( 10.85 %).</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Visualizing TOT_EMP across the green sectors for St. Paul</span></span>
<span id="cb72-2"><a href="#cb72-2" aria-hidden="true" tabindex="-1"></a>final_summary_st_paul <span class="ot">&lt;-</span> final_summary_st_paul <span class="sc">%&gt;%</span></span>
<span id="cb72-3"><a href="#cb72-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="st">`</span><span class="at">O*NET-SOC Sector</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">factor</span>(<span class="st">`</span><span class="at">O*NET-SOC Sector</span><span class="st">`</span>, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"Energy Efficiency"</span>, <span class="st">"Green Construction"</span>, <span class="st">"Renewable Energy Generation"</span>, <span class="st">"All"</span>)))</span>
<span id="cb72-4"><a href="#cb72-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb72-5"><a href="#cb72-5" aria-hidden="true" tabindex="-1"></a><span class="fu">hchart</span>(final_summary_st_paul, <span class="st">"column"</span>, <span class="fu">hcaes</span>(<span class="at">x =</span> <span class="st">`</span><span class="at">O*NET-SOC Sector</span><span class="st">`</span>, <span class="at">y =</span> TOT_EMP)) <span class="sc">%&gt;%</span></span>
<span id="cb72-6"><a href="#cb72-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_title</span>(<span class="at">text =</span> <span class="st">"Total Employment by Sector in Saint Paul"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb72-7"><a href="#cb72-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_xAxis</span>(<span class="at">title =</span> <span class="fu">list</span>(<span class="at">text =</span> <span class="st">"Sector"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb72-8"><a href="#cb72-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_yAxis</span>(<span class="at">title =</span> <span class="fu">list</span>(<span class="at">text =</span> <span class="st">"Total Employment"</span>), <span class="at">labels =</span> <span class="fu">list</span>(<span class="at">format =</span> <span class="st">"{value:,0f}"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb72-9"><a href="#cb72-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_tooltip</span>(<span class="at">pointFormat =</span> <span class="st">'&lt;b&gt;{point.y:,0f}&lt;/b&gt;'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="highchart html-widget html-fill-item" id="htmlwidget-fbeb7fb719f762388856" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-fbeb7fb719f762388856">{"x":{"hc_opts":{"chart":{"reflow":true},"title":{"text":"Total Employment by Sector in Saint Paul"},"yAxis":{"title":{"text":"Total Employment"},"type":"linear","labels":{"format":"{value:,0f}"}},"credits":{"enabled":false},"exporting":{"enabled":false},"boost":{"enabled":false},"plotOptions":{"series":{"label":{"enabled":false},"turboThreshold":0,"showInLegend":false},"treemap":{"layoutAlgorithm":"squarified"},"scatter":{"marker":{"symbol":"circle"}}},"series":[{"group":"group","data":[{"O*NET-SOC Sector":"Energy Efficiency","TOT_EMP":66410,"H_MEAN":45.51333333333334,"A_MEAN":94668.88888888889,"A_MEDIAN":98740,"H_MEDIAN":47.47,"y":66410,"name":"Energy Efficiency"},{"O*NET-SOC Sector":"Green Construction","TOT_EMP":124680,"H_MEAN":37.88896551724138,"A_MEAN":78808.96551724138,"A_MEDIAN":75800,"H_MEDIAN":36.44,"y":124680,"name":"Green Construction"},{"O*NET-SOC Sector":"Renewable Energy Generation","TOT_EMP":23250,"H_MEAN":44.70666666666666,"A_MEAN":92991.11111111111,"A_MEDIAN":99690,"H_MEDIAN":47.93,"y":23250,"name":"Renewable Energy Generation"},{"O*NET-SOC Sector":"All","TOT_EMP":214340,"H_MEAN":40.65446808510638,"A_MEAN":84561.70212765958,"A_MEDIAN":82170,"H_MEDIAN":39.51,"y":214340,"name":"All"}],"type":"column"}],"xAxis":{"type":"category","title":{"text":"Sector"}},"tooltip":{"pointFormat":"<b>{point.y:,0f}<\/b>"}},"theme":{"chart":{"backgroundColor":"transparent"},"colors":["#7cb5ec","#434348","#90ed7d","#f7a35c","#8085e9","#f15c80","#e4d354","#2b908f","#f45b5b","#91e8e1"]},"conf_opts":{"global":{"Date":null,"VMLRadialGradientURL":"http =//code.highcharts.com/list(version)/gfx/vml-radial-gradient.png","canvasToolsURL":"http =//code.highcharts.com/list(version)/modules/canvas-tools.js","getTimezoneOffset":null,"timezoneOffset":0,"useUTC":true},"lang":{"contextButtonTitle":"Chart context menu","decimalPoint":".","downloadCSV":"Download CSV","downloadJPEG":"Download JPEG image","downloadPDF":"Download PDF document","downloadPNG":"Download PNG image","downloadSVG":"Download SVG vector image","downloadXLS":"Download XLS","drillUpText":"◁ Back to {series.name}","exitFullscreen":"Exit from full screen","exportData":{"annotationHeader":"Annotations","categoryDatetimeHeader":"DateTime","categoryHeader":"Category"},"hideData":"Hide data table","invalidDate":null,"loading":"Loading...","months":["January","February","March","April","May","June","July","August","September","October","November","December"],"noData":"No data to display","numericSymbolMagnitude":1000,"numericSymbols":["k","M","G","T","P","E"],"printChart":"Print chart","resetZoom":"Reset zoom","resetZoomTitle":"Reset zoom level 1:1","shortMonths":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"shortWeekdays":["Sat","Sun","Mon","Tue","Wed","Thu","Fri"],"thousandsSep":" ","viewData":"View data table","viewFullscreen":"View in full screen","weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},"type":"chart","fonts":[],"debug":false},"evals":[],"jsHooks":[]}</script>
</div>
<a class="quarto-notebook-link" id="nblink-21" href="index-preview.html">Source: Article Notebook</a></div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert the O*NET-SOC Sector to a factor for ordering in the chart for St. Paul</span></span>
<span id="cb73-2"><a href="#cb73-2" aria-hidden="true" tabindex="-1"></a>final_summary_st_paul <span class="ot">&lt;-</span> final_summary_st_paul <span class="sc">%&gt;%</span></span>
<span id="cb73-3"><a href="#cb73-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="st">`</span><span class="at">O*NET-SOC Sector</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">factor</span>(<span class="st">`</span><span class="at">O*NET-SOC Sector</span><span class="st">`</span>, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"Energy Efficiency"</span>, <span class="st">"Green Construction"</span>, <span class="st">"Renewable Energy Generation"</span>, <span class="st">"All"</span>)))</span>
<span id="cb73-4"><a href="#cb73-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb73-5"><a href="#cb73-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Visualizing TOT_EMP across the sectors for St. Paul</span></span>
<span id="cb73-6"><a href="#cb73-6" aria-hidden="true" tabindex="-1"></a><span class="fu">hchart</span>(final_summary_st_paul, <span class="st">"column"</span>, <span class="fu">hcaes</span>(<span class="at">x =</span> <span class="st">`</span><span class="at">O*NET-SOC Sector</span><span class="st">`</span>, <span class="at">y =</span> TOT_EMP)) <span class="sc">%&gt;%</span></span>
<span id="cb73-7"><a href="#cb73-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_title</span>(<span class="at">text =</span> <span class="st">"Total Employment by Sector in Saint Paul"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb73-8"><a href="#cb73-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_xAxis</span>(<span class="at">title =</span> <span class="fu">list</span>(<span class="at">text =</span> <span class="st">"Sector"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb73-9"><a href="#cb73-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_yAxis</span>(<span class="at">title =</span> <span class="fu">list</span>(<span class="at">text =</span> <span class="st">"Total Employment"</span>), <span class="at">labels =</span> <span class="fu">list</span>(<span class="at">format =</span> <span class="st">"{value:,0f}"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb73-10"><a href="#cb73-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_tooltip</span>(<span class="at">pointFormat =</span> <span class="st">'&lt;b&gt;{point.y:,0f}&lt;/b&gt;'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="highchart html-widget html-fill-item" id="htmlwidget-9e7a225a688c0e3d6f0f" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-9e7a225a688c0e3d6f0f">{"x":{"hc_opts":{"chart":{"reflow":true},"title":{"text":"Total Employment by Sector in Saint Paul"},"yAxis":{"title":{"text":"Total Employment"},"type":"linear","labels":{"format":"{value:,0f}"}},"credits":{"enabled":false},"exporting":{"enabled":false},"boost":{"enabled":false},"plotOptions":{"series":{"label":{"enabled":false},"turboThreshold":0,"showInLegend":false},"treemap":{"layoutAlgorithm":"squarified"},"scatter":{"marker":{"symbol":"circle"}}},"series":[{"group":"group","data":[{"O*NET-SOC Sector":"Energy Efficiency","TOT_EMP":66410,"H_MEAN":45.51333333333334,"A_MEAN":94668.88888888889,"A_MEDIAN":98740,"H_MEDIAN":47.47,"y":66410,"name":"Energy Efficiency"},{"O*NET-SOC Sector":"Green Construction","TOT_EMP":124680,"H_MEAN":37.88896551724138,"A_MEAN":78808.96551724138,"A_MEDIAN":75800,"H_MEDIAN":36.44,"y":124680,"name":"Green Construction"},{"O*NET-SOC Sector":"Renewable Energy Generation","TOT_EMP":23250,"H_MEAN":44.70666666666666,"A_MEAN":92991.11111111111,"A_MEDIAN":99690,"H_MEDIAN":47.93,"y":23250,"name":"Renewable Energy Generation"},{"O*NET-SOC Sector":"All","TOT_EMP":214340,"H_MEAN":40.65446808510638,"A_MEAN":84561.70212765958,"A_MEDIAN":82170,"H_MEDIAN":39.51,"y":214340,"name":"All"}],"type":"column"}],"xAxis":{"type":"category","title":{"text":"Sector"}},"tooltip":{"pointFormat":"<b>{point.y:,0f}<\/b>"}},"theme":{"chart":{"backgroundColor":"transparent"},"colors":["#7cb5ec","#434348","#90ed7d","#f7a35c","#8085e9","#f15c80","#e4d354","#2b908f","#f45b5b","#91e8e1"]},"conf_opts":{"global":{"Date":null,"VMLRadialGradientURL":"http =//code.highcharts.com/list(version)/gfx/vml-radial-gradient.png","canvasToolsURL":"http =//code.highcharts.com/list(version)/modules/canvas-tools.js","getTimezoneOffset":null,"timezoneOffset":0,"useUTC":true},"lang":{"contextButtonTitle":"Chart context menu","decimalPoint":".","downloadCSV":"Download CSV","downloadJPEG":"Download JPEG image","downloadPDF":"Download PDF document","downloadPNG":"Download PNG image","downloadSVG":"Download SVG vector image","downloadXLS":"Download XLS","drillUpText":"◁ Back to {series.name}","exitFullscreen":"Exit from full screen","exportData":{"annotationHeader":"Annotations","categoryDatetimeHeader":"DateTime","categoryHeader":"Category"},"hideData":"Hide data table","invalidDate":null,"loading":"Loading...","months":["January","February","March","April","May","June","July","August","September","October","November","December"],"noData":"No data to display","numericSymbolMagnitude":1000,"numericSymbols":["k","M","G","T","P","E"],"printChart":"Print chart","resetZoom":"Reset zoom","resetZoomTitle":"Reset zoom level 1:1","shortMonths":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"shortWeekdays":["Sat","Sun","Mon","Tue","Wed","Thu","Fri"],"thousandsSep":" ","viewData":"View data table","viewFullscreen":"View in full screen","weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},"type":"chart","fonts":[],"debug":false},"evals":[],"jsHooks":[]}</script>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Visualizing H_MEAN (Mean Hourly Wage) across the sectors for St. Paul</span></span>
<span id="cb74-2"><a href="#cb74-2" aria-hidden="true" tabindex="-1"></a><span class="fu">hchart</span>(final_summary_st_paul, <span class="st">"column"</span>, <span class="fu">hcaes</span>(<span class="at">x =</span> <span class="st">`</span><span class="at">O*NET-SOC Sector</span><span class="st">`</span>, <span class="at">y =</span> H_MEAN)) <span class="sc">%&gt;%</span></span>
<span id="cb74-3"><a href="#cb74-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_title</span>(<span class="at">text =</span> <span class="st">"Mean Hourly Wage by Sector in Saint Paul"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb74-4"><a href="#cb74-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_xAxis</span>(<span class="at">title =</span> <span class="fu">list</span>(<span class="at">text =</span> <span class="st">"Sector"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb74-5"><a href="#cb74-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_yAxis</span>(<span class="at">title =</span> <span class="fu">list</span>(<span class="at">text =</span> <span class="st">"Mean Hourly Wage (USD)"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb74-6"><a href="#cb74-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_tooltip</span>(<span class="at">pointFormat =</span> <span class="st">'&lt;b&gt;{point.y:.2f} USD&lt;/b&gt;'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="highchart html-widget html-fill-item" id="htmlwidget-721c1314463259b667ae" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-721c1314463259b667ae">{"x":{"hc_opts":{"chart":{"reflow":true},"title":{"text":"Mean Hourly Wage by Sector in Saint Paul"},"yAxis":{"title":{"text":"Mean Hourly Wage (USD)"},"type":"linear"},"credits":{"enabled":false},"exporting":{"enabled":false},"boost":{"enabled":false},"plotOptions":{"series":{"label":{"enabled":false},"turboThreshold":0,"showInLegend":false},"treemap":{"layoutAlgorithm":"squarified"},"scatter":{"marker":{"symbol":"circle"}}},"series":[{"group":"group","data":[{"O*NET-SOC Sector":"Energy Efficiency","TOT_EMP":66410,"H_MEAN":45.51333333333334,"A_MEAN":94668.88888888889,"A_MEDIAN":98740,"H_MEDIAN":47.47,"y":45.51333333333334,"name":"Energy Efficiency"},{"O*NET-SOC Sector":"Green Construction","TOT_EMP":124680,"H_MEAN":37.88896551724138,"A_MEAN":78808.96551724138,"A_MEDIAN":75800,"H_MEDIAN":36.44,"y":37.88896551724138,"name":"Green Construction"},{"O*NET-SOC Sector":"Renewable Energy Generation","TOT_EMP":23250,"H_MEAN":44.70666666666666,"A_MEAN":92991.11111111111,"A_MEDIAN":99690,"H_MEDIAN":47.93,"y":44.70666666666666,"name":"Renewable Energy Generation"},{"O*NET-SOC Sector":"All","TOT_EMP":214340,"H_MEAN":40.65446808510638,"A_MEAN":84561.70212765958,"A_MEDIAN":82170,"H_MEDIAN":39.51,"y":40.65446808510638,"name":"All"}],"type":"column"}],"xAxis":{"type":"category","title":{"text":"Sector"}},"tooltip":{"pointFormat":"<b>{point.y:.2f} USD<\/b>"}},"theme":{"chart":{"backgroundColor":"transparent"},"colors":["#7cb5ec","#434348","#90ed7d","#f7a35c","#8085e9","#f15c80","#e4d354","#2b908f","#f45b5b","#91e8e1"]},"conf_opts":{"global":{"Date":null,"VMLRadialGradientURL":"http =//code.highcharts.com/list(version)/gfx/vml-radial-gradient.png","canvasToolsURL":"http =//code.highcharts.com/list(version)/modules/canvas-tools.js","getTimezoneOffset":null,"timezoneOffset":0,"useUTC":true},"lang":{"contextButtonTitle":"Chart context menu","decimalPoint":".","downloadCSV":"Download CSV","downloadJPEG":"Download JPEG image","downloadPDF":"Download PDF document","downloadPNG":"Download PNG image","downloadSVG":"Download SVG vector image","downloadXLS":"Download XLS","drillUpText":"◁ Back to {series.name}","exitFullscreen":"Exit from full screen","exportData":{"annotationHeader":"Annotations","categoryDatetimeHeader":"DateTime","categoryHeader":"Category"},"hideData":"Hide data table","invalidDate":null,"loading":"Loading...","months":["January","February","March","April","May","June","July","August","September","October","November","December"],"noData":"No data to display","numericSymbolMagnitude":1000,"numericSymbols":["k","M","G","T","P","E"],"printChart":"Print chart","resetZoom":"Reset zoom","resetZoomTitle":"Reset zoom level 1:1","shortMonths":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"shortWeekdays":["Sat","Sun","Mon","Tue","Wed","Thu","Fri"],"thousandsSep":" ","viewData":"View data table","viewFullscreen":"View in full screen","weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},"type":"chart","fonts":[],"debug":false},"evals":[],"jsHooks":[]}</script>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Visualizing A_MEAN (Mean Annual Wage) across the sectors for St. Paul</span></span>
<span id="cb75-2"><a href="#cb75-2" aria-hidden="true" tabindex="-1"></a><span class="fu">hchart</span>(final_summary_st_paul, <span class="st">"column"</span>, <span class="fu">hcaes</span>(<span class="at">x =</span> <span class="st">`</span><span class="at">O*NET-SOC Sector</span><span class="st">`</span>, <span class="at">y =</span> A_MEAN)) <span class="sc">%&gt;%</span></span>
<span id="cb75-3"><a href="#cb75-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_title</span>(<span class="at">text =</span> <span class="st">"Mean Annual Wage by Sector in Saint Paul"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb75-4"><a href="#cb75-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_xAxis</span>(<span class="at">title =</span> <span class="fu">list</span>(<span class="at">text =</span> <span class="st">"Sector"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb75-5"><a href="#cb75-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_yAxis</span>(<span class="at">title =</span> <span class="fu">list</span>(<span class="at">text =</span> <span class="st">"Mean Annual Wage (USD)"</span>), <span class="at">labels =</span> <span class="fu">list</span>(<span class="at">format =</span> <span class="st">"{value:,0f}"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb75-6"><a href="#cb75-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_tooltip</span>(<span class="at">pointFormat =</span> <span class="st">'&lt;b&gt;{point.y:,0f} USD&lt;/b&gt;'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="highchart html-widget html-fill-item" id="htmlwidget-7b7ba93f7fbff5c853dd" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-7b7ba93f7fbff5c853dd">{"x":{"hc_opts":{"chart":{"reflow":true},"title":{"text":"Mean Annual Wage by Sector in Saint Paul"},"yAxis":{"title":{"text":"Mean Annual Wage (USD)"},"type":"linear","labels":{"format":"{value:,0f}"}},"credits":{"enabled":false},"exporting":{"enabled":false},"boost":{"enabled":false},"plotOptions":{"series":{"label":{"enabled":false},"turboThreshold":0,"showInLegend":false},"treemap":{"layoutAlgorithm":"squarified"},"scatter":{"marker":{"symbol":"circle"}}},"series":[{"group":"group","data":[{"O*NET-SOC Sector":"Energy Efficiency","TOT_EMP":66410,"H_MEAN":45.51333333333334,"A_MEAN":94668.88888888889,"A_MEDIAN":98740,"H_MEDIAN":47.47,"y":94668.88888888889,"name":"Energy Efficiency"},{"O*NET-SOC Sector":"Green Construction","TOT_EMP":124680,"H_MEAN":37.88896551724138,"A_MEAN":78808.96551724138,"A_MEDIAN":75800,"H_MEDIAN":36.44,"y":78808.96551724138,"name":"Green Construction"},{"O*NET-SOC Sector":"Renewable Energy Generation","TOT_EMP":23250,"H_MEAN":44.70666666666666,"A_MEAN":92991.11111111111,"A_MEDIAN":99690,"H_MEDIAN":47.93,"y":92991.11111111111,"name":"Renewable Energy Generation"},{"O*NET-SOC Sector":"All","TOT_EMP":214340,"H_MEAN":40.65446808510638,"A_MEAN":84561.70212765958,"A_MEDIAN":82170,"H_MEDIAN":39.51,"y":84561.70212765958,"name":"All"}],"type":"column"}],"xAxis":{"type":"category","title":{"text":"Sector"}},"tooltip":{"pointFormat":"<b>{point.y:,0f} USD<\/b>"}},"theme":{"chart":{"backgroundColor":"transparent"},"colors":["#7cb5ec","#434348","#90ed7d","#f7a35c","#8085e9","#f15c80","#e4d354","#2b908f","#f45b5b","#91e8e1"]},"conf_opts":{"global":{"Date":null,"VMLRadialGradientURL":"http =//code.highcharts.com/list(version)/gfx/vml-radial-gradient.png","canvasToolsURL":"http =//code.highcharts.com/list(version)/modules/canvas-tools.js","getTimezoneOffset":null,"timezoneOffset":0,"useUTC":true},"lang":{"contextButtonTitle":"Chart context menu","decimalPoint":".","downloadCSV":"Download CSV","downloadJPEG":"Download JPEG image","downloadPDF":"Download PDF document","downloadPNG":"Download PNG image","downloadSVG":"Download SVG vector image","downloadXLS":"Download XLS","drillUpText":"◁ Back to {series.name}","exitFullscreen":"Exit from full screen","exportData":{"annotationHeader":"Annotations","categoryDatetimeHeader":"DateTime","categoryHeader":"Category"},"hideData":"Hide data table","invalidDate":null,"loading":"Loading...","months":["January","February","March","April","May","June","July","August","September","October","November","December"],"noData":"No data to display","numericSymbolMagnitude":1000,"numericSymbols":["k","M","G","T","P","E"],"printChart":"Print chart","resetZoom":"Reset zoom","resetZoomTitle":"Reset zoom level 1:1","shortMonths":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"shortWeekdays":["Sat","Sun","Mon","Tue","Wed","Thu","Fri"],"thousandsSep":" ","viewData":"View data table","viewFullscreen":"View in full screen","weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},"type":"chart","fonts":[],"debug":false},"evals":[],"jsHooks":[]}</script>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Visualizing A_MEDIAN (Median Annual Wage) across the sectors for St. Paul</span></span>
<span id="cb76-2"><a href="#cb76-2" aria-hidden="true" tabindex="-1"></a><span class="fu">hchart</span>(final_summary_st_paul, <span class="st">"column"</span>, <span class="fu">hcaes</span>(<span class="at">x =</span> <span class="st">`</span><span class="at">O*NET-SOC Sector</span><span class="st">`</span>, <span class="at">y =</span> A_MEDIAN)) <span class="sc">%&gt;%</span></span>
<span id="cb76-3"><a href="#cb76-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_title</span>(<span class="at">text =</span> <span class="st">"Median Annual Wage by Sector in Saint Paul"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb76-4"><a href="#cb76-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_xAxis</span>(<span class="at">title =</span> <span class="fu">list</span>(<span class="at">text =</span> <span class="st">"Sector"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb76-5"><a href="#cb76-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_yAxis</span>(<span class="at">title =</span> <span class="fu">list</span>(<span class="at">text =</span> <span class="st">"Median Annual Wage (USD)"</span>), <span class="at">labels =</span> <span class="fu">list</span>(<span class="at">format =</span> <span class="st">"{value:,0f}"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb76-6"><a href="#cb76-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_tooltip</span>(<span class="at">pointFormat =</span> <span class="st">'&lt;b&gt;{point.y:,0f} USD&lt;/b&gt;'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="highchart html-widget html-fill-item" id="htmlwidget-cc3208b03452ab740e68" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-cc3208b03452ab740e68">{"x":{"hc_opts":{"chart":{"reflow":true},"title":{"text":"Median Annual Wage by Sector in Saint Paul"},"yAxis":{"title":{"text":"Median Annual Wage (USD)"},"type":"linear","labels":{"format":"{value:,0f}"}},"credits":{"enabled":false},"exporting":{"enabled":false},"boost":{"enabled":false},"plotOptions":{"series":{"label":{"enabled":false},"turboThreshold":0,"showInLegend":false},"treemap":{"layoutAlgorithm":"squarified"},"scatter":{"marker":{"symbol":"circle"}}},"series":[{"group":"group","data":[{"O*NET-SOC Sector":"Energy Efficiency","TOT_EMP":66410,"H_MEAN":45.51333333333334,"A_MEAN":94668.88888888889,"A_MEDIAN":98740,"H_MEDIAN":47.47,"y":98740,"name":"Energy Efficiency"},{"O*NET-SOC Sector":"Green Construction","TOT_EMP":124680,"H_MEAN":37.88896551724138,"A_MEAN":78808.96551724138,"A_MEDIAN":75800,"H_MEDIAN":36.44,"y":75800,"name":"Green Construction"},{"O*NET-SOC Sector":"Renewable Energy Generation","TOT_EMP":23250,"H_MEAN":44.70666666666666,"A_MEAN":92991.11111111111,"A_MEDIAN":99690,"H_MEDIAN":47.93,"y":99690,"name":"Renewable Energy Generation"},{"O*NET-SOC Sector":"All","TOT_EMP":214340,"H_MEAN":40.65446808510638,"A_MEAN":84561.70212765958,"A_MEDIAN":82170,"H_MEDIAN":39.51,"y":82170,"name":"All"}],"type":"column"}],"xAxis":{"type":"category","title":{"text":"Sector"}},"tooltip":{"pointFormat":"<b>{point.y:,0f} USD<\/b>"}},"theme":{"chart":{"backgroundColor":"transparent"},"colors":["#7cb5ec","#434348","#90ed7d","#f7a35c","#8085e9","#f15c80","#e4d354","#2b908f","#f45b5b","#91e8e1"]},"conf_opts":{"global":{"Date":null,"VMLRadialGradientURL":"http =//code.highcharts.com/list(version)/gfx/vml-radial-gradient.png","canvasToolsURL":"http =//code.highcharts.com/list(version)/modules/canvas-tools.js","getTimezoneOffset":null,"timezoneOffset":0,"useUTC":true},"lang":{"contextButtonTitle":"Chart context menu","decimalPoint":".","downloadCSV":"Download CSV","downloadJPEG":"Download JPEG image","downloadPDF":"Download PDF document","downloadPNG":"Download PNG image","downloadSVG":"Download SVG vector image","downloadXLS":"Download XLS","drillUpText":"◁ Back to {series.name}","exitFullscreen":"Exit from full screen","exportData":{"annotationHeader":"Annotations","categoryDatetimeHeader":"DateTime","categoryHeader":"Category"},"hideData":"Hide data table","invalidDate":null,"loading":"Loading...","months":["January","February","March","April","May","June","July","August","September","October","November","December"],"noData":"No data to display","numericSymbolMagnitude":1000,"numericSymbols":["k","M","G","T","P","E"],"printChart":"Print chart","resetZoom":"Reset zoom","resetZoomTitle":"Reset zoom level 1:1","shortMonths":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"shortWeekdays":["Sat","Sun","Mon","Tue","Wed","Thu","Fri"],"thousandsSep":" ","viewData":"View data table","viewFullscreen":"View in full screen","weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},"type":"chart","fonts":[],"debug":false},"evals":[],"jsHooks":[]}</script>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Visualizing H_MEDIAN (Median Hourly Wage) across the sectors for St. Paul</span></span>
<span id="cb77-2"><a href="#cb77-2" aria-hidden="true" tabindex="-1"></a><span class="fu">hchart</span>(final_summary_st_paul, <span class="st">"column"</span>, <span class="fu">hcaes</span>(<span class="at">x =</span> <span class="st">`</span><span class="at">O*NET-SOC Sector</span><span class="st">`</span>, <span class="at">y =</span> H_MEDIAN)) <span class="sc">%&gt;%</span></span>
<span id="cb77-3"><a href="#cb77-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_title</span>(<span class="at">text =</span> <span class="st">"Median Hourly Wage by Sector in Saint Paul"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb77-4"><a href="#cb77-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_xAxis</span>(<span class="at">title =</span> <span class="fu">list</span>(<span class="at">text =</span> <span class="st">"Sector"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb77-5"><a href="#cb77-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_yAxis</span>(<span class="at">title =</span> <span class="fu">list</span>(<span class="at">text =</span> <span class="st">"Median Hourly Wage (USD)"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb77-6"><a href="#cb77-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_tooltip</span>(<span class="at">pointFormat =</span> <span class="st">'&lt;b&gt;{point.y:.2f} USD&lt;/b&gt;'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="highchart html-widget html-fill-item" id="htmlwidget-92a8fa80a9275157f476" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-92a8fa80a9275157f476">{"x":{"hc_opts":{"chart":{"reflow":true},"title":{"text":"Median Hourly Wage by Sector in Saint Paul"},"yAxis":{"title":{"text":"Median Hourly Wage (USD)"},"type":"linear"},"credits":{"enabled":false},"exporting":{"enabled":false},"boost":{"enabled":false},"plotOptions":{"series":{"label":{"enabled":false},"turboThreshold":0,"showInLegend":false},"treemap":{"layoutAlgorithm":"squarified"},"scatter":{"marker":{"symbol":"circle"}}},"series":[{"group":"group","data":[{"O*NET-SOC Sector":"Energy Efficiency","TOT_EMP":66410,"H_MEAN":45.51333333333334,"A_MEAN":94668.88888888889,"A_MEDIAN":98740,"H_MEDIAN":47.47,"y":47.47,"name":"Energy Efficiency"},{"O*NET-SOC Sector":"Green Construction","TOT_EMP":124680,"H_MEAN":37.88896551724138,"A_MEAN":78808.96551724138,"A_MEDIAN":75800,"H_MEDIAN":36.44,"y":36.44,"name":"Green Construction"},{"O*NET-SOC Sector":"Renewable Energy Generation","TOT_EMP":23250,"H_MEAN":44.70666666666666,"A_MEAN":92991.11111111111,"A_MEDIAN":99690,"H_MEDIAN":47.93,"y":47.93,"name":"Renewable Energy Generation"},{"O*NET-SOC Sector":"All","TOT_EMP":214340,"H_MEAN":40.65446808510638,"A_MEAN":84561.70212765958,"A_MEDIAN":82170,"H_MEDIAN":39.51,"y":39.51,"name":"All"}],"type":"column"}],"xAxis":{"type":"category","title":{"text":"Sector"}},"tooltip":{"pointFormat":"<b>{point.y:.2f} USD<\/b>"}},"theme":{"chart":{"backgroundColor":"transparent"},"colors":["#7cb5ec","#434348","#90ed7d","#f7a35c","#8085e9","#f15c80","#e4d354","#2b908f","#f45b5b","#91e8e1"]},"conf_opts":{"global":{"Date":null,"VMLRadialGradientURL":"http =//code.highcharts.com/list(version)/gfx/vml-radial-gradient.png","canvasToolsURL":"http =//code.highcharts.com/list(version)/modules/canvas-tools.js","getTimezoneOffset":null,"timezoneOffset":0,"useUTC":true},"lang":{"contextButtonTitle":"Chart context menu","decimalPoint":".","downloadCSV":"Download CSV","downloadJPEG":"Download JPEG image","downloadPDF":"Download PDF document","downloadPNG":"Download PNG image","downloadSVG":"Download SVG vector image","downloadXLS":"Download XLS","drillUpText":"◁ Back to {series.name}","exitFullscreen":"Exit from full screen","exportData":{"annotationHeader":"Annotations","categoryDatetimeHeader":"DateTime","categoryHeader":"Category"},"hideData":"Hide data table","invalidDate":null,"loading":"Loading...","months":["January","February","March","April","May","June","July","August","September","October","November","December"],"noData":"No data to display","numericSymbolMagnitude":1000,"numericSymbols":["k","M","G","T","P","E"],"printChart":"Print chart","resetZoom":"Reset zoom","resetZoomTitle":"Reset zoom level 1:1","shortMonths":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"shortWeekdays":["Sat","Sun","Mon","Tue","Wed","Thu","Fri"],"thousandsSep":" ","viewData":"View data table","viewFullscreen":"View in full screen","weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},"type":"chart","fonts":[],"debug":false},"evals":[],"jsHooks":[]}</script>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Define green jobs as sectors related to energy and construction for St. Paul</span></span>
<span id="cb78-2"><a href="#cb78-2" aria-hidden="true" tabindex="-1"></a>green_jobs_sectors_st_paul <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Energy Efficiency"</span>, <span class="st">"Renewable Energy Generation"</span>, <span class="st">"Green Construction"</span>)</span>
<span id="cb78-3"><a href="#cb78-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-4"><a href="#cb78-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Add a new column to identify green and non-green jobs for St. Paul</span></span>
<span id="cb78-5"><a href="#cb78-5" aria-hidden="true" tabindex="-1"></a>st_paul_jobs <span class="ot">&lt;-</span> st_paul_jobs <span class="sc">%&gt;%</span></span>
<span id="cb78-6"><a href="#cb78-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb78-7"><a href="#cb78-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">Job_Type =</span> <span class="fu">ifelse</span>(<span class="st">`</span><span class="at">O*NET-SOC Sector</span><span class="st">`</span> <span class="sc">%in%</span> green_jobs_sectors_st_paul, <span class="st">"Green Jobs"</span>, <span class="st">"Non-Green Jobs"</span>)</span>
<span id="cb78-8"><a href="#cb78-8" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb78-9"><a href="#cb78-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-10"><a href="#cb78-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Group by job type (Green vs Non-Green) and calculate mean wages for St. Paul</span></span>
<span id="cb78-11"><a href="#cb78-11" aria-hidden="true" tabindex="-1"></a>job_type_summary_st_paul <span class="ot">&lt;-</span> st_paul_jobs <span class="sc">%&gt;%</span></span>
<span id="cb78-12"><a href="#cb78-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Job_Type) <span class="sc">%&gt;%</span></span>
<span id="cb78-13"><a href="#cb78-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(</span>
<span id="cb78-14"><a href="#cb78-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">H_MEAN =</span> <span class="fu">mean</span>(H_MEAN, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb78-15"><a href="#cb78-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">A_MEAN =</span> <span class="fu">mean</span>(A_MEAN, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb78-16"><a href="#cb78-16" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb78-17"><a href="#cb78-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb78-18"><a href="#cb78-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Visualizing Mean Hourly Wage (H_MEAN) for Green vs Non-Green Jobs in St. Paul</span></span>
<span id="cb78-19"><a href="#cb78-19" aria-hidden="true" tabindex="-1"></a><span class="fu">hchart</span>(job_type_summary_st_paul, <span class="st">"column"</span>, <span class="fu">hcaes</span>(<span class="at">x =</span> Job_Type, <span class="at">y =</span> H_MEAN)) <span class="sc">%&gt;%</span></span>
<span id="cb78-20"><a href="#cb78-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_title</span>(<span class="at">text =</span> <span class="st">"Mean Hourly Wage: Green Jobs vs Non-Green Jobs in Saint Paul"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb78-21"><a href="#cb78-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_xAxis</span>(<span class="at">title =</span> <span class="fu">list</span>(<span class="at">text =</span> <span class="st">"Job Type"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb78-22"><a href="#cb78-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_yAxis</span>(<span class="at">title =</span> <span class="fu">list</span>(<span class="at">text =</span> <span class="st">"Mean Hourly Wage (USD)"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb78-23"><a href="#cb78-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_tooltip</span>(<span class="at">pointFormat =</span> <span class="st">'&lt;b&gt;{point.y:.2f} USD&lt;/b&gt;'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="highchart html-widget html-fill-item" id="htmlwidget-b4e7d53ff315a9414d4a" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-b4e7d53ff315a9414d4a">{"x":{"hc_opts":{"chart":{"reflow":true},"title":{"text":"Mean Hourly Wage: Green Jobs vs Non-Green Jobs in Saint Paul"},"yAxis":{"title":{"text":"Mean Hourly Wage (USD)"},"type":"linear"},"credits":{"enabled":false},"exporting":{"enabled":false},"boost":{"enabled":false},"plotOptions":{"series":{"label":{"enabled":false},"turboThreshold":0,"showInLegend":false},"treemap":{"layoutAlgorithm":"squarified"},"scatter":{"marker":{"symbol":"circle"}}},"series":[{"group":"group","data":[{"Job_Type":"Green Jobs","H_MEAN":40.65446808510638,"A_MEAN":84561.70212765958,"y":40.65446808510638,"name":"Green Jobs"},{"Job_Type":"Non-Green Jobs","H_MEAN":36.30687702265373,"A_MEAN":77192.53353204168,"y":36.30687702265373,"name":"Non-Green Jobs"}],"type":"column"}],"xAxis":{"type":"category","title":{"text":"Job Type"}},"tooltip":{"pointFormat":"<b>{point.y:.2f} USD<\/b>"}},"theme":{"chart":{"backgroundColor":"transparent"},"colors":["#7cb5ec","#434348","#90ed7d","#f7a35c","#8085e9","#f15c80","#e4d354","#2b908f","#f45b5b","#91e8e1"]},"conf_opts":{"global":{"Date":null,"VMLRadialGradientURL":"http =//code.highcharts.com/list(version)/gfx/vml-radial-gradient.png","canvasToolsURL":"http =//code.highcharts.com/list(version)/modules/canvas-tools.js","getTimezoneOffset":null,"timezoneOffset":0,"useUTC":true},"lang":{"contextButtonTitle":"Chart context menu","decimalPoint":".","downloadCSV":"Download CSV","downloadJPEG":"Download JPEG image","downloadPDF":"Download PDF document","downloadPNG":"Download PNG image","downloadSVG":"Download SVG vector image","downloadXLS":"Download XLS","drillUpText":"◁ Back to {series.name}","exitFullscreen":"Exit from full screen","exportData":{"annotationHeader":"Annotations","categoryDatetimeHeader":"DateTime","categoryHeader":"Category"},"hideData":"Hide data table","invalidDate":null,"loading":"Loading...","months":["January","February","March","April","May","June","July","August","September","October","November","December"],"noData":"No data to display","numericSymbolMagnitude":1000,"numericSymbols":["k","M","G","T","P","E"],"printChart":"Print chart","resetZoom":"Reset zoom","resetZoomTitle":"Reset zoom level 1:1","shortMonths":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"shortWeekdays":["Sat","Sun","Mon","Tue","Wed","Thu","Fri"],"thousandsSep":" ","viewData":"View data table","viewFullscreen":"View in full screen","weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},"type":"chart","fonts":[],"debug":false},"evals":[],"jsHooks":[]}</script>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Visualizing Mean Annual Wage (A_MEAN) for Green vs Non-Green Jobs in St. Paul</span></span>
<span id="cb79-2"><a href="#cb79-2" aria-hidden="true" tabindex="-1"></a><span class="fu">hchart</span>(job_type_summary_st_paul, <span class="st">"column"</span>, <span class="fu">hcaes</span>(<span class="at">x =</span> Job_Type, <span class="at">y =</span> A_MEAN)) <span class="sc">%&gt;%</span></span>
<span id="cb79-3"><a href="#cb79-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_title</span>(<span class="at">text =</span> <span class="st">"Mean Annual Wage: Green Jobs vs Non-Green Jobs in Saint Paul"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb79-4"><a href="#cb79-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_xAxis</span>(<span class="at">title =</span> <span class="fu">list</span>(<span class="at">text =</span> <span class="st">"Job Type"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb79-5"><a href="#cb79-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_yAxis</span>(<span class="at">title =</span> <span class="fu">list</span>(<span class="at">text =</span> <span class="st">"Mean Annual Wage (USD)"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb79-6"><a href="#cb79-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_tooltip</span>(<span class="at">pointFormat =</span> <span class="st">'&lt;b&gt;{point.y:,0f} USD&lt;/b&gt;'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="highchart html-widget html-fill-item" id="htmlwidget-72fd6294cf3bcb34b9ba" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-72fd6294cf3bcb34b9ba">{"x":{"hc_opts":{"chart":{"reflow":true},"title":{"text":"Mean Annual Wage: Green Jobs vs Non-Green Jobs in Saint Paul"},"yAxis":{"title":{"text":"Mean Annual Wage (USD)"},"type":"linear"},"credits":{"enabled":false},"exporting":{"enabled":false},"boost":{"enabled":false},"plotOptions":{"series":{"label":{"enabled":false},"turboThreshold":0,"showInLegend":false},"treemap":{"layoutAlgorithm":"squarified"},"scatter":{"marker":{"symbol":"circle"}}},"series":[{"group":"group","data":[{"Job_Type":"Green Jobs","H_MEAN":40.65446808510638,"A_MEAN":84561.70212765958,"y":84561.70212765958,"name":"Green Jobs"},{"Job_Type":"Non-Green Jobs","H_MEAN":36.30687702265373,"A_MEAN":77192.53353204168,"y":77192.53353204168,"name":"Non-Green Jobs"}],"type":"column"}],"xAxis":{"type":"category","title":{"text":"Job Type"}},"tooltip":{"pointFormat":"<b>{point.y:,0f} USD<\/b>"}},"theme":{"chart":{"backgroundColor":"transparent"},"colors":["#7cb5ec","#434348","#90ed7d","#f7a35c","#8085e9","#f15c80","#e4d354","#2b908f","#f45b5b","#91e8e1"]},"conf_opts":{"global":{"Date":null,"VMLRadialGradientURL":"http =//code.highcharts.com/list(version)/gfx/vml-radial-gradient.png","canvasToolsURL":"http =//code.highcharts.com/list(version)/modules/canvas-tools.js","getTimezoneOffset":null,"timezoneOffset":0,"useUTC":true},"lang":{"contextButtonTitle":"Chart context menu","decimalPoint":".","downloadCSV":"Download CSV","downloadJPEG":"Download JPEG image","downloadPDF":"Download PDF document","downloadPNG":"Download PNG image","downloadSVG":"Download SVG vector image","downloadXLS":"Download XLS","drillUpText":"◁ Back to {series.name}","exitFullscreen":"Exit from full screen","exportData":{"annotationHeader":"Annotations","categoryDatetimeHeader":"DateTime","categoryHeader":"Category"},"hideData":"Hide data table","invalidDate":null,"loading":"Loading...","months":["January","February","March","April","May","June","July","August","September","October","November","December"],"noData":"No data to display","numericSymbolMagnitude":1000,"numericSymbols":["k","M","G","T","P","E"],"printChart":"Print chart","resetZoom":"Reset zoom","resetZoomTitle":"Reset zoom level 1:1","shortMonths":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"shortWeekdays":["Sat","Sun","Mon","Tue","Wed","Thu","Fri"],"thousandsSep":" ","viewData":"View data table","viewFullscreen":"View in full screen","weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},"type":"chart","fonts":[],"debug":false},"evals":[],"jsHooks":[]}</script>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Summarizing core findings for Saint Paul</span></span>
<span id="cb80-2"><a href="#cb80-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-3"><a href="#cb80-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract green and non-green job wage data for St. Paul</span></span>
<span id="cb80-4"><a href="#cb80-4" aria-hidden="true" tabindex="-1"></a>green_wages_st_paul <span class="ot">&lt;-</span> job_type_summary_st_paul <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Job_Type <span class="sc">==</span> <span class="st">"Green Jobs"</span>)</span>
<span id="cb80-5"><a href="#cb80-5" aria-hidden="true" tabindex="-1"></a>non_green_wages_st_paul <span class="ot">&lt;-</span> job_type_summary_st_paul <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Job_Type <span class="sc">==</span> <span class="st">"Non-Green Jobs"</span>)</span>
<span id="cb80-6"><a href="#cb80-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-7"><a href="#cb80-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the difference between green and non-green jobs for St. Paul</span></span>
<span id="cb80-8"><a href="#cb80-8" aria-hidden="true" tabindex="-1"></a>difference_annual_st_paul <span class="ot">&lt;-</span> green_wages_st_paul<span class="sc">$</span>A_MEAN <span class="sc">-</span> non_green_wages_st_paul<span class="sc">$</span>A_MEAN</span>
<span id="cb80-9"><a href="#cb80-9" aria-hidden="true" tabindex="-1"></a>difference_hourly_st_paul <span class="ot">&lt;-</span> green_wages_st_paul<span class="sc">$</span>H_MEAN <span class="sc">-</span> non_green_wages_st_paul<span class="sc">$</span>H_MEAN</span>
<span id="cb80-10"><a href="#cb80-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-11"><a href="#cb80-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Format and print the sentences for Saint Paul</span></span>
<span id="cb80-12"><a href="#cb80-12" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"The mean annual wage for the occupation in U.S. dollars for green jobs in Saint Paul is $"</span>, </span>
<span id="cb80-13"><a href="#cb80-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">format</span>(green_wages_st_paul<span class="sc">$</span>A_MEAN, <span class="at">big.mark =</span> <span class="st">","</span>, <span class="at">scientific =</span> <span class="cn">FALSE</span>), </span>
<span id="cb80-14"><a href="#cb80-14" aria-hidden="true" tabindex="-1"></a>    <span class="st">", and for non-green jobs is $"</span>, </span>
<span id="cb80-15"><a href="#cb80-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">format</span>(non_green_wages_st_paul<span class="sc">$</span>A_MEAN, <span class="at">big.mark =</span> <span class="st">","</span>, <span class="at">scientific =</span> <span class="cn">FALSE</span>), </span>
<span id="cb80-16"><a href="#cb80-16" aria-hidden="true" tabindex="-1"></a>    <span class="st">". That means green jobs in Saint Paul pay $"</span>, </span>
<span id="cb80-17"><a href="#cb80-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">format</span>(<span class="fu">abs</span>(difference_annual_st_paul), <span class="at">big.mark =</span> <span class="st">","</span>, <span class="at">scientific =</span> <span class="cn">FALSE</span>), </span>
<span id="cb80-18"><a href="#cb80-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ifelse</span>(difference_annual_st_paul <span class="sc">&gt;</span> <span class="dv">0</span>, <span class="st">" more"</span>, <span class="st">" less"</span>), </span>
<span id="cb80-19"><a href="#cb80-19" aria-hidden="true" tabindex="-1"></a>    <span class="st">" than non-green jobs in Saint Paul.</span><span class="sc">\n</span><span class="st">"</span>, <span class="at">sep =</span> <span class="st">""</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>The mean annual wage for the occupation in U.S. dollars for green jobs in Saint Paul is $84,561.7, and for non-green jobs is $77,192.53. That means green jobs in Saint Paul pay $7,369.169 more than non-green jobs in Saint Paul.</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"The mean hourly wage for the occupation in U.S. dollars for green jobs in Saint Paul is $"</span>, </span>
<span id="cb82-2"><a href="#cb82-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">format</span>(green_wages_st_paul<span class="sc">$</span>H_MEAN, <span class="at">big.mark =</span> <span class="st">","</span>, <span class="at">scientific =</span> <span class="cn">FALSE</span>), </span>
<span id="cb82-3"><a href="#cb82-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">", and for non-green jobs is $"</span>, </span>
<span id="cb82-4"><a href="#cb82-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">format</span>(non_green_wages_st_paul<span class="sc">$</span>H_MEAN, <span class="at">big.mark =</span> <span class="st">","</span>, <span class="at">scientific =</span> <span class="cn">FALSE</span>), </span>
<span id="cb82-5"><a href="#cb82-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">". That means green jobs in Saint Paul pay $"</span>, </span>
<span id="cb82-6"><a href="#cb82-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">format</span>(<span class="fu">abs</span>(difference_hourly_st_paul), <span class="at">big.mark =</span> <span class="st">","</span>, <span class="at">scientific =</span> <span class="cn">FALSE</span>), </span>
<span id="cb82-7"><a href="#cb82-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ifelse</span>(difference_hourly_st_paul <span class="sc">&gt;</span> <span class="dv">0</span>, <span class="st">" more"</span>, <span class="st">" less"</span>), </span>
<span id="cb82-8"><a href="#cb82-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">" than non-green jobs in Saint Paul.</span><span class="sc">\n</span><span class="st">"</span>, <span class="at">sep =</span> <span class="st">""</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>The mean hourly wage for the occupation in U.S. dollars for green jobs in Saint Paul is $40.65447, and for non-green jobs is $36.30688. That means green jobs in Saint Paul pay $4.347591 more than non-green jobs in Saint Paul.</code></pre>
</div>
<a class="quarto-notebook-link" id="nblink-22" href="index-preview.html">Source: Article Notebook</a></div>
<p>I’d like to see a word cloud of different job titles for each sector in St.&nbsp;Paul</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter the dataset for green jobs only in St. Paul</span></span>
<span id="cb84-2"><a href="#cb84-2" aria-hidden="true" tabindex="-1"></a>green_jobs_st_paul <span class="ot">&lt;-</span> st_paul_jobs <span class="sc">%&gt;%</span></span>
<span id="cb84-3"><a href="#cb84-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="st">`</span><span class="at">O*NET-SOC Sector</span><span class="st">`</span> <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Energy Efficiency"</span>, <span class="st">"Renewable Energy Generation"</span>, <span class="st">"Green Construction"</span>))</span>
<span id="cb84-4"><a href="#cb84-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb84-5"><a href="#cb84-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract job titles and count their occurrences in St. Paul</span></span>
<span id="cb84-6"><a href="#cb84-6" aria-hidden="true" tabindex="-1"></a>job_titles_st_paul <span class="ot">&lt;-</span> green_jobs_st_paul <span class="sc">%&gt;%</span></span>
<span id="cb84-7"><a href="#cb84-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(OCC_TITLE, <span class="at">sort =</span> <span class="cn">TRUE</span>)</span>
<span id="cb84-8"><a href="#cb84-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb84-9"><a href="#cb84-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a word cloud for green jobs in St. Paul using highcharter</span></span>
<span id="cb84-10"><a href="#cb84-10" aria-hidden="true" tabindex="-1"></a><span class="fu">hchart</span>(</span>
<span id="cb84-11"><a href="#cb84-11" aria-hidden="true" tabindex="-1"></a>  job_titles_st_paul, </span>
<span id="cb84-12"><a href="#cb84-12" aria-hidden="true" tabindex="-1"></a>  <span class="st">"wordcloud"</span>, </span>
<span id="cb84-13"><a href="#cb84-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hcaes</span>(<span class="at">name =</span> OCC_TITLE, <span class="at">weight =</span> n)</span>
<span id="cb84-14"><a href="#cb84-14" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span></span>
<span id="cb84-15"><a href="#cb84-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_title</span>(<span class="at">text =</span> <span class="st">"Word Cloud of Green Job Titles in Saint Paul"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="highchart html-widget html-fill-item" id="htmlwidget-950bf9f5507fdf68328d" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-950bf9f5507fdf68328d">{"x":{"hc_opts":{"chart":{"reflow":true},"title":{"text":"Word Cloud of Green Job Titles in Saint Paul"},"yAxis":{"title":{"text":[]}},"credits":{"enabled":false},"exporting":{"enabled":false},"boost":{"enabled":false},"plotOptions":{"series":{"label":{"enabled":false},"turboThreshold":0,"showInLegend":false},"treemap":{"layoutAlgorithm":"squarified"},"scatter":{"marker":{"symbol":"circle"}}},"series":[{"group":"group","data":[{"OCC_TITLE":null,"n":11,"name":null,"weight":11},{"OCC_TITLE":"Electrical Engineers","n":3,"name":"Electrical Engineers","weight":3},{"OCC_TITLE":"Mechanical Engineers","n":3,"name":"Mechanical Engineers","weight":3},{"OCC_TITLE":"Boilermakers","n":2,"name":"Boilermakers","weight":2},{"OCC_TITLE":"Civil Engineers","n":2,"name":"Civil Engineers","weight":2},{"OCC_TITLE":"Financial and Investment Analysts","n":2,"name":"Financial and Investment Analysts","weight":2},{"OCC_TITLE":"Heating, Air Conditioning, and Refrigeration Mechanics and Installers","n":2,"name":"Heating, Air Conditioning, and Refrigeration Mechanics and Installers","weight":2},{"OCC_TITLE":"Insulation Workers, Floor, Ceiling, and Wall","n":2,"name":"Insulation Workers, Floor, Ceiling, and Wall","weight":2},{"OCC_TITLE":"Power Plant Operators","n":2,"name":"Power Plant Operators","weight":2},{"OCC_TITLE":"Sheet Metal Workers","n":2,"name":"Sheet Metal Workers","weight":2},{"OCC_TITLE":"Architects, Except Landscape and Naval","n":1,"name":"Architects, Except Landscape and Naval","weight":1},{"OCC_TITLE":"Architectural and Civil Drafters","n":1,"name":"Architectural and Civil Drafters","weight":1},{"OCC_TITLE":"Carpenters","n":1,"name":"Carpenters","weight":1},{"OCC_TITLE":"Cement Masons and Concrete Finishers","n":1,"name":"Cement Masons and Concrete Finishers","weight":1},{"OCC_TITLE":"Construction Laborers","n":1,"name":"Construction Laborers","weight":1},{"OCC_TITLE":"Construction Managers","n":1,"name":"Construction Managers","weight":1},{"OCC_TITLE":"Construction and Building Inspectors","n":1,"name":"Construction and Building Inspectors","weight":1},{"OCC_TITLE":"Electrical Power-Line Installers and Repairers","n":1,"name":"Electrical Power-Line Installers and Repairers","weight":1},{"OCC_TITLE":"Electricians","n":1,"name":"Electricians","weight":1},{"OCC_TITLE":"General and Operations Managers","n":1,"name":"General and Operations Managers","weight":1},{"OCC_TITLE":"Hazardous Materials Removal Workers","n":1,"name":"Hazardous Materials Removal Workers","weight":1},{"OCC_TITLE":"Helpers--Installation, Maintenance, and Repair Workers","n":1,"name":"Helpers--Installation, Maintenance, and Repair Workers","weight":1},{"OCC_TITLE":"Industrial Truck and Tractor Operators","n":1,"name":"Industrial Truck and Tractor Operators","weight":1},{"OCC_TITLE":"Laborers and Freight, Stock, and Material Movers, Hand","n":1,"name":"Laborers and Freight, Stock, and Material Movers, Hand","weight":1},{"OCC_TITLE":"Landscape Architects","n":1,"name":"Landscape Architects","weight":1},{"OCC_TITLE":"Machinists","n":1,"name":"Machinists","weight":1},{"OCC_TITLE":"Operating Engineers and Other Construction Equipment Operators","n":1,"name":"Operating Engineers and Other Construction Equipment Operators","weight":1},{"OCC_TITLE":"Plumbers, Pipefitters, and Steamfitters","n":1,"name":"Plumbers, Pipefitters, and Steamfitters","weight":1},{"OCC_TITLE":"Power Distributors and Dispatchers","n":1,"name":"Power Distributors and Dispatchers","weight":1},{"OCC_TITLE":"Roofers","n":1,"name":"Roofers","weight":1},{"OCC_TITLE":"Separating, Filtering, Clarifying, Precipitating, and Still Machine Setters, Operators, and Tenders","n":1,"name":"Separating, Filtering, Clarifying, Precipitating, and Still Machine Setters, Operators, and Tenders","weight":1},{"OCC_TITLE":"Stationary Engineers and Boiler Operators","n":1,"name":"Stationary Engineers and Boiler Operators","weight":1},{"OCC_TITLE":"Structural Iron and Steel Workers","n":1,"name":"Structural Iron and Steel Workers","weight":1},{"OCC_TITLE":"Structural Metal Fabricators and Fitters","n":1,"name":"Structural Metal Fabricators and Fitters","weight":1},{"OCC_TITLE":"Transportation Inspectors","n":1,"name":"Transportation Inspectors","weight":1},{"OCC_TITLE":"Transportation, Storage, and Distribution Managers","n":1,"name":"Transportation, Storage, and Distribution Managers","weight":1},{"OCC_TITLE":"Urban and Regional Planners","n":1,"name":"Urban and Regional Planners","weight":1},{"OCC_TITLE":"Welders, Cutters, Solderers, and Brazers","n":1,"name":"Welders, Cutters, Solderers, and Brazers","weight":1}],"type":"wordcloud"}],"xAxis":{"type":null,"title":{"text":[]},"categories":null}},"theme":{"chart":{"backgroundColor":"transparent"},"colors":["#7cb5ec","#434348","#90ed7d","#f7a35c","#8085e9","#f15c80","#e4d354","#2b908f","#f45b5b","#91e8e1"]},"conf_opts":{"global":{"Date":null,"VMLRadialGradientURL":"http =//code.highcharts.com/list(version)/gfx/vml-radial-gradient.png","canvasToolsURL":"http =//code.highcharts.com/list(version)/modules/canvas-tools.js","getTimezoneOffset":null,"timezoneOffset":0,"useUTC":true},"lang":{"contextButtonTitle":"Chart context menu","decimalPoint":".","downloadCSV":"Download CSV","downloadJPEG":"Download JPEG image","downloadPDF":"Download PDF document","downloadPNG":"Download PNG image","downloadSVG":"Download SVG vector image","downloadXLS":"Download XLS","drillUpText":"◁ Back to {series.name}","exitFullscreen":"Exit from full screen","exportData":{"annotationHeader":"Annotations","categoryDatetimeHeader":"DateTime","categoryHeader":"Category"},"hideData":"Hide data table","invalidDate":null,"loading":"Loading...","months":["January","February","March","April","May","June","July","August","September","October","November","December"],"noData":"No data to display","numericSymbolMagnitude":1000,"numericSymbols":["k","M","G","T","P","E"],"printChart":"Print chart","resetZoom":"Reset zoom","resetZoomTitle":"Reset zoom level 1:1","shortMonths":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"shortWeekdays":["Sat","Sun","Mon","Tue","Wed","Thu","Fri"],"thousandsSep":" ","viewData":"View data table","viewFullscreen":"View in full screen","weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},"type":"chart","fonts":[],"debug":false},"evals":[],"jsHooks":[]}</script>
</div>
<a class="quarto-notebook-link" id="nblink-23" href="index-preview.html">Source: Article Notebook</a></div>
<p>Now let’s create separate word clouds for each of the green sectors (“Energy Efficiency”, “Renewable Energy Generation”, and “Green Construction”) for St.&nbsp;Paul</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter the dataset for each sector in St. Paul</span></span>
<span id="cb85-2"><a href="#cb85-2" aria-hidden="true" tabindex="-1"></a>energy_efficiency_jobs_st_paul <span class="ot">&lt;-</span> st_paul_jobs <span class="sc">%&gt;%</span></span>
<span id="cb85-3"><a href="#cb85-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="st">`</span><span class="at">O*NET-SOC Sector</span><span class="st">`</span> <span class="sc">==</span> <span class="st">"Energy Efficiency"</span>)</span>
<span id="cb85-4"><a href="#cb85-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-5"><a href="#cb85-5" aria-hidden="true" tabindex="-1"></a>renewable_energy_jobs_st_paul <span class="ot">&lt;-</span> st_paul_jobs <span class="sc">%&gt;%</span></span>
<span id="cb85-6"><a href="#cb85-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="st">`</span><span class="at">O*NET-SOC Sector</span><span class="st">`</span> <span class="sc">==</span> <span class="st">"Renewable Energy Generation"</span>)</span>
<span id="cb85-7"><a href="#cb85-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-8"><a href="#cb85-8" aria-hidden="true" tabindex="-1"></a>green_construction_jobs_st_paul <span class="ot">&lt;-</span> st_paul_jobs <span class="sc">%&gt;%</span></span>
<span id="cb85-9"><a href="#cb85-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="st">`</span><span class="at">O*NET-SOC Sector</span><span class="st">`</span> <span class="sc">==</span> <span class="st">"Green Construction"</span>)</span>
<span id="cb85-10"><a href="#cb85-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-11"><a href="#cb85-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a function to generate word clouds for St. Paul sectors</span></span>
<span id="cb85-12"><a href="#cb85-12" aria-hidden="true" tabindex="-1"></a>generate_wordcloud_st_paul <span class="ot">&lt;-</span> <span class="cf">function</span>(data, sector_name) {</span>
<span id="cb85-13"><a href="#cb85-13" aria-hidden="true" tabindex="-1"></a>  job_titles <span class="ot">&lt;-</span> data <span class="sc">%&gt;%</span></span>
<span id="cb85-14"><a href="#cb85-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">count</span>(OCC_TITLE, <span class="at">sort =</span> <span class="cn">TRUE</span>)</span>
<span id="cb85-15"><a href="#cb85-15" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb85-16"><a href="#cb85-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hchart</span>(</span>
<span id="cb85-17"><a href="#cb85-17" aria-hidden="true" tabindex="-1"></a>    job_titles, </span>
<span id="cb85-18"><a href="#cb85-18" aria-hidden="true" tabindex="-1"></a>    <span class="st">"wordcloud"</span>, </span>
<span id="cb85-19"><a href="#cb85-19" aria-hidden="true" tabindex="-1"></a>    <span class="fu">hcaes</span>(<span class="at">name =</span> OCC_TITLE, <span class="at">weight =</span> n)</span>
<span id="cb85-20"><a href="#cb85-20" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb85-21"><a href="#cb85-21" aria-hidden="true" tabindex="-1"></a>    <span class="fu">hc_title</span>(<span class="at">text =</span> <span class="fu">paste</span>(<span class="st">"Word Cloud of"</span>, sector_name, <span class="st">"Job Titles in Saint Paul"</span>))</span>
<span id="cb85-22"><a href="#cb85-22" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb85-23"><a href="#cb85-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-24"><a href="#cb85-24" aria-hidden="true" tabindex="-1"></a><span class="co"># Generate word cloud for Energy Efficiency in St. Paul</span></span>
<span id="cb85-25"><a href="#cb85-25" aria-hidden="true" tabindex="-1"></a>energy_efficiency_wordcloud_st_paul <span class="ot">&lt;-</span> <span class="fu">generate_wordcloud_st_paul</span>(energy_efficiency_jobs_st_paul, <span class="st">"Energy Efficiency"</span>)</span>
<span id="cb85-26"><a href="#cb85-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-27"><a href="#cb85-27" aria-hidden="true" tabindex="-1"></a><span class="co"># Generate word cloud for Renewable Energy Generation in St. Paul</span></span>
<span id="cb85-28"><a href="#cb85-28" aria-hidden="true" tabindex="-1"></a>renewable_energy_wordcloud_st_paul <span class="ot">&lt;-</span> <span class="fu">generate_wordcloud_st_paul</span>(renewable_energy_jobs_st_paul, <span class="st">"Renewable Energy Generation"</span>)</span>
<span id="cb85-29"><a href="#cb85-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-30"><a href="#cb85-30" aria-hidden="true" tabindex="-1"></a><span class="co"># Generate word cloud for Green Construction in St. Paul</span></span>
<span id="cb85-31"><a href="#cb85-31" aria-hidden="true" tabindex="-1"></a>green_construction_wordcloud_st_paul <span class="ot">&lt;-</span> <span class="fu">generate_wordcloud_st_paul</span>(green_construction_jobs_st_paul, <span class="st">"Green Construction"</span>)</span>
<span id="cb85-32"><a href="#cb85-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-33"><a href="#cb85-33" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the word clouds for St. Paul</span></span>
<span id="cb85-34"><a href="#cb85-34" aria-hidden="true" tabindex="-1"></a>energy_efficiency_wordcloud_st_paul</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="highchart html-widget html-fill-item" id="htmlwidget-d5912778b235a55e8aad" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-d5912778b235a55e8aad">{"x":{"hc_opts":{"chart":{"reflow":true},"title":{"text":"Word Cloud of Energy Efficiency Job Titles in Saint Paul"},"yAxis":{"title":{"text":[]}},"credits":{"enabled":false},"exporting":{"enabled":false},"boost":{"enabled":false},"plotOptions":{"series":{"label":{"enabled":false},"turboThreshold":0,"showInLegend":false},"treemap":{"layoutAlgorithm":"squarified"},"scatter":{"marker":{"symbol":"circle"}}},"series":[{"group":"group","data":[{"OCC_TITLE":null,"n":2,"name":null,"weight":2},{"OCC_TITLE":"Boilermakers","n":1,"name":"Boilermakers","weight":1},{"OCC_TITLE":"Electrical Engineers","n":1,"name":"Electrical Engineers","weight":1},{"OCC_TITLE":"Electrical Power-Line Installers and Repairers","n":1,"name":"Electrical Power-Line Installers and Repairers","weight":1},{"OCC_TITLE":"Financial and Investment Analysts","n":1,"name":"Financial and Investment Analysts","weight":1},{"OCC_TITLE":"General and Operations Managers","n":1,"name":"General and Operations Managers","weight":1},{"OCC_TITLE":"Heating, Air Conditioning, and Refrigeration Mechanics and Installers","n":1,"name":"Heating, Air Conditioning, and Refrigeration Mechanics and Installers","weight":1},{"OCC_TITLE":"Insulation Workers, Floor, Ceiling, and Wall","n":1,"name":"Insulation Workers, Floor, Ceiling, and Wall","weight":1},{"OCC_TITLE":"Mechanical Engineers","n":1,"name":"Mechanical Engineers","weight":1},{"OCC_TITLE":"Stationary Engineers and Boiler Operators","n":1,"name":"Stationary Engineers and Boiler Operators","weight":1},{"OCC_TITLE":"Transportation Inspectors","n":1,"name":"Transportation Inspectors","weight":1}],"type":"wordcloud"}],"xAxis":{"type":null,"title":{"text":[]},"categories":null}},"theme":{"chart":{"backgroundColor":"transparent"},"colors":["#7cb5ec","#434348","#90ed7d","#f7a35c","#8085e9","#f15c80","#e4d354","#2b908f","#f45b5b","#91e8e1"]},"conf_opts":{"global":{"Date":null,"VMLRadialGradientURL":"http =//code.highcharts.com/list(version)/gfx/vml-radial-gradient.png","canvasToolsURL":"http =//code.highcharts.com/list(version)/modules/canvas-tools.js","getTimezoneOffset":null,"timezoneOffset":0,"useUTC":true},"lang":{"contextButtonTitle":"Chart context menu","decimalPoint":".","downloadCSV":"Download CSV","downloadJPEG":"Download JPEG image","downloadPDF":"Download PDF document","downloadPNG":"Download PNG image","downloadSVG":"Download SVG vector image","downloadXLS":"Download XLS","drillUpText":"◁ Back to {series.name}","exitFullscreen":"Exit from full screen","exportData":{"annotationHeader":"Annotations","categoryDatetimeHeader":"DateTime","categoryHeader":"Category"},"hideData":"Hide data table","invalidDate":null,"loading":"Loading...","months":["January","February","March","April","May","June","July","August","September","October","November","December"],"noData":"No data to display","numericSymbolMagnitude":1000,"numericSymbols":["k","M","G","T","P","E"],"printChart":"Print chart","resetZoom":"Reset zoom","resetZoomTitle":"Reset zoom level 1:1","shortMonths":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"shortWeekdays":["Sat","Sun","Mon","Tue","Wed","Thu","Fri"],"thousandsSep":" ","viewData":"View data table","viewFullscreen":"View in full screen","weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},"type":"chart","fonts":[],"debug":false},"evals":[],"jsHooks":[]}</script>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a>renewable_energy_wordcloud_st_paul</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="highchart html-widget html-fill-item" id="htmlwidget-d51812b030a75e06d619" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-d51812b030a75e06d619">{"x":{"hc_opts":{"chart":{"reflow":true},"title":{"text":"Word Cloud of Renewable Energy Generation Job Titles in Saint Paul"},"yAxis":{"title":{"text":[]}},"credits":{"enabled":false},"exporting":{"enabled":false},"boost":{"enabled":false},"plotOptions":{"series":{"label":{"enabled":false},"turboThreshold":0,"showInLegend":false},"treemap":{"layoutAlgorithm":"squarified"},"scatter":{"marker":{"symbol":"circle"}}},"series":[{"group":"group","data":[{"OCC_TITLE":null,"n":6,"name":null,"weight":6},{"OCC_TITLE":"Civil Engineers","n":1,"name":"Civil Engineers","weight":1},{"OCC_TITLE":"Electrical Engineers","n":1,"name":"Electrical Engineers","weight":1},{"OCC_TITLE":"Machinists","n":1,"name":"Machinists","weight":1},{"OCC_TITLE":"Mechanical Engineers","n":1,"name":"Mechanical Engineers","weight":1},{"OCC_TITLE":"Power Distributors and Dispatchers","n":1,"name":"Power Distributors and Dispatchers","weight":1},{"OCC_TITLE":"Power Plant Operators","n":1,"name":"Power Plant Operators","weight":1},{"OCC_TITLE":"Separating, Filtering, Clarifying, Precipitating, and Still Machine Setters, Operators, and Tenders","n":1,"name":"Separating, Filtering, Clarifying, Precipitating, and Still Machine Setters, Operators, and Tenders","weight":1},{"OCC_TITLE":"Sheet Metal Workers","n":1,"name":"Sheet Metal Workers","weight":1},{"OCC_TITLE":"Transportation, Storage, and Distribution Managers","n":1,"name":"Transportation, Storage, and Distribution Managers","weight":1}],"type":"wordcloud"}],"xAxis":{"type":null,"title":{"text":[]},"categories":null}},"theme":{"chart":{"backgroundColor":"transparent"},"colors":["#7cb5ec","#434348","#90ed7d","#f7a35c","#8085e9","#f15c80","#e4d354","#2b908f","#f45b5b","#91e8e1"]},"conf_opts":{"global":{"Date":null,"VMLRadialGradientURL":"http =//code.highcharts.com/list(version)/gfx/vml-radial-gradient.png","canvasToolsURL":"http =//code.highcharts.com/list(version)/modules/canvas-tools.js","getTimezoneOffset":null,"timezoneOffset":0,"useUTC":true},"lang":{"contextButtonTitle":"Chart context menu","decimalPoint":".","downloadCSV":"Download CSV","downloadJPEG":"Download JPEG image","downloadPDF":"Download PDF document","downloadPNG":"Download PNG image","downloadSVG":"Download SVG vector image","downloadXLS":"Download XLS","drillUpText":"◁ Back to {series.name}","exitFullscreen":"Exit from full screen","exportData":{"annotationHeader":"Annotations","categoryDatetimeHeader":"DateTime","categoryHeader":"Category"},"hideData":"Hide data table","invalidDate":null,"loading":"Loading...","months":["January","February","March","April","May","June","July","August","September","October","November","December"],"noData":"No data to display","numericSymbolMagnitude":1000,"numericSymbols":["k","M","G","T","P","E"],"printChart":"Print chart","resetZoom":"Reset zoom","resetZoomTitle":"Reset zoom level 1:1","shortMonths":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"shortWeekdays":["Sat","Sun","Mon","Tue","Wed","Thu","Fri"],"thousandsSep":" ","viewData":"View data table","viewFullscreen":"View in full screen","weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},"type":"chart","fonts":[],"debug":false},"evals":[],"jsHooks":[]}</script>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb87"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a>green_construction_wordcloud_st_paul</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="highchart html-widget html-fill-item" id="htmlwidget-6d8200fed12b43522b40" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-6d8200fed12b43522b40">{"x":{"hc_opts":{"chart":{"reflow":true},"title":{"text":"Word Cloud of Green Construction Job Titles in Saint Paul"},"yAxis":{"title":{"text":[]}},"credits":{"enabled":false},"exporting":{"enabled":false},"boost":{"enabled":false},"plotOptions":{"series":{"label":{"enabled":false},"turboThreshold":0,"showInLegend":false},"treemap":{"layoutAlgorithm":"squarified"},"scatter":{"marker":{"symbol":"circle"}}},"series":[{"group":"group","data":[{"OCC_TITLE":null,"n":3,"name":null,"weight":3},{"OCC_TITLE":"Architects, Except Landscape and Naval","n":1,"name":"Architects, Except Landscape and Naval","weight":1},{"OCC_TITLE":"Architectural and Civil Drafters","n":1,"name":"Architectural and Civil Drafters","weight":1},{"OCC_TITLE":"Boilermakers","n":1,"name":"Boilermakers","weight":1},{"OCC_TITLE":"Carpenters","n":1,"name":"Carpenters","weight":1},{"OCC_TITLE":"Cement Masons and Concrete Finishers","n":1,"name":"Cement Masons and Concrete Finishers","weight":1},{"OCC_TITLE":"Civil Engineers","n":1,"name":"Civil Engineers","weight":1},{"OCC_TITLE":"Construction Laborers","n":1,"name":"Construction Laborers","weight":1},{"OCC_TITLE":"Construction Managers","n":1,"name":"Construction Managers","weight":1},{"OCC_TITLE":"Construction and Building Inspectors","n":1,"name":"Construction and Building Inspectors","weight":1},{"OCC_TITLE":"Electrical Engineers","n":1,"name":"Electrical Engineers","weight":1},{"OCC_TITLE":"Electricians","n":1,"name":"Electricians","weight":1},{"OCC_TITLE":"Financial and Investment Analysts","n":1,"name":"Financial and Investment Analysts","weight":1},{"OCC_TITLE":"Hazardous Materials Removal Workers","n":1,"name":"Hazardous Materials Removal Workers","weight":1},{"OCC_TITLE":"Heating, Air Conditioning, and Refrigeration Mechanics and Installers","n":1,"name":"Heating, Air Conditioning, and Refrigeration Mechanics and Installers","weight":1},{"OCC_TITLE":"Helpers--Installation, Maintenance, and Repair Workers","n":1,"name":"Helpers--Installation, Maintenance, and Repair Workers","weight":1},{"OCC_TITLE":"Industrial Truck and Tractor Operators","n":1,"name":"Industrial Truck and Tractor Operators","weight":1},{"OCC_TITLE":"Insulation Workers, Floor, Ceiling, and Wall","n":1,"name":"Insulation Workers, Floor, Ceiling, and Wall","weight":1},{"OCC_TITLE":"Laborers and Freight, Stock, and Material Movers, Hand","n":1,"name":"Laborers and Freight, Stock, and Material Movers, Hand","weight":1},{"OCC_TITLE":"Landscape Architects","n":1,"name":"Landscape Architects","weight":1},{"OCC_TITLE":"Mechanical Engineers","n":1,"name":"Mechanical Engineers","weight":1},{"OCC_TITLE":"Operating Engineers and Other Construction Equipment Operators","n":1,"name":"Operating Engineers and Other Construction Equipment Operators","weight":1},{"OCC_TITLE":"Plumbers, Pipefitters, and Steamfitters","n":1,"name":"Plumbers, Pipefitters, and Steamfitters","weight":1},{"OCC_TITLE":"Power Plant Operators","n":1,"name":"Power Plant Operators","weight":1},{"OCC_TITLE":"Roofers","n":1,"name":"Roofers","weight":1},{"OCC_TITLE":"Sheet Metal Workers","n":1,"name":"Sheet Metal Workers","weight":1},{"OCC_TITLE":"Structural Iron and Steel Workers","n":1,"name":"Structural Iron and Steel Workers","weight":1},{"OCC_TITLE":"Structural Metal Fabricators and Fitters","n":1,"name":"Structural Metal Fabricators and Fitters","weight":1},{"OCC_TITLE":"Urban and Regional Planners","n":1,"name":"Urban and Regional Planners","weight":1},{"OCC_TITLE":"Welders, Cutters, Solderers, and Brazers","n":1,"name":"Welders, Cutters, Solderers, and Brazers","weight":1}],"type":"wordcloud"}],"xAxis":{"type":null,"title":{"text":[]},"categories":null}},"theme":{"chart":{"backgroundColor":"transparent"},"colors":["#7cb5ec","#434348","#90ed7d","#f7a35c","#8085e9","#f15c80","#e4d354","#2b908f","#f45b5b","#91e8e1"]},"conf_opts":{"global":{"Date":null,"VMLRadialGradientURL":"http =//code.highcharts.com/list(version)/gfx/vml-radial-gradient.png","canvasToolsURL":"http =//code.highcharts.com/list(version)/modules/canvas-tools.js","getTimezoneOffset":null,"timezoneOffset":0,"useUTC":true},"lang":{"contextButtonTitle":"Chart context menu","decimalPoint":".","downloadCSV":"Download CSV","downloadJPEG":"Download JPEG image","downloadPDF":"Download PDF document","downloadPNG":"Download PNG image","downloadSVG":"Download SVG vector image","downloadXLS":"Download XLS","drillUpText":"◁ Back to {series.name}","exitFullscreen":"Exit from full screen","exportData":{"annotationHeader":"Annotations","categoryDatetimeHeader":"DateTime","categoryHeader":"Category"},"hideData":"Hide data table","invalidDate":null,"loading":"Loading...","months":["January","February","March","April","May","June","July","August","September","October","November","December"],"noData":"No data to display","numericSymbolMagnitude":1000,"numericSymbols":["k","M","G","T","P","E"],"printChart":"Print chart","resetZoom":"Reset zoom","resetZoomTitle":"Reset zoom level 1:1","shortMonths":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"shortWeekdays":["Sat","Sun","Mon","Tue","Wed","Thu","Fri"],"thousandsSep":" ","viewData":"View data table","viewFullscreen":"View in full screen","weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},"type":"chart","fonts":[],"debug":false},"evals":[],"jsHooks":[]}</script>
</div>
<a class="quarto-notebook-link" id="nblink-24" href="index-preview.html">Source: Article Notebook</a></div>
<p>Let’s export for graphing</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Export the St. Paul jobs data to CSV for graphing</span></span>
<span id="cb88-2"><a href="#cb88-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(st_paul_jobs, <span class="fu">here</span>(<span class="st">"processed_data"</span>, <span class="st">"st_paul_jobs.csv"</span>), <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span>
<span id="cb88-3"><a href="#cb88-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb88-4"><a href="#cb88-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Export the job_type_summary dataset for St. Paul to CSV for graphing</span></span>
<span id="cb88-5"><a href="#cb88-5" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(job_type_summary_st_paul, <span class="fu">here</span>(<span class="st">"processed_data"</span>, <span class="st">"st_paul_job_type_summary.csv"</span>), <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<a class="quarto-notebook-link" id="nblink-25" href="index-preview.html">Source: Article Notebook</a></div>
</section>
</section>
<section id="quality-pay-and-qualifications-of-green-jobs" class="level3">
<h3 class="anchored" data-anchor-id="quality-pay-and-qualifications-of-green-jobs">3. Quality, Pay, and Qualifications of Green Jobs</h3>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
RQ 3: What is the quality of these green jobs? How much do they pay? What qualifications are needed (education and experience) nationally?
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>Higher education</strong> is associated with better-quality green jobs, particularly in the energy efficiency sector. Most high- and medium-quality jobs in energy efficiency require at least a Bachelor’s Degree.</p>
<p><strong>Individuals with lower education levels</strong> are more likely to end up in green construction, especially in lower-quality jobs. Energy efficiency tends to offer a better quality of jobs across all education levels, with strong representation in both high and medium-quality segments.</p>
<p><strong>Union membership</strong> is <strong>associated</strong> with <strong>higher-quality jobs</strong> in all three sectors, particularly in energy efficiency and renewable energy generation, where a majority of high-quality jobs are unionized.</p>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb89"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Import green job quality data</span></span>
<span id="cb89-2"><a href="#cb89-2" aria-hidden="true" tabindex="-1"></a>quality_green_jobs <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="fu">here</span>(<span class="st">"processed_data"</span>, <span class="st">"Job_Info_Merged_All_Green.csv"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr hidden">
<pre><code>Rows: 128 Columns: 29
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr (14): Reported Occupation, O*NET-SOC Code, O*NET-SOC Title, O*NET-SOC Ca...
dbl (15): Renewable Energy Generation, Energy Efficiency, Green Construction...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb91"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(quality_green_jobs, <span class="fu">here</span>(<span class="st">"processed_data"</span>, <span class="st">"quality_green_jobs.rds"</span>))</span>
<span id="cb91-2"><a href="#cb91-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb91-3"><a href="#cb91-3" aria-hidden="true" tabindex="-1"></a>quality_green_jobs <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="fu">here</span>(<span class="st">"processed_data"</span>, <span class="st">"quality_green_jobs.rds"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<a class="quarto-notebook-link" id="nblink-26" href="index-preview.html">Source: Article Notebook</a></div>
<p>Now, let’s transform this dataframe so it’s visualization-ready.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb92"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb92-1"><a href="#cb92-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Rename columns to snake_case format</span></span>
<span id="cb92-2"><a href="#cb92-2" aria-hidden="true" tabindex="-1"></a>quality_green_jobs <span class="ot">&lt;-</span> quality_green_jobs <span class="sc">%&gt;%</span></span>
<span id="cb92-3"><a href="#cb92-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(</span>
<span id="cb92-4"><a href="#cb92-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">report_occupation =</span> <span class="st">`</span><span class="at">Reported Occupation</span><span class="st">`</span>,</span>
<span id="cb92-5"><a href="#cb92-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">onet_soc_code =</span> <span class="st">`</span><span class="at">O*NET-SOC Code</span><span class="st">`</span>,</span>
<span id="cb92-6"><a href="#cb92-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">onet_soc_title =</span> <span class="st">`</span><span class="at">O*NET-SOC Title</span><span class="st">`</span>,</span>
<span id="cb92-7"><a href="#cb92-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">onet_soc_category =</span> <span class="st">`</span><span class="at">O*NET-SOC Category</span><span class="st">`</span>,</span>
<span id="cb92-8"><a href="#cb92-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">onet_soc_sector =</span> <span class="st">`</span><span class="at">O*NET-SOC Sector</span><span class="st">`</span>,</span>
<span id="cb92-9"><a href="#cb92-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">renewable_energy_generation =</span> <span class="st">`</span><span class="at">Renewable Energy Generation</span><span class="st">`</span>,</span>
<span id="cb92-10"><a href="#cb92-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">energy_efficiency =</span> <span class="st">`</span><span class="at">Energy Efficiency</span><span class="st">`</span>,</span>
<span id="cb92-11"><a href="#cb92-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">green_construction =</span> <span class="st">`</span><span class="at">Green Construction</span><span class="st">`</span>,</span>
<span id="cb92-12"><a href="#cb92-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">benchmark_total =</span> <span class="st">`</span><span class="at">Benchmark Total</span><span class="st">`</span>,</span>
<span id="cb92-13"><a href="#cb92-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">wage =</span> Wage,</span>
<span id="cb92-14"><a href="#cb92-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">forty_hours =</span> <span class="st">`</span><span class="at">40 hours</span><span class="st">`</span>,</span>
<span id="cb92-15"><a href="#cb92-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">schedule =</span> Schedule,</span>
<span id="cb92-16"><a href="#cb92-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">health_ins =</span> <span class="st">`</span><span class="at">Health Ins</span><span class="st">`</span>,</span>
<span id="cb92-17"><a href="#cb92-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">retirement =</span> Retirement,</span>
<span id="cb92-18"><a href="#cb92-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">growth =</span> Growth,</span>
<span id="cb92-19"><a href="#cb92-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">unemployment =</span> Unemployment,</span>
<span id="cb92-20"><a href="#cb92-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">illness_injury =</span> <span class="st">`</span><span class="at">Illness/injury</span><span class="st">`</span>,</span>
<span id="cb92-21"><a href="#cb92-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">ojt =</span> OJT,</span>
<span id="cb92-22"><a href="#cb92-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">union =</span> Union,</span>
<span id="cb92-23"><a href="#cb92-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">autonomy_benchmark =</span> autonomy_benchmark,</span>
<span id="cb92-24"><a href="#cb92-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">quality =</span> quality,</span>
<span id="cb92-25"><a href="#cb92-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">education =</span> education,</span>
<span id="cb92-26"><a href="#cb92-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">matrix_title =</span> <span class="st">`</span><span class="at">2022 National Employment Matrix title</span><span class="st">`</span>,</span>
<span id="cb92-27"><a href="#cb92-27" aria-hidden="true" tabindex="-1"></a>    <span class="at">matrix_code =</span> <span class="st">`</span><span class="at">2022 National Employment Matrix code</span><span class="st">`</span>,</span>
<span id="cb92-28"><a href="#cb92-28" aria-hidden="true" tabindex="-1"></a>    <span class="at">typical_education_needed =</span> <span class="st">`</span><span class="at">Typical education needed for entry</span><span class="st">`</span>,</span>
<span id="cb92-29"><a href="#cb92-29" aria-hidden="true" tabindex="-1"></a>    <span class="at">work_experience_related =</span> <span class="st">`</span><span class="at">Work experience in a related occupation</span><span class="st">`</span>,</span>
<span id="cb92-30"><a href="#cb92-30" aria-hidden="true" tabindex="-1"></a>    <span class="at">on_the_job_training =</span> <span class="st">`</span><span class="at">Typical on-the-job training needed to attain competency in the occupation</span><span class="st">`</span></span>
<span id="cb92-31"><a href="#cb92-31" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<a class="quarto-notebook-link" id="nblink-27" href="index-preview.html">Source: Article Notebook</a></div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb93"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb93-1"><a href="#cb93-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert the variables to the correct types</span></span>
<span id="cb93-2"><a href="#cb93-2" aria-hidden="true" tabindex="-1"></a>quality_green_jobs <span class="ot">&lt;-</span> quality_green_jobs <span class="sc">%&gt;%</span></span>
<span id="cb93-3"><a href="#cb93-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb93-4"><a href="#cb93-4" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Factors</span></span>
<span id="cb93-5"><a href="#cb93-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">onet_soc_category =</span> <span class="fu">factor</span>(onet_soc_category),</span>
<span id="cb93-6"><a href="#cb93-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">onet_soc_sector =</span> <span class="fu">factor</span>(onet_soc_sector),</span>
<span id="cb93-7"><a href="#cb93-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">quality =</span> <span class="fu">factor</span>(quality, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"Low Quality"</span>, <span class="st">"Medium Quality"</span>, <span class="st">"High Quality"</span>)),</span>
<span id="cb93-8"><a href="#cb93-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">education =</span> <span class="fu">factor</span>(education),</span>
<span id="cb93-9"><a href="#cb93-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">typical_education_needed =</span> <span class="fu">factor</span>(typical_education_needed),</span>
<span id="cb93-10"><a href="#cb93-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">work_experience_related =</span> <span class="fu">factor</span>(work_experience_related),</span>
<span id="cb93-11"><a href="#cb93-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">on_the_job_training =</span> <span class="fu">factor</span>(on_the_job_training),</span>
<span id="cb93-12"><a href="#cb93-12" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb93-13"><a href="#cb93-13" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Yes/No columns as numeric (1 for Yes, 0 for No)</span></span>
<span id="cb93-14"><a href="#cb93-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">renewable_energy_generation =</span> <span class="fu">as.numeric</span>(renewable_energy_generation),</span>
<span id="cb93-15"><a href="#cb93-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">energy_efficiency =</span> <span class="fu">as.numeric</span>(energy_efficiency),</span>
<span id="cb93-16"><a href="#cb93-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">green_construction =</span> <span class="fu">as.numeric</span>(green_construction),</span>
<span id="cb93-17"><a href="#cb93-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">wage =</span> <span class="fu">as.numeric</span>(wage),</span>
<span id="cb93-18"><a href="#cb93-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">forty_hours =</span> <span class="fu">as.numeric</span>(forty_hours),</span>
<span id="cb93-19"><a href="#cb93-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">schedule =</span> <span class="fu">as.numeric</span>(schedule),</span>
<span id="cb93-20"><a href="#cb93-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">health_ins =</span> <span class="fu">as.numeric</span>(health_ins),</span>
<span id="cb93-21"><a href="#cb93-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">retirement =</span> <span class="fu">as.numeric</span>(retirement),</span>
<span id="cb93-22"><a href="#cb93-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">growth =</span> <span class="fu">as.numeric</span>(growth),</span>
<span id="cb93-23"><a href="#cb93-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">unemployment =</span> <span class="fu">as.numeric</span>(unemployment),</span>
<span id="cb93-24"><a href="#cb93-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">illness_injury =</span> <span class="fu">as.numeric</span>(illness_injury),</span>
<span id="cb93-25"><a href="#cb93-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">ojt =</span> <span class="fu">as.numeric</span>(ojt),</span>
<span id="cb93-26"><a href="#cb93-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">union =</span> <span class="fu">as.numeric</span>(union),</span>
<span id="cb93-27"><a href="#cb93-27" aria-hidden="true" tabindex="-1"></a>    <span class="at">autonomy_benchmark =</span> <span class="fu">as.numeric</span>(autonomy_benchmark)</span>
<span id="cb93-28"><a href="#cb93-28" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<a class="quarto-notebook-link" id="nblink-28" href="index-preview.html">Source: Article Notebook</a></div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb94"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Visualize quality jobs compared across sectors</span></span>
<span id="cb94-2"><a href="#cb94-2" aria-hidden="true" tabindex="-1"></a>quality_summary <span class="ot">&lt;-</span> quality_green_jobs <span class="sc">%&gt;%</span></span>
<span id="cb94-3"><a href="#cb94-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gather</span>(<span class="at">key =</span> <span class="st">"sector"</span>, <span class="at">value =</span> <span class="st">"is_green_job"</span>, renewable_energy_generation, energy_efficiency, green_construction) <span class="sc">%&gt;%</span></span>
<span id="cb94-4"><a href="#cb94-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(is_green_job <span class="sc">==</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb94-5"><a href="#cb94-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(sector, quality) <span class="sc">%&gt;%</span></span>
<span id="cb94-6"><a href="#cb94-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">count =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb94-7"><a href="#cb94-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">percentage =</span> count <span class="sc">/</span> <span class="fu">sum</span>(count) <span class="sc">*</span> <span class="dv">100</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr hidden">
<pre><code>`summarise()` has grouped output by 'sector'. You can override using the
`.groups` argument.</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb96"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb96-1"><a href="#cb96-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(quality_summary, <span class="fu">aes</span>(<span class="at">x =</span> sector, <span class="at">y =</span> percentage, <span class="at">fill =</span> quality)) <span class="sc">+</span></span>
<span id="cb96-2"><a href="#cb96-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">position =</span> <span class="st">"fill"</span>, <span class="at">width =</span> <span class="fl">0.7</span>) <span class="sc">+</span></span>
<span id="cb96-3"><a href="#cb96-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> <span class="fu">paste0</span>(<span class="fu">round</span>(percentage, <span class="dv">1</span>), <span class="st">"%"</span>)), </span>
<span id="cb96-4"><a href="#cb96-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">position =</span> <span class="fu">position_fill</span>(<span class="at">vjust =</span> <span class="fl">0.5</span>), <span class="at">size =</span> <span class="dv">4</span>) <span class="sc">+</span></span>
<span id="cb96-5"><a href="#cb96-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Sector"</span>, <span class="at">y =</span> <span class="st">"Percentage"</span>, <span class="at">title =</span> <span class="st">"Green Job Quality by Sector"</span>) <span class="sc">+</span></span>
<span id="cb96-6"><a href="#cb96-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"High Quality"</span> <span class="ot">=</span> <span class="st">"#1f77b4"</span>, <span class="st">"Medium Quality"</span> <span class="ot">=</span> <span class="st">"#ffbb78"</span>, <span class="st">"Low Quality"</span> <span class="ot">=</span> <span class="st">"#2ca02c"</span>)) <span class="sc">+</span></span>
<span id="cb96-7"><a href="#cb96-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb96-8"><a href="#cb96-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.title =</span> <span class="fu">element_blank</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><a href="index_files/figure-html/unnamed-chunk-28-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-1"><img src="index_files/figure-html/unnamed-chunk-28-1.png" class="img-fluid figure-img" width="672"></a></p>
</figure>
</div>
</div>
<a class="quarto-notebook-link" id="nblink-29" href="index-preview.html">Source: Article Notebook</a></div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb97"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb97-1"><a href="#cb97-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Visualize quality jobs compared for sector, education, and quality</span></span>
<span id="cb97-2"><a href="#cb97-2" aria-hidden="true" tabindex="-1"></a>quality_summary_education <span class="ot">&lt;-</span> quality_green_jobs <span class="sc">%&gt;%</span></span>
<span id="cb97-3"><a href="#cb97-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gather</span>(<span class="at">key =</span> <span class="st">"sector"</span>, <span class="at">value =</span> <span class="st">"is_green_job"</span>, renewable_energy_generation, energy_efficiency, green_construction) <span class="sc">%&gt;%</span></span>
<span id="cb97-4"><a href="#cb97-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(is_green_job <span class="sc">==</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb97-5"><a href="#cb97-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(sector, quality, education) <span class="sc">%&gt;%</span></span>
<span id="cb97-6"><a href="#cb97-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">count =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb97-7"><a href="#cb97-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">percentage =</span> count <span class="sc">/</span> <span class="fu">sum</span>(count) <span class="sc">*</span> <span class="dv">100</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr hidden">
<pre><code>`summarise()` has grouped output by 'sector', 'quality'. You can override using
the `.groups` argument.</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb99"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb99-1"><a href="#cb99-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(quality_summary_education, <span class="fu">aes</span>(<span class="at">x =</span> education, <span class="at">y =</span> percentage, <span class="at">fill =</span> sector)) <span class="sc">+</span></span>
<span id="cb99-2"><a href="#cb99-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">position =</span> <span class="st">"dodge"</span>) <span class="sc">+</span></span>
<span id="cb99-3"><a href="#cb99-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> quality, <span class="at">ncol =</span> <span class="dv">1</span>, <span class="at">scales =</span> <span class="st">"free_y"</span>) <span class="sc">+</span> <span class="co"># Separate the quality levels</span></span>
<span id="cb99-4"><a href="#cb99-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> <span class="fu">paste0</span>(<span class="fu">round</span>(percentage, <span class="dv">1</span>), <span class="st">"%"</span>)), </span>
<span id="cb99-5"><a href="#cb99-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">position =</span> <span class="fu">position_dodge</span>(<span class="at">width =</span> <span class="fl">0.9</span>), <span class="at">vjust =</span> <span class="sc">-</span><span class="fl">0.5</span>, <span class="at">size =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb99-6"><a href="#cb99-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Education Level"</span>, <span class="at">y =</span> <span class="st">"Percentage"</span>, <span class="at">title =</span> <span class="st">"Green Job Quality by Sector and Education"</span>) <span class="sc">+</span></span>
<span id="cb99-7"><a href="#cb99-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb99-8"><a href="#cb99-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.title =</span> <span class="fu">element_blank</span>(), <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><a href="index_files/figure-html/unnamed-chunk-29-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-2"><img src="index_files/figure-html/unnamed-chunk-29-1.png" class="img-fluid figure-img" width="672"></a></p>
</figure>
</div>
</div>
<a class="quarto-notebook-link" id="nblink-30" href="index-preview.html">Source: Article Notebook</a></div>
<p>This graph shows how the distribution of green jobs (energy efficiency, green construction, renewable energy generation) varies across different levels of education, segmented by job quality (Low, Medium, High quality).</p>
<p>Based on the above graph:</p>
<ul>
<li><p><strong>Energy Efficiency</strong> consistently dominates high-quality and medium-quality green jobs across most education levels, suggesting that this sector offers the most secure and rewarding jobs for those with varying levels of education.</p></li>
<li><p><strong>Green Construction</strong> has a significant presence in low-quality and medium-quality jobs, especially for those with lower education levels (such as high school diplomas or no formal educational credentials).</p></li>
<li><p><strong>Renewable Energy Generation</strong> seems to have fewer high-quality job opportunities compared to energy efficiency, but it does offer medium-quality opportunities, particularly for those with lower education levels.</p></li>
</ul>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb100"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb100-1"><a href="#cb100-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Visualize quality jobs compared for sector, union membership, and quality</span></span>
<span id="cb100-2"><a href="#cb100-2" aria-hidden="true" tabindex="-1"></a>quality_summary_union <span class="ot">&lt;-</span> quality_green_jobs <span class="sc">%&gt;%</span></span>
<span id="cb100-3"><a href="#cb100-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gather</span>(<span class="at">key =</span> <span class="st">"sector"</span>, <span class="at">value =</span> <span class="st">"is_green_job"</span>, renewable_energy_generation, energy_efficiency, green_construction) <span class="sc">%&gt;%</span></span>
<span id="cb100-4"><a href="#cb100-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(is_green_job <span class="sc">==</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb100-5"><a href="#cb100-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(sector, quality, union) <span class="sc">%&gt;%</span></span>
<span id="cb100-6"><a href="#cb100-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">count =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb100-7"><a href="#cb100-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">percentage =</span> count <span class="sc">/</span> <span class="fu">sum</span>(count) <span class="sc">*</span> <span class="dv">100</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr hidden">
<pre><code>`summarise()` has grouped output by 'sector', 'quality'. You can override using
the `.groups` argument.</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb102"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb102-1"><a href="#cb102-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(quality_summary_union, <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">as.factor</span>(union), <span class="at">y =</span> percentage, <span class="at">fill =</span> sector)) <span class="sc">+</span></span>
<span id="cb102-2"><a href="#cb102-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">position =</span> <span class="st">"dodge"</span>) <span class="sc">+</span></span>
<span id="cb102-3"><a href="#cb102-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> quality, <span class="at">ncol =</span> <span class="dv">1</span>, <span class="at">scales =</span> <span class="st">"free_y"</span>) <span class="sc">+</span> <span class="co"># Separate the quality levels</span></span>
<span id="cb102-4"><a href="#cb102-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> <span class="fu">paste0</span>(<span class="fu">round</span>(percentage, <span class="dv">1</span>), <span class="st">"%"</span>)), </span>
<span id="cb102-5"><a href="#cb102-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">position =</span> <span class="fu">position_dodge</span>(<span class="at">width =</span> <span class="fl">0.9</span>), <span class="at">vjust =</span> <span class="sc">-</span><span class="fl">0.5</span>, <span class="at">size =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb102-6"><a href="#cb102-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">"Union Membership"</span>, <span class="at">y =</span> <span class="st">"Percentage"</span>, <span class="at">title =</span> <span class="st">"Green Job Quality by Sector and Union Membership"</span>) <span class="sc">+</span></span>
<span id="cb102-7"><a href="#cb102-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb102-8"><a href="#cb102-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.title =</span> <span class="fu">element_blank</span>(), <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><a href="index_files/figure-html/unnamed-chunk-30-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-3"><img src="index_files/figure-html/unnamed-chunk-30-1.png" class="img-fluid figure-img" width="672"></a></p>
</figure>
</div>
</div>
<a class="quarto-notebook-link" id="nblink-31" href="index-preview.html">Source: Article Notebook</a></div>
<p>The above graph shows green job quality segmented by union membership across three sectors: <strong>Energy Efficiency</strong>, <strong>Green Construction</strong>, and <strong>Renewable Energy Generation</strong>.</p>
<ul>
<li><p><strong>Union membership</strong> is <strong>associated</strong> with <strong>higher-quality jobs</strong> in all three sectors, particularly in energy efficiency and renewable energy generation, where a majority of high-quality jobs are unionized. This suggests that <strong>unions play a significant role in securing better working conditions and benefits</strong> for workers in green jobs.</p></li>
<li><p><strong>Medium-quality jobs</strong> also show a clear advantage for unionized workers across the sectors, particularly in green construction and renewable energy generation.</p></li>
<li><p>The presence of <strong>union coverage even in low-quality jobs</strong> across sectors might indicate that unionized jobs are spread across different quality categories, though the majority of benefits seem to concentrate in medium- and high-quality roles.</p></li>
</ul>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb103"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb103-1"><a href="#cb103-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Export the green quality jobs data to CSV for graphing</span></span>
<span id="cb103-2"><a href="#cb103-2" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(quality_green_jobs, <span class="fu">here</span>(<span class="st">"processed_data"</span>, <span class="st">"quality_green_jobs.rds"</span>))</span>
<span id="cb103-3"><a href="#cb103-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb103-4"><a href="#cb103-4" aria-hidden="true" tabindex="-1"></a><span class="fu">write_csv</span>(quality_green_jobs, <span class="fu">here</span>(<span class="st">"processed_data"</span>, <span class="st">"quality_green_jobs.csv"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<a class="quarto-notebook-link" id="nblink-32" href="index-preview.html">Source: Article Notebook</a></div>
</section>
<section id="demographics-of-green-job-recipients" class="level3">
<h3 class="anchored" data-anchor-id="demographics-of-green-job-recipients">4. Demographics of Green Job Recipients</h3>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
RQ 4: Who is getting quality green jobs, based on education, race/ethnicity, gender, and income levels in the City of Saint Paul?
</div>
</div>
<div class="callout-body-container callout-body">
<p>Of the more than <strong>303,820 people</strong> who live in <strong>St.&nbsp;Paul</strong>, <strong>50.5%</strong> are women, which is aligned with the national average. The majority of residents in St.&nbsp;Paul are <strong>white</strong> (54.3%). <strong>Black or African American people</strong> (15.6%) make up the largest community of color in the city. Other <strong>communities of color,</strong> including Asian (18.4%), Alaska and Native American (0.7%), Hispanic or Latino (8.6%) and Two or More Races (7.8%), make up about 41.5% of the population. Around <strong>42.8% of people aged 25 and older have a bachelor’s degree</strong> in St.&nbsp;Paul, which is higher than the national rate of 34% but lower than Minneapolis’ 54%.</p>
<p>Across all sectors and job quality categories in Saint Paul, <strong>men are significantly overrepresented</strong> in green jobs, particularly in high and medium-quality jobs. This is consistent across energy efficiency, green construction, and renewable energy generation. <strong>Women</strong> are particularly underrepresented in high and medium-quality jobs across all sectors, especially in green construction and renewable energy generation.&nbsp;</p>
<p>Across all three sectors and job quality levels, <strong>white individuals are heavily overrepresented</strong>, particularly in high and medium-quality jobs. This trend is consistent across energy efficiency, green construction, and renewable energy generation. <strong>People of color,</strong> particularly American Indian, Black or African American, and individuals from some other races, are underrepresented in high-quality jobs across all sectors. While there is some representation in low and medium-quality jobs, these groups still have limited access to the higher-quality roles.</p>
<p><strong>Higher education,</strong> particularly bachelor’s degrees and professional degrees beyond a bachelor’s, plays a significant role in accessing <strong>high-quality green jobs</strong> across all sectors in Saint Paul. In sectors like energy efficiency, having a bachelor’s degree appears to be almost a prerequisite for high-quality roles.</p>
<p><strong>Medium-quality jobs</strong> tend to be more accessible to individuals with a wider variety of educational backgrounds, including those with high school diplomas, GEDs, and some college education.</p>
<p><strong>Lower educational attainment</strong> is more common in low-quality jobs across all sectors. Individuals with high school diplomas or GEDs are more likely to be found in low-quality roles in all sectors.</p>
<p>Across all sectors and job quality categories, <strong>white workers tend to have higher income</strong> ranges compared to other racial groups. This disparity is most pronounced in high-quality jobs, where White workers dominate the upper-income brackets.</p>
<p>While other racial groups are present in high-quality jobs, <strong>their income distribution is narrower and lower than that of white workers.</strong> Asian workers in green construction are the closest to White workers in terms of income distribution, but other racial groups, such as Black or African American workers, tend to earn significantly less.</p>
<p><strong>Low-quality jobs</strong> show more clustering toward lower-income brackets across all racial groups, with fewer opportunities for higher earnings. While white workers still tend to earn more in low-quality jobs, the income gap is narrower compared to higher-quality roles.</p>
</div>
</div>
<p>In the following figures, we describe the challenges women and people of color in Saint Paul are likely to face in equitably accessing the jobs that may be created through BIL and IRA funding in three specific sectors: energy efficiency, renewable-energy generation, and green construction.</p>
<ul>
<li><p><strong>2023 Occupational Employment and Wage Survey (OEWS):</strong></p>
<ul>
<li><p>Provides employment and wage data by occupation.</p></li>
<li><p>It’s organized at the <strong>Metropolitan Statistical Area (MSA)</strong> level, which includes a broader geographic area (e.g., Minneapolis-St.&nbsp;Paul-Bloomington, MN-WI Metro).</p></li>
<li><p>This data gives insights into <strong>jobs and wages</strong> but lacks detailed individual demographics such as race, ethnicity, education, etc.</p></li>
</ul></li>
<li><p><strong>Geocorr Data from the Missouri Census Data Center:</strong></p>
<ul>
<li><p>This data helps map geographic boundaries like PUMAs (Public Use Microdata Areas) to more specific local areas, such as St.&nbsp;Paul.</p></li>
<li><p>By using geographic weighting from Geocorr, we can estimate <strong>St.&nbsp;Paul-specific</strong> statistics from the broader MSA-level data in the OEWS.</p></li>
</ul></li>
</ul>
<ol type="1">
<li>Load and explore the two datasets.</li>
<li>Filter the OEWS data to the Minneapolis-St.&nbsp;Paul-Bloomington Metro area.</li>
<li>Get weights from the Geocorr file to adjust for St.&nbsp;Paul’s population.</li>
<li>Merge demographic data (from ACS) with the estimated job/wage data from OEWS.</li>
<li>Analyze the final dataset for insights into who holds green jobs in St.&nbsp;Paul.</li>
</ol>
<p>We will first need to load the <strong>OEWS</strong> data (Occupational Employment and Wage Survey) and the <strong>Geocorr</strong> data (geographic weights from the Missouri Census Data Center) into R.</p>
<ul>
<li><p><strong>OEWS:</strong> processed_data/OWES_and_ONET_St_Paul</p></li>
<li><p><strong>Geocorr:</strong> raw_data/Geocorr from the Missouri Census Data Center - Minnesota.xlsx</p></li>
</ul>
<p>We have the <strong>ACS (American Community Survey)</strong> data that provides demographic information (education, race, gender, income), so we’ll load that as well.</p>
<ul>
<li><strong>ACS:</strong> processed_data/St_Paul_ACS_All_Jobs.csv</li>
</ul>
<p><strong>Load the OEWS data</strong> (Occupational Employment and Wage Survey), the Geocorr data (geographic weights from the Missouri Census Data Center), and the ACS (American Community Survey) data that provides demographic information (education, race, gender, income). The OEWS Data: is already filtered to the Minneapolis-St.&nbsp;Paul-Bloomington, MN-WI Metro Area.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb104"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb104-1"><a href="#cb104-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load St. Paul jobs data (OEWS dataset)</span></span>
<span id="cb104-2"><a href="#cb104-2" aria-hidden="true" tabindex="-1"></a>st_paul_jobs <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="fu">here</span>(<span class="st">"processed_data"</span>, <span class="st">"OWES_and_ONET-St_Paul.csv"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr hidden">
<pre><code>Rows: 742 Columns: 34
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr (26): AREA_TITLE, PRIM_STATE, NAICS_TITLE, I_GROUP, OCC_CODE, OCC_TITLE,...
dbl  (4): AREA, AREA_TYPE, NAICS, OWN_CODE
lgl  (4): PCT_TOTAL, PCT_RPT, ANNUAL, HOURLY

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb106"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb106-1"><a href="#cb106-1" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(st_paul_jobs, <span class="fu">here</span>(<span class="st">"processed_data"</span>, <span class="st">"st_paul_jobs.rds"</span>))</span>
<span id="cb106-2"><a href="#cb106-2" aria-hidden="true" tabindex="-1"></a>st_paul_jobs <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="fu">here</span>(<span class="st">"processed_data"</span>, <span class="st">"st_paul_jobs.rds"</span>))</span>
<span id="cb106-3"><a href="#cb106-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb106-4"><a href="#cb106-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Load the Geocorr data from Excel (Minnesota-specific)</span></span>
<span id="cb106-5"><a href="#cb106-5" aria-hidden="true" tabindex="-1"></a>geocorr_data <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="fu">here</span>(<span class="st">"raw_data"</span>, <span class="st">"Geocorr from the Missouri Census Data Center - Minnesota.xlsx"</span>))</span>
<span id="cb106-6"><a href="#cb106-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb106-7"><a href="#cb106-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Load the ACS data for St. Paul (demographic data)</span></span>
<span id="cb106-8"><a href="#cb106-8" aria-hidden="true" tabindex="-1"></a>acs_data <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="fu">here</span>(<span class="st">"processed_data"</span>, <span class="st">"St_Paul_ACS_All_Jobs.csv"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr hidden">
<pre><code>Rows: 1730 Columns: 19
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr  (7): RT, SERIALNO, SOCP, RAC1P, SEX, SCHL, O*NET-SOC Title
dbl (12): DIVISION, SPORDER, PUMA20, REGION, ST, AGEP, PINCP, ADJINC, WAGP, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb108"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb108-1"><a href="#cb108-1" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(acs_data, <span class="fu">here</span>(<span class="st">"processed_data"</span>, <span class="st">"acs_data.rds"</span>))</span>
<span id="cb108-2"><a href="#cb108-2" aria-hidden="true" tabindex="-1"></a>acs_data <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="fu">here</span>(<span class="st">"processed_data"</span>, <span class="st">"acs_data.rds"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<a class="quarto-notebook-link" id="nblink-33" href="index-preview.html">Source: Article Notebook</a></div>
<p><strong>Use Geocorr to apply weights.</strong> The <strong>Geocorr</strong> data provides the geographic weights that represent the population of St.&nbsp;Paul relative to the larger metro area.The purpose of this step is to adjust the OEWS data to better represent <strong>St.&nbsp;Paul</strong> specifically. We will calculate the percentage of St.&nbsp;Paul’s population in the larger metro area using <strong>Geocorr</strong> and apply this as a weight to the OEWS data.</p>
<p>Since we are working with PUMAs (Public Use Microdata Areas) and need to adjust the OEWS data for St.&nbsp;Paul using the Geocorr weights, we’ll focus on using:</p>
<ul>
<li><p><code>Total population (2020 Census)</code> to understand the population of each PUMA.</p></li>
<li><p><code>puma22-to-cbsa20</code> allocation factor, which represents the proportion of the population in each PUMA that falls within the Minneapolis-St.&nbsp;Paul-Bloomington metro area.</p></li>
</ul>
<p>The St.&nbsp;Paul weighted allocation factor is 1, which means that for these specific PUMAs (representing <strong>Ramsey County–St.&nbsp;Paul City</strong>), the entire population is considered part of the Minneapolis-St.&nbsp;Paul-Bloomington metro area. This result suggests that we can apply the full population of these PUMAs without needing further weighting, which simplifies the next steps.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb109"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb109-1"><a href="#cb109-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter the Geocorr data to only include St. Paul PUMAs</span></span>
<span id="cb109-2"><a href="#cb109-2" aria-hidden="true" tabindex="-1"></a>st_paul_geocorr <span class="ot">&lt;-</span> geocorr_data <span class="sc">%&gt;%</span></span>
<span id="cb109-3"><a href="#cb109-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="st">`</span><span class="at">PUMA22 name</span><span class="st">`</span> <span class="sc">%in%</span> <span class="fu">c</span>(</span>
<span id="cb109-4"><a href="#cb109-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Ramsey County--St. Paul City (Northwest)"</span>, </span>
<span id="cb109-5"><a href="#cb109-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Ramsey County--St. Paul City (Southwest)"</span>, </span>
<span id="cb109-6"><a href="#cb109-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Ramsey County--St. Paul City (East)"</span></span>
<span id="cb109-7"><a href="#cb109-7" aria-hidden="true" tabindex="-1"></a>  ))</span>
<span id="cb109-8"><a href="#cb109-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-9"><a href="#cb109-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the total population for St. Paul PUMAs and the weighted allocation factor</span></span>
<span id="cb109-10"><a href="#cb109-10" aria-hidden="true" tabindex="-1"></a>st_paul_population <span class="ot">&lt;-</span> <span class="fu">sum</span>(st_paul_geocorr<span class="sc">$</span><span class="st">`</span><span class="at">Total population (2020 Census)</span><span class="st">`</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb109-11"><a href="#cb109-11" aria-hidden="true" tabindex="-1"></a>metro_population <span class="ot">&lt;-</span> <span class="fu">sum</span>(geocorr_data<span class="sc">$</span><span class="st">`</span><span class="at">Total population (2020 Census)</span><span class="st">`</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb109-12"><a href="#cb109-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-13"><a href="#cb109-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the weighted population factor for St. Paul within the metro area using the allocation factor</span></span>
<span id="cb109-14"><a href="#cb109-14" aria-hidden="true" tabindex="-1"></a>st_paul_weight <span class="ot">&lt;-</span> <span class="fu">sum</span>(st_paul_geocorr<span class="sc">$</span><span class="st">`</span><span class="at">puma22-to-cbsa20 allocation factor</span><span class="st">`</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>) <span class="sc">/</span> <span class="fu">nrow</span>(st_paul_geocorr)</span>
<span id="cb109-15"><a href="#cb109-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb109-16"><a href="#cb109-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Output the results</span></span>
<span id="cb109-17"><a href="#cb109-17" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"St. Paul weighted allocation factor:"</span>, st_paul_weight, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>St. Paul weighted allocation factor: 1 </code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb111"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb111-1"><a href="#cb111-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"St. Paul population:"</span>, <span class="fu">format</span>(st_paul_population, <span class="at">big.mark =</span> <span class="st">","</span>, <span class="at">scientific =</span> <span class="cn">FALSE</span>), <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>St. Paul population: 311,527 </code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb113"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb113-1"><a href="#cb113-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Metro area population:"</span>, <span class="fu">format</span>(metro_population, <span class="at">big.mark =</span> <span class="st">","</span>, <span class="at">scientific =</span> <span class="cn">FALSE</span>), <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Metro area population: 5,706,494 </code></pre>
</div>
<a class="quarto-notebook-link" id="nblink-34" href="index-preview.html">Source: Article Notebook</a></div>
<p><strong>Estimate St.&nbsp;Paul-specific data</strong>. Multiply the employment numbers and wages in the <strong>OEWS</strong> data by the St.&nbsp;Paul weight to get <strong>St.&nbsp;Paul-specific</strong> employment and wage estimates.</p>
<p>We’ll multiply the employment numbers (TOT_EMP) and wages (H_MEAN and A_MEAN) from the <strong>OEWS</strong> dataset by this St.&nbsp;Paul weight to get <strong>St.&nbsp;Paul-specific estimates</strong>.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb115"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb115-1"><a href="#cb115-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Ensure that the necessary columns are numeric</span></span>
<span id="cb115-2"><a href="#cb115-2" aria-hidden="true" tabindex="-1"></a>st_paul_jobs <span class="ot">&lt;-</span> st_paul_jobs <span class="sc">%&gt;%</span></span>
<span id="cb115-3"><a href="#cb115-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb115-4"><a href="#cb115-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">TOT_EMP =</span> <span class="fu">as.numeric</span>(TOT_EMP),  <span class="co"># Convert total employment to numeric</span></span>
<span id="cb115-5"><a href="#cb115-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">H_MEAN =</span> <span class="fu">as.numeric</span>(H_MEAN),    <span class="co"># Convert mean hourly wage to numeric</span></span>
<span id="cb115-6"><a href="#cb115-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">A_MEAN =</span> <span class="fu">as.numeric</span>(A_MEAN)     <span class="co"># Convert mean annual wage to numeric</span></span>
<span id="cb115-7"><a href="#cb115-7" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr hidden">
<pre><code>Warning: There were 3 warnings in `mutate()`.
The first warning was:
ℹ In argument: `TOT_EMP = as.numeric(TOT_EMP)`.
Caused by warning:
! NAs introduced by coercion
ℹ Run `dplyr::last_dplyr_warnings()` to see the 2 remaining warnings.</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb117"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb117-1"><a href="#cb117-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Apply the St. Paul weight to the OEWS dataset to adjust the employment and wage data for St. Paul</span></span>
<span id="cb117-2"><a href="#cb117-2" aria-hidden="true" tabindex="-1"></a>st_paul_jobs_weighted <span class="ot">&lt;-</span> st_paul_jobs <span class="sc">%&gt;%</span></span>
<span id="cb117-3"><a href="#cb117-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb117-4"><a href="#cb117-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">TOT_EMP_St_Paul =</span> TOT_EMP <span class="sc">*</span> st_paul_weight,  <span class="co"># Adjusting total employment to St. Paul</span></span>
<span id="cb117-5"><a href="#cb117-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">H_MEAN_St_Paul =</span> H_MEAN <span class="sc">*</span> st_paul_weight,    <span class="co"># Adjusting mean hourly wage</span></span>
<span id="cb117-6"><a href="#cb117-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">A_MEAN_St_Paul =</span> A_MEAN <span class="sc">*</span> st_paul_weight     <span class="co"># Adjusting mean annual wage</span></span>
<span id="cb117-7"><a href="#cb117-7" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb117-8"><a href="#cb117-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb117-9"><a href="#cb117-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Output a glimpse of the adjusted St. Paul-specific job data</span></span>
<span id="cb117-10"><a href="#cb117-10" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(st_paul_jobs_weighted)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 742
Columns: 37
$ AREA               &lt;dbl&gt; 33460, 33460, 33460, 33460, 33460, 33460, 33460, 33…
$ AREA_TITLE         &lt;chr&gt; "Minneapolis-St. Paul-Bloomington, MN-WI", "Minneap…
$ AREA_TYPE          &lt;dbl&gt; 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, …
$ PRIM_STATE         &lt;chr&gt; "MN", "MN", "MN", "MN", "MN", "MN", "MN", "MN", "MN…
$ NAICS              &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …
$ NAICS_TITLE        &lt;chr&gt; "Cross-industry", "Cross-industry", "Cross-industry…
$ I_GROUP            &lt;chr&gt; "cross-industry", "cross-industry", "cross-industry…
$ OWN_CODE           &lt;dbl&gt; 1235, 1235, 1235, 1235, 1235, 1235, 1235, 1235, 123…
$ OCC_CODE           &lt;chr&gt; "00-0000", "11-0000", "11-1011", "11-1021", "11-103…
$ OCC_TITLE          &lt;chr&gt; "All Occupations", "Management Occupations", "Chief…
$ O_GROUP            &lt;chr&gt; "total", "major", "detailed", "detailed", "detailed…
$ TOT_EMP            &lt;dbl&gt; 1911030, 140870, 4420, 48300, 70, 90, 7000, 7390, 9…
$ EMP_PRSE           &lt;chr&gt; "0", "1.2", "3.9", "2", "11.9", "20.5", "3.4", "11.…
$ JOBS_1000          &lt;chr&gt; "1000", "73.712", "2.315", "25.272", "0.036", "0.04…
$ LOC_QUOTIENT       &lt;chr&gt; "1", "1.07", "1.66", "1.09", "0.17", "0.36", "1.51"…
$ PCT_TOTAL          &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
$ PCT_RPT            &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
$ H_MEAN             &lt;dbl&gt; 33.80, 69.10, 129.79, 59.93, NA, 59.25, 86.25, 81.1…
$ A_MEAN             &lt;dbl&gt; 70290, 143730, 269950, 124650, 82650, 123240, 17939…
$ MEAN_PRSE          &lt;chr&gt; "0.5", "1", "3.5", "1.2", "2.6", "8.7", "1.9", "2.4…
$ H_PCT10            &lt;chr&gt; "15.06", "29.27", "45.92", "22.92", "*", "33.65", "…
$ H_PCT25            &lt;chr&gt; "18.45", "41.06", "67.35", "32.21", "*", "37.64", "…
$ H_MEDIAN           &lt;chr&gt; "26.37", "61.33", "100.87", "49.26", "*", "55.5", "…
$ H_PCT75            &lt;chr&gt; "39.85", "83.45", "#", "76.63", "*", "70.61", "101.…
$ H_PCT90            &lt;chr&gt; "60.7", "110.83", "#", "105.67", "*", "98.35", "#",…
$ A_PCT10            &lt;chr&gt; "31320", "60890", "95510", "47670", "21140", "69990…
$ A_PCT25            &lt;chr&gt; "38380", "85410", "140090", "66990", "37050", "7828…
$ A_MEDIAN           &lt;chr&gt; "54850", "127570", "209820", "102460", "79000", "11…
$ A_PCT75            &lt;chr&gt; "82890", "173570", "#", "159380", "114000", "146860…
$ A_PCT90            &lt;chr&gt; "126260", "230520", "#", "219800", "151910", "20457…
$ ANNUAL             &lt;lgl&gt; NA, NA, NA, NA, TRUE, NA, NA, NA, NA, NA, NA, NA, N…
$ HOURLY             &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
$ `O*NET-SOC Code`   &lt;chr&gt; NA, NA, NA, "11-1021", NA, NA, NA, NA, NA, NA, NA, …
$ `O*NET-SOC Sector` &lt;chr&gt; NA, NA, NA, "Energy Efficiency", NA, NA, NA, NA, NA…
$ TOT_EMP_St_Paul    &lt;dbl&gt; 1911030, 140870, 4420, 48300, 70, 90, 7000, 7390, 9…
$ H_MEAN_St_Paul     &lt;dbl&gt; 33.80, 69.10, 129.79, 59.93, NA, 59.25, 86.25, 81.1…
$ A_MEAN_St_Paul     &lt;dbl&gt; 70290, 143730, 269950, 124650, 82650, 123240, 17939…</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb119"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb119-1"><a href="#cb119-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Save the adjusted St. Paul-specific dataset to an RDS and CSV file for future analysis</span></span>
<span id="cb119-2"><a href="#cb119-2" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(st_paul_jobs_weighted, <span class="fu">here</span>(<span class="st">"processed_data"</span>, <span class="st">"st_paul_jobs_weighted.rds"</span>))</span>
<span id="cb119-3"><a href="#cb119-3" aria-hidden="true" tabindex="-1"></a><span class="fu">write_csv</span>(st_paul_jobs_weighted, <span class="fu">here</span>(<span class="st">"processed_data"</span>, <span class="st">"st_paul_jobs_weighted.csv"</span>))</span>
<span id="cb119-4"><a href="#cb119-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb119-5"><a href="#cb119-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Print some summary statistics for St. Paul-specific employment and wages</span></span>
<span id="cb119-6"><a href="#cb119-6" aria-hidden="true" tabindex="-1"></a>summary_st_paul_jobs <span class="ot">&lt;-</span> st_paul_jobs_weighted <span class="sc">%&gt;%</span></span>
<span id="cb119-7"><a href="#cb119-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(</span>
<span id="cb119-8"><a href="#cb119-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">Total_Employment =</span> <span class="fu">sum</span>(TOT_EMP_St_Paul, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb119-9"><a href="#cb119-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">Mean_Hourly_Wage =</span> <span class="fu">mean</span>(H_MEAN_St_Paul, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb119-10"><a href="#cb119-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">Mean_Annual_Wage =</span> <span class="fu">mean</span>(A_MEAN_St_Paul, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb119-11"><a href="#cb119-11" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb119-12"><a href="#cb119-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb119-13"><a href="#cb119-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Output the summary for quick analysis</span></span>
<span id="cb119-14"><a href="#cb119-14" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(summary_st_paul_jobs)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 3
  Total_Employment Mean_Hourly_Wage Mean_Annual_Wage
             &lt;dbl&gt;            &lt;dbl&gt;            &lt;dbl&gt;
1          5751890             36.6           77675.</code></pre>
</div>
<a class="quarto-notebook-link" id="nblink-35" href="index-preview.html">Source: Article Notebook</a></div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb121"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb121-1"><a href="#cb121-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Replace NA values in 'O*NET-SOC Sector' with 'Other'</span></span>
<span id="cb121-2"><a href="#cb121-2" aria-hidden="true" tabindex="-1"></a>st_paul_jobs_weighted <span class="ot">&lt;-</span> st_paul_jobs_weighted <span class="sc">%&gt;%</span></span>
<span id="cb121-3"><a href="#cb121-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="st">`</span><span class="at">O*NET-SOC Sector</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">ifelse</span>(<span class="fu">is.na</span>(<span class="st">`</span><span class="at">O*NET-SOC Sector</span><span class="st">`</span>), <span class="st">"Other"</span>, <span class="st">`</span><span class="at">O*NET-SOC Sector</span><span class="st">`</span>))</span>
<span id="cb121-4"><a href="#cb121-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb121-5"><a href="#cb121-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Group by 'O*NET-SOC Sector' and calculate the total employment, mean hourly wage, and mean annual wage</span></span>
<span id="cb121-6"><a href="#cb121-6" aria-hidden="true" tabindex="-1"></a>sector_summary_st_paul <span class="ot">&lt;-</span> st_paul_jobs_weighted <span class="sc">%&gt;%</span></span>
<span id="cb121-7"><a href="#cb121-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(<span class="st">`</span><span class="at">O*NET-SOC Sector</span><span class="st">`</span>) <span class="sc">%&gt;%</span></span>
<span id="cb121-8"><a href="#cb121-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(</span>
<span id="cb121-9"><a href="#cb121-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">Total_Employment =</span> <span class="fu">sum</span>(TOT_EMP_St_Paul, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb121-10"><a href="#cb121-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">Mean_Hourly_Wage =</span> <span class="fu">mean</span>(H_MEAN_St_Paul, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb121-11"><a href="#cb121-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">Mean_Annual_Wage =</span> <span class="fu">mean</span>(A_MEAN_St_Paul, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb121-12"><a href="#cb121-12" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb121-13"><a href="#cb121-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb121-14"><a href="#cb121-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Output the sector-wise summary</span></span>
<span id="cb121-15"><a href="#cb121-15" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(sector_summary_st_paul)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 × 4
  `O*NET-SOC Sector`          Total_Employment Mean_Hourly_Wage Mean_Annual_Wage
  &lt;chr&gt;                                  &lt;dbl&gt;            &lt;dbl&gt;            &lt;dbl&gt;
1 Energy Efficiency                      66410             45.5           94669.
2 Green Construction                    124680             37.9           78809.
3 Other                                5537550             36.3           77193.
4 Renewable Energy Generation            23250             44.7           92991.</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb123"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb123-1"><a href="#cb123-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Save the sector-wise summary as an RDS and CSV file for future reference</span></span>
<span id="cb123-2"><a href="#cb123-2" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(sector_summary_st_paul, <span class="fu">here</span>(<span class="st">"processed_data"</span>, <span class="st">"sector_summary_st_paul.rds"</span>))</span>
<span id="cb123-3"><a href="#cb123-3" aria-hidden="true" tabindex="-1"></a><span class="fu">write_csv</span>(sector_summary_st_paul, <span class="fu">here</span>(<span class="st">"processed_data"</span>, <span class="st">"sector_summary_st_paul.csv"</span>))</span>
<span id="cb123-4"><a href="#cb123-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb123-5"><a href="#cb123-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Visualization for Total Employment across sectors</span></span>
<span id="cb123-6"><a href="#cb123-6" aria-hidden="true" tabindex="-1"></a><span class="fu">hchart</span>(sector_summary_st_paul, <span class="st">"column"</span>, <span class="fu">hcaes</span>(<span class="at">x =</span> <span class="st">`</span><span class="at">O*NET-SOC Sector</span><span class="st">`</span>, <span class="at">y =</span> Total_Employment)) <span class="sc">%&gt;%</span></span>
<span id="cb123-7"><a href="#cb123-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_title</span>(<span class="at">text =</span> <span class="st">"Total Employment by Sector in St. Paul"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb123-8"><a href="#cb123-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_xAxis</span>(<span class="at">title =</span> <span class="fu">list</span>(<span class="at">text =</span> <span class="st">"Sector"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb123-9"><a href="#cb123-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_yAxis</span>(<span class="at">title =</span> <span class="fu">list</span>(<span class="at">text =</span> <span class="st">"Total Employment"</span>), <span class="at">labels =</span> <span class="fu">list</span>(<span class="at">format =</span> <span class="st">"{value:,0f}"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb123-10"><a href="#cb123-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_tooltip</span>(<span class="at">pointFormat =</span> <span class="st">'&lt;b&gt;{point.y:,0f}&lt;/b&gt;'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="highchart html-widget html-fill-item" id="htmlwidget-26a8cbc13112c04efa7d" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-26a8cbc13112c04efa7d">{"x":{"hc_opts":{"chart":{"reflow":true},"title":{"text":"Total Employment by Sector in St. Paul"},"yAxis":{"title":{"text":"Total Employment"},"type":"linear","labels":{"format":"{value:,0f}"}},"credits":{"enabled":false},"exporting":{"enabled":false},"boost":{"enabled":false},"plotOptions":{"series":{"label":{"enabled":false},"turboThreshold":0,"showInLegend":false},"treemap":{"layoutAlgorithm":"squarified"},"scatter":{"marker":{"symbol":"circle"}}},"series":[{"group":"group","data":[{"O*NET-SOC Sector":"Energy Efficiency","Total_Employment":66410,"Mean_Hourly_Wage":45.51333333333334,"Mean_Annual_Wage":94668.88888888889,"y":66410,"name":"Energy Efficiency"},{"O*NET-SOC Sector":"Green Construction","Total_Employment":124680,"Mean_Hourly_Wage":37.88896551724138,"Mean_Annual_Wage":78808.96551724138,"y":124680,"name":"Green Construction"},{"O*NET-SOC Sector":"Other","Total_Employment":5537550,"Mean_Hourly_Wage":36.30687702265373,"Mean_Annual_Wage":77192.53353204168,"y":5537550,"name":"Other"},{"O*NET-SOC Sector":"Renewable Energy Generation","Total_Employment":23250,"Mean_Hourly_Wage":44.70666666666666,"Mean_Annual_Wage":92991.11111111111,"y":23250,"name":"Renewable Energy Generation"}],"type":"column"}],"xAxis":{"type":"category","title":{"text":"Sector"}},"tooltip":{"pointFormat":"<b>{point.y:,0f}<\/b>"}},"theme":{"chart":{"backgroundColor":"transparent"},"colors":["#7cb5ec","#434348","#90ed7d","#f7a35c","#8085e9","#f15c80","#e4d354","#2b908f","#f45b5b","#91e8e1"]},"conf_opts":{"global":{"Date":null,"VMLRadialGradientURL":"http =//code.highcharts.com/list(version)/gfx/vml-radial-gradient.png","canvasToolsURL":"http =//code.highcharts.com/list(version)/modules/canvas-tools.js","getTimezoneOffset":null,"timezoneOffset":0,"useUTC":true},"lang":{"contextButtonTitle":"Chart context menu","decimalPoint":".","downloadCSV":"Download CSV","downloadJPEG":"Download JPEG image","downloadPDF":"Download PDF document","downloadPNG":"Download PNG image","downloadSVG":"Download SVG vector image","downloadXLS":"Download XLS","drillUpText":"◁ Back to {series.name}","exitFullscreen":"Exit from full screen","exportData":{"annotationHeader":"Annotations","categoryDatetimeHeader":"DateTime","categoryHeader":"Category"},"hideData":"Hide data table","invalidDate":null,"loading":"Loading...","months":["January","February","March","April","May","June","July","August","September","October","November","December"],"noData":"No data to display","numericSymbolMagnitude":1000,"numericSymbols":["k","M","G","T","P","E"],"printChart":"Print chart","resetZoom":"Reset zoom","resetZoomTitle":"Reset zoom level 1:1","shortMonths":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"shortWeekdays":["Sat","Sun","Mon","Tue","Wed","Thu","Fri"],"thousandsSep":" ","viewData":"View data table","viewFullscreen":"View in full screen","weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},"type":"chart","fonts":[],"debug":false},"evals":[],"jsHooks":[]}</script>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb124"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb124-1"><a href="#cb124-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Visualization for Mean Hourly Wage across sectors</span></span>
<span id="cb124-2"><a href="#cb124-2" aria-hidden="true" tabindex="-1"></a><span class="fu">hchart</span>(sector_summary_st_paul, <span class="st">"column"</span>, <span class="fu">hcaes</span>(<span class="at">x =</span> <span class="st">`</span><span class="at">O*NET-SOC Sector</span><span class="st">`</span>, <span class="at">y =</span> Mean_Hourly_Wage)) <span class="sc">%&gt;%</span></span>
<span id="cb124-3"><a href="#cb124-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_title</span>(<span class="at">text =</span> <span class="st">"Mean Hourly Wage by Sector in St. Paul"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb124-4"><a href="#cb124-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_xAxis</span>(<span class="at">title =</span> <span class="fu">list</span>(<span class="at">text =</span> <span class="st">"Sector"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb124-5"><a href="#cb124-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_yAxis</span>(<span class="at">title =</span> <span class="fu">list</span>(<span class="at">text =</span> <span class="st">"Mean Hourly Wage (USD)"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb124-6"><a href="#cb124-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_tooltip</span>(<span class="at">pointFormat =</span> <span class="st">'&lt;b&gt;{point.y:.2f} USD&lt;/b&gt;'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="highchart html-widget html-fill-item" id="htmlwidget-ba1f4c61f10f69ec0018" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-ba1f4c61f10f69ec0018">{"x":{"hc_opts":{"chart":{"reflow":true},"title":{"text":"Mean Hourly Wage by Sector in St. Paul"},"yAxis":{"title":{"text":"Mean Hourly Wage (USD)"},"type":"linear"},"credits":{"enabled":false},"exporting":{"enabled":false},"boost":{"enabled":false},"plotOptions":{"series":{"label":{"enabled":false},"turboThreshold":0,"showInLegend":false},"treemap":{"layoutAlgorithm":"squarified"},"scatter":{"marker":{"symbol":"circle"}}},"series":[{"group":"group","data":[{"O*NET-SOC Sector":"Energy Efficiency","Total_Employment":66410,"Mean_Hourly_Wage":45.51333333333334,"Mean_Annual_Wage":94668.88888888889,"y":45.51333333333334,"name":"Energy Efficiency"},{"O*NET-SOC Sector":"Green Construction","Total_Employment":124680,"Mean_Hourly_Wage":37.88896551724138,"Mean_Annual_Wage":78808.96551724138,"y":37.88896551724138,"name":"Green Construction"},{"O*NET-SOC Sector":"Other","Total_Employment":5537550,"Mean_Hourly_Wage":36.30687702265373,"Mean_Annual_Wage":77192.53353204168,"y":36.30687702265373,"name":"Other"},{"O*NET-SOC Sector":"Renewable Energy Generation","Total_Employment":23250,"Mean_Hourly_Wage":44.70666666666666,"Mean_Annual_Wage":92991.11111111111,"y":44.70666666666666,"name":"Renewable Energy Generation"}],"type":"column"}],"xAxis":{"type":"category","title":{"text":"Sector"}},"tooltip":{"pointFormat":"<b>{point.y:.2f} USD<\/b>"}},"theme":{"chart":{"backgroundColor":"transparent"},"colors":["#7cb5ec","#434348","#90ed7d","#f7a35c","#8085e9","#f15c80","#e4d354","#2b908f","#f45b5b","#91e8e1"]},"conf_opts":{"global":{"Date":null,"VMLRadialGradientURL":"http =//code.highcharts.com/list(version)/gfx/vml-radial-gradient.png","canvasToolsURL":"http =//code.highcharts.com/list(version)/modules/canvas-tools.js","getTimezoneOffset":null,"timezoneOffset":0,"useUTC":true},"lang":{"contextButtonTitle":"Chart context menu","decimalPoint":".","downloadCSV":"Download CSV","downloadJPEG":"Download JPEG image","downloadPDF":"Download PDF document","downloadPNG":"Download PNG image","downloadSVG":"Download SVG vector image","downloadXLS":"Download XLS","drillUpText":"◁ Back to {series.name}","exitFullscreen":"Exit from full screen","exportData":{"annotationHeader":"Annotations","categoryDatetimeHeader":"DateTime","categoryHeader":"Category"},"hideData":"Hide data table","invalidDate":null,"loading":"Loading...","months":["January","February","March","April","May","June","July","August","September","October","November","December"],"noData":"No data to display","numericSymbolMagnitude":1000,"numericSymbols":["k","M","G","T","P","E"],"printChart":"Print chart","resetZoom":"Reset zoom","resetZoomTitle":"Reset zoom level 1:1","shortMonths":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"shortWeekdays":["Sat","Sun","Mon","Tue","Wed","Thu","Fri"],"thousandsSep":" ","viewData":"View data table","viewFullscreen":"View in full screen","weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},"type":"chart","fonts":[],"debug":false},"evals":[],"jsHooks":[]}</script>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb125"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb125-1"><a href="#cb125-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Visualization for Mean Annual Wage across sectors</span></span>
<span id="cb125-2"><a href="#cb125-2" aria-hidden="true" tabindex="-1"></a><span class="fu">hchart</span>(sector_summary_st_paul, <span class="st">"column"</span>, <span class="fu">hcaes</span>(<span class="at">x =</span> <span class="st">`</span><span class="at">O*NET-SOC Sector</span><span class="st">`</span>, <span class="at">y =</span> Mean_Annual_Wage)) <span class="sc">%&gt;%</span></span>
<span id="cb125-3"><a href="#cb125-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_title</span>(<span class="at">text =</span> <span class="st">"Mean Annual Wage by Sector in St. Paul"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb125-4"><a href="#cb125-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_xAxis</span>(<span class="at">title =</span> <span class="fu">list</span>(<span class="at">text =</span> <span class="st">"Sector"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb125-5"><a href="#cb125-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_yAxis</span>(<span class="at">title =</span> <span class="fu">list</span>(<span class="at">text =</span> <span class="st">"Mean Annual Wage (USD)"</span>), <span class="at">labels =</span> <span class="fu">list</span>(<span class="at">format =</span> <span class="st">"{value:,0f}"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb125-6"><a href="#cb125-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hc_tooltip</span>(<span class="at">pointFormat =</span> <span class="st">'&lt;b&gt;{point.y:,0f} USD&lt;/b&gt;'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="highchart html-widget html-fill-item" id="htmlwidget-ef7963c5cded7eaef955" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-ef7963c5cded7eaef955">{"x":{"hc_opts":{"chart":{"reflow":true},"title":{"text":"Mean Annual Wage by Sector in St. Paul"},"yAxis":{"title":{"text":"Mean Annual Wage (USD)"},"type":"linear","labels":{"format":"{value:,0f}"}},"credits":{"enabled":false},"exporting":{"enabled":false},"boost":{"enabled":false},"plotOptions":{"series":{"label":{"enabled":false},"turboThreshold":0,"showInLegend":false},"treemap":{"layoutAlgorithm":"squarified"},"scatter":{"marker":{"symbol":"circle"}}},"series":[{"group":"group","data":[{"O*NET-SOC Sector":"Energy Efficiency","Total_Employment":66410,"Mean_Hourly_Wage":45.51333333333334,"Mean_Annual_Wage":94668.88888888889,"y":94668.88888888889,"name":"Energy Efficiency"},{"O*NET-SOC Sector":"Green Construction","Total_Employment":124680,"Mean_Hourly_Wage":37.88896551724138,"Mean_Annual_Wage":78808.96551724138,"y":78808.96551724138,"name":"Green Construction"},{"O*NET-SOC Sector":"Other","Total_Employment":5537550,"Mean_Hourly_Wage":36.30687702265373,"Mean_Annual_Wage":77192.53353204168,"y":77192.53353204168,"name":"Other"},{"O*NET-SOC Sector":"Renewable Energy Generation","Total_Employment":23250,"Mean_Hourly_Wage":44.70666666666666,"Mean_Annual_Wage":92991.11111111111,"y":92991.11111111111,"name":"Renewable Energy Generation"}],"type":"column"}],"xAxis":{"type":"category","title":{"text":"Sector"}},"tooltip":{"pointFormat":"<b>{point.y:,0f} USD<\/b>"}},"theme":{"chart":{"backgroundColor":"transparent"},"colors":["#7cb5ec","#434348","#90ed7d","#f7a35c","#8085e9","#f15c80","#e4d354","#2b908f","#f45b5b","#91e8e1"]},"conf_opts":{"global":{"Date":null,"VMLRadialGradientURL":"http =//code.highcharts.com/list(version)/gfx/vml-radial-gradient.png","canvasToolsURL":"http =//code.highcharts.com/list(version)/modules/canvas-tools.js","getTimezoneOffset":null,"timezoneOffset":0,"useUTC":true},"lang":{"contextButtonTitle":"Chart context menu","decimalPoint":".","downloadCSV":"Download CSV","downloadJPEG":"Download JPEG image","downloadPDF":"Download PDF document","downloadPNG":"Download PNG image","downloadSVG":"Download SVG vector image","downloadXLS":"Download XLS","drillUpText":"◁ Back to {series.name}","exitFullscreen":"Exit from full screen","exportData":{"annotationHeader":"Annotations","categoryDatetimeHeader":"DateTime","categoryHeader":"Category"},"hideData":"Hide data table","invalidDate":null,"loading":"Loading...","months":["January","February","March","April","May","June","July","August","September","October","November","December"],"noData":"No data to display","numericSymbolMagnitude":1000,"numericSymbols":["k","M","G","T","P","E"],"printChart":"Print chart","resetZoom":"Reset zoom","resetZoomTitle":"Reset zoom level 1:1","shortMonths":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"shortWeekdays":["Sat","Sun","Mon","Tue","Wed","Thu","Fri"],"thousandsSep":" ","viewData":"View data table","viewFullscreen":"View in full screen","weekdays":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},"type":"chart","fonts":[],"debug":false},"evals":[],"jsHooks":[]}</script>
</div>
<a class="quarto-notebook-link" id="nblink-36" href="index-preview.html">Source: Article Notebook</a></div>
<p><strong>Incorporate ACS demographics</strong>. We will merge the OEWS data with the <strong>ACS</strong> data. The <strong>ACS data</strong> has demographic information like education, race/ethnicity, gender, and income levels. This will allow us to analyze the green job data segmented by these demographic factors in <strong>St.&nbsp;Paul</strong>.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb126"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb126-1"><a href="#cb126-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert the O*NET-SOC code to character in both datasets</span></span>
<span id="cb126-2"><a href="#cb126-2" aria-hidden="true" tabindex="-1"></a>st_paul_jobs_weighted <span class="ot">&lt;-</span> st_paul_jobs_weighted <span class="sc">%&gt;%</span></span>
<span id="cb126-3"><a href="#cb126-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="st">`</span><span class="at">O*NET-SOC Code</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">as.character</span>(<span class="st">`</span><span class="at">O*NET-SOC Code</span><span class="st">`</span>))</span>
<span id="cb126-4"><a href="#cb126-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb126-5"><a href="#cb126-5" aria-hidden="true" tabindex="-1"></a>acs_data <span class="ot">&lt;-</span> acs_data <span class="sc">%&gt;%</span></span>
<span id="cb126-6"><a href="#cb126-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="st">`</span><span class="at">O*NET-SOC Code</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">as.character</span>(<span class="st">`</span><span class="at">O*NET-SOC Code</span><span class="st">`</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<a class="quarto-notebook-link" id="nblink-37" href="index-preview.html">Source: Article Notebook</a></div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb127"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb127-1"><a href="#cb127-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter the ACS data to only include rows where 'Green Job Flag' is 1</span></span>
<span id="cb127-2"><a href="#cb127-2" aria-hidden="true" tabindex="-1"></a>acs_green_data <span class="ot">&lt;-</span> acs_data <span class="sc">%&gt;%</span> </span>
<span id="cb127-3"><a href="#cb127-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="st">`</span><span class="at">Green Job Flag</span><span class="st">`</span> <span class="sc">==</span> <span class="dv">1</span>)</span>
<span id="cb127-4"><a href="#cb127-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb127-5"><a href="#cb127-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Check the filtered data to ensure it looks correct</span></span>
<span id="cb127-6"><a href="#cb127-6" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(acs_green_data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 72
Columns: 19
$ RT                &lt;chr&gt; "P", "P", "P", "P", "P", "P", "P", "P", "P", "P", "P…
$ SERIALNO          &lt;chr&gt; "2022GQ0001538", "2022GQ0013624", "2022GQ0025479", "…
$ DIVISION          &lt;dbl&gt; 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4…
$ SPORDER           &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 5, 1, 1, 2, 2, 2…
$ PUMA20            &lt;dbl&gt; 1505, 1504, 1504, 1503, 1503, 1505, 1504, 1504, 1504…
$ REGION            &lt;dbl&gt; 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2…
$ ST                &lt;dbl&gt; 27, 27, 27, 27, 27, 27, 27, 27, 27, 27, 27, 27, 27, …
$ AGEP              &lt;dbl&gt; 54, 19, 18, 50, 20, 42, 18, 18, 50, 20, 21, 67, 45, …
$ SOCP              &lt;chr&gt; "472181", "537062", "537062", "537062", "537062", "4…
$ RAC1P             &lt;chr&gt; "White alone", "Asian alone", "Two or More Races", "…
$ SEX               &lt;chr&gt; "Male", "Male", "Male", "Male", "Male", "Male", "Mal…
$ SCHL              &lt;chr&gt; "GED or alternative credential", "Regular high schoo…
$ PINCP             &lt;dbl&gt; 0, 4000, 4000, 19200, 4000, 14700, 4000, 20000, 1920…
$ ADJINC            &lt;dbl&gt; 1042311, 1042311, 1042311, 1042311, 1042311, 1042311…
$ WAGP              &lt;dbl&gt; 0, 4000, 4000, 18000, 4000, 11100, 4000, 20000, 1800…
$ PWGTP             &lt;dbl&gt; 1, 5, 12, 12, 8, 1, 5, 7, 12, 12, 14, 30, 35, 33, 29…
$ `O*NET-SOC Code`  &lt;chr&gt; "472181", "537062", "537062", "537062", "537062", "4…
$ `O*NET-SOC Title` &lt;chr&gt; "Roofers", "Laborers and Freight, Stock, and Materia…
$ `Green Job Flag`  &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1…</code></pre>
</div>
<a class="quarto-notebook-link" id="nblink-38" href="index-preview.html">Source: Article Notebook</a></div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb129"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb129-1"><a href="#cb129-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove rows with NA O*NET-SOC Codes in both datasets before merging</span></span>
<span id="cb129-2"><a href="#cb129-2" aria-hidden="true" tabindex="-1"></a>st_paul_jobs_weighted <span class="ot">&lt;-</span> st_paul_jobs_weighted <span class="sc">%&gt;%</span></span>
<span id="cb129-3"><a href="#cb129-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(<span class="st">`</span><span class="at">O*NET-SOC Code</span><span class="st">`</span>))</span>
<span id="cb129-4"><a href="#cb129-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-5"><a href="#cb129-5" aria-hidden="true" tabindex="-1"></a>acs_green_data <span class="ot">&lt;-</span> acs_green_data <span class="sc">%&gt;%</span></span>
<span id="cb129-6"><a href="#cb129-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(<span class="st">`</span><span class="at">O*NET-SOC Code</span><span class="st">`</span>))</span>
<span id="cb129-7"><a href="#cb129-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-8"><a href="#cb129-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Re-check the unique O*NET-SOC Codes after filtering out NA values</span></span>
<span id="cb129-9"><a href="#cb129-9" aria-hidden="true" tabindex="-1"></a>unique_jobs_codes <span class="ot">&lt;-</span> <span class="fu">unique</span>(st_paul_jobs_weighted<span class="sc">$</span><span class="st">`</span><span class="at">O*NET-SOC Code</span><span class="st">`</span>)</span>
<span id="cb129-10"><a href="#cb129-10" aria-hidden="true" tabindex="-1"></a>unique_acs_codes <span class="ot">&lt;-</span> <span class="fu">unique</span>(acs_green_data<span class="sc">$</span><span class="st">`</span><span class="at">O*NET-SOC Code</span><span class="st">`</span>)</span>
<span id="cb129-11"><a href="#cb129-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-12"><a href="#cb129-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Find codes that exist in one dataset but not the other</span></span>
<span id="cb129-13"><a href="#cb129-13" aria-hidden="true" tabindex="-1"></a>missing_in_acs <span class="ot">&lt;-</span> <span class="fu">setdiff</span>(unique_jobs_codes, unique_acs_codes)</span>
<span id="cb129-14"><a href="#cb129-14" aria-hidden="true" tabindex="-1"></a>missing_in_jobs <span class="ot">&lt;-</span> <span class="fu">setdiff</span>(unique_acs_codes, unique_jobs_codes)</span>
<span id="cb129-15"><a href="#cb129-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb129-16"><a href="#cb129-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Output the results</span></span>
<span id="cb129-17"><a href="#cb129-17" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Codes in jobs but not in ACS:"</span>, missing_in_acs, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Codes in jobs but not in ACS: 11-1021 11-3071 11-9021 13-2051 17-1011 17-1012 17-2051 17-2071 17-2141 17-3011 19-3051 47-2011 47-2031 47-2051 47-2061 47-2073 47-2111 47-2131 47-2152 47-2181 47-2211 47-2221 47-4011 47-4041 49-9021 49-9051 49-9098 51-2041 51-4041 51-4121 51-8012 51-8013 51-8021 51-9012 53-6051 53-7051 53-7062 47-5041 49-9042 19-4051 51-8011 19-4041 47-5013 13-1073 47-3012 </code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb131"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb131-1"><a href="#cb131-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Codes in ACS but not in jobs:"</span>, missing_in_jobs, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Codes in ACS but not in jobs: 472181 537062 472061 514041 111021 472111 132051 537051 172141 172051 472152 472031 474011 113071 171011 119021 518021 </code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb133"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb133-1"><a href="#cb133-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Ensure the O*NET-SOC Code format is consistent</span></span>
<span id="cb133-2"><a href="#cb133-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove hyphens from the codes in both datasets for consistent matching</span></span>
<span id="cb133-3"><a href="#cb133-3" aria-hidden="true" tabindex="-1"></a>st_paul_jobs_weighted <span class="ot">&lt;-</span> st_paul_jobs_weighted <span class="sc">%&gt;%</span></span>
<span id="cb133-4"><a href="#cb133-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="st">`</span><span class="at">O*NET-SOC Code</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">gsub</span>(<span class="st">"-"</span>, <span class="st">""</span>, <span class="st">`</span><span class="at">O*NET-SOC Code</span><span class="st">`</span>))</span>
<span id="cb133-5"><a href="#cb133-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb133-6"><a href="#cb133-6" aria-hidden="true" tabindex="-1"></a>acs_green_data <span class="ot">&lt;-</span> acs_green_data <span class="sc">%&gt;%</span></span>
<span id="cb133-7"><a href="#cb133-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="st">`</span><span class="at">O*NET-SOC Code</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">gsub</span>(<span class="st">"-"</span>, <span class="st">""</span>, <span class="st">`</span><span class="at">O*NET-SOC Code</span><span class="st">`</span>))</span>
<span id="cb133-8"><a href="#cb133-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb133-9"><a href="#cb133-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Re-check the unique O*NET-SOC Codes after formatting</span></span>
<span id="cb133-10"><a href="#cb133-10" aria-hidden="true" tabindex="-1"></a>unique_jobs_codes <span class="ot">&lt;-</span> <span class="fu">unique</span>(st_paul_jobs_weighted<span class="sc">$</span><span class="st">`</span><span class="at">O*NET-SOC Code</span><span class="st">`</span>)</span>
<span id="cb133-11"><a href="#cb133-11" aria-hidden="true" tabindex="-1"></a>unique_acs_codes <span class="ot">&lt;-</span> <span class="fu">unique</span>(acs_green_data<span class="sc">$</span><span class="st">`</span><span class="at">O*NET-SOC Code</span><span class="st">`</span>)</span>
<span id="cb133-12"><a href="#cb133-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb133-13"><a href="#cb133-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Find codes that exist in one dataset but not the other</span></span>
<span id="cb133-14"><a href="#cb133-14" aria-hidden="true" tabindex="-1"></a>missing_in_acs <span class="ot">&lt;-</span> <span class="fu">setdiff</span>(unique_jobs_codes, unique_acs_codes)</span>
<span id="cb133-15"><a href="#cb133-15" aria-hidden="true" tabindex="-1"></a>missing_in_jobs <span class="ot">&lt;-</span> <span class="fu">setdiff</span>(unique_acs_codes, unique_jobs_codes)</span>
<span id="cb133-16"><a href="#cb133-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb133-17"><a href="#cb133-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Output the results</span></span>
<span id="cb133-18"><a href="#cb133-18" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Codes in jobs but not in ACS:"</span>, missing_in_acs, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Codes in jobs but not in ACS: 171012 172071 173011 193051 472011 472051 472073 472131 472211 472221 474041 499021 499051 499098 512041 514121 518012 518013 519012 536051 475041 499042 194051 518011 194041 475013 131073 473012 </code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb135"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb135-1"><a href="#cb135-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">"Codes in ACS but not in jobs:"</span>, missing_in_jobs, <span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Codes in ACS but not in jobs:  </code></pre>
</div>
<a class="quarto-notebook-link" id="nblink-39" href="index-preview.html">Source: Article Notebook</a></div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb137"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb137-1"><a href="#cb137-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Merge the 'st_paul_jobs_weighted' data with 'acs_green_data' using the 'O*NET-SOC Code' column</span></span>
<span id="cb137-2"><a href="#cb137-2" aria-hidden="true" tabindex="-1"></a>merged_green_jobs_data <span class="ot">&lt;-</span> st_paul_jobs_weighted <span class="sc">%&gt;%</span></span>
<span id="cb137-3"><a href="#cb137-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(acs_green_data, <span class="at">by =</span> <span class="st">"O*NET-SOC Code"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr hidden">
<pre><code>Warning in left_join(., acs_green_data, by = "O*NET-SOC Code"): Detected an unexpected many-to-many relationship between `x` and `y`.
ℹ Row 1 of `x` matches multiple rows in `y`.
ℹ Row 17 of `y` matches multiple rows in `x`.
ℹ If a many-to-many relationship is expected, set `relationship =
  "many-to-many"` to silence this warning.</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb139"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb139-1"><a href="#cb139-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Save the merged dataset for future reference</span></span>
<span id="cb139-2"><a href="#cb139-2" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(merged_green_jobs_data, <span class="fu">here</span>(<span class="st">"processed_data"</span>, <span class="st">"merged_green_jobs_data.rds"</span>))</span>
<span id="cb139-3"><a href="#cb139-3" aria-hidden="true" tabindex="-1"></a><span class="fu">write_csv</span>(merged_green_jobs_data, <span class="fu">here</span>(<span class="st">"processed_data"</span>, <span class="st">"merged_green_jobs_data.csv"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<a class="quarto-notebook-link" id="nblink-40" href="index-preview.html">Source: Article Notebook</a></div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb140"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb140-1"><a href="#cb140-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Assess the number of duplicates in the merged dataset by counting occurrences of each O*NET-SOC Code</span></span>
<span id="cb140-2"><a href="#cb140-2" aria-hidden="true" tabindex="-1"></a>duplication_summary <span class="ot">&lt;-</span> merged_green_jobs_data <span class="sc">%&gt;%</span></span>
<span id="cb140-3"><a href="#cb140-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(<span class="st">`</span><span class="at">O*NET-SOC Code</span><span class="st">`</span>) <span class="sc">%&gt;%</span></span>
<span id="cb140-4"><a href="#cb140-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">count =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb140-5"><a href="#cb140-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(count))</span>
<span id="cb140-6"><a href="#cb140-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb140-7"><a href="#cb140-7" aria-hidden="true" tabindex="-1"></a><span class="co"># View the summary of duplication</span></span>
<span id="cb140-8"><a href="#cb140-8" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(duplication_summary)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 45 × 2
   `O*NET-SOC Code` count
   &lt;chr&gt;            &lt;int&gt;
 1 537062              21
 2 172141              12
 3 472061               8
 4 472111               7
 5 111021               6
 6 132051               6
 7 172051               6
 8 113071               3
 9 171011               3
10 172071               3
# ℹ 35 more rows</code></pre>
</div>
<a class="quarto-notebook-link" id="nblink-41" href="index-preview.html">Source: Article Notebook</a></div>
<p>If we need accurate totals or averages across jobs and demographics, <strong>aggregation</strong> will be necessary to avoid inflating the data.</p>
<p>If we feel the current level of detail (with the duplicates) provides useful insights, we can keep the data as is but be mindful of how we interpret summed metrics. This is what we will do. The duplication is meaningful (for example, because a job can truly exist in multiple sectors or demographics are validly associated with multiple jobs), we choose to keep the dataset as is. This would allow us to analyze the data with all the overlaps. However, we need to be cautious that this doesn’t skew metrics that sum values (like total employment).</p>
<p><strong>Analyze the data</strong>. Once the datasets are merged, we can start analyzing the data to answer our research question.</p>
<p>Now that we’ve merged the <strong>OEWS</strong> and <strong>ACS</strong> data, we can group by the <strong>O*NET-SOC Sector</strong> (Energy Efficiency, Renewable Energy Generation, Green Construction) and demographic factors like <strong>education</strong>, <strong>race</strong>, <strong>gender</strong>, and <strong>income</strong>.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb142"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb142-1"><a href="#cb142-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert data types</span></span>
<span id="cb142-2"><a href="#cb142-2" aria-hidden="true" tabindex="-1"></a>merged_green_jobs_data <span class="ot">&lt;-</span> merged_green_jobs_data <span class="sc">%&gt;%</span></span>
<span id="cb142-3"><a href="#cb142-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb142-4"><a href="#cb142-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">NAICS_TITLE =</span> <span class="fu">as.factor</span>(NAICS_TITLE),  <span class="co"># Factor for industry titles</span></span>
<span id="cb142-5"><a href="#cb142-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">I_GROUP =</span> <span class="fu">as.factor</span>(I_GROUP),  <span class="co"># Factor for industry group</span></span>
<span id="cb142-6"><a href="#cb142-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">O_GROUP =</span> <span class="fu">as.factor</span>(O_GROUP),  <span class="co"># Factor for occupation group</span></span>
<span id="cb142-7"><a href="#cb142-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">H_PCT10 =</span> <span class="fu">as.numeric</span>(H_PCT10),  <span class="co"># Convert percentages to numeric</span></span>
<span id="cb142-8"><a href="#cb142-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">H_PCT25 =</span> <span class="fu">as.numeric</span>(H_PCT25),</span>
<span id="cb142-9"><a href="#cb142-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">H_MEDIAN =</span> <span class="fu">as.numeric</span>(H_MEDIAN),</span>
<span id="cb142-10"><a href="#cb142-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">H_PCT75 =</span> <span class="fu">as.numeric</span>(H_PCT75),</span>
<span id="cb142-11"><a href="#cb142-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">H_PCT90 =</span> <span class="fu">as.numeric</span>(H_PCT90),</span>
<span id="cb142-12"><a href="#cb142-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">A_PCT10 =</span> <span class="fu">as.numeric</span>(A_PCT10),</span>
<span id="cb142-13"><a href="#cb142-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">A_PCT25 =</span> <span class="fu">as.numeric</span>(A_PCT25),</span>
<span id="cb142-14"><a href="#cb142-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">A_MEDIAN =</span> <span class="fu">as.numeric</span>(A_MEDIAN),</span>
<span id="cb142-15"><a href="#cb142-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">A_PCT75 =</span> <span class="fu">as.numeric</span>(A_PCT75),</span>
<span id="cb142-16"><a href="#cb142-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">A_PCT90 =</span> <span class="fu">as.numeric</span>(A_PCT90),</span>
<span id="cb142-17"><a href="#cb142-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">ANNUAL =</span> <span class="fu">as.numeric</span>(ANNUAL),  <span class="co"># Convert to numeric for consistency</span></span>
<span id="cb142-18"><a href="#cb142-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">HOURLY =</span> <span class="fu">as.numeric</span>(HOURLY),</span>
<span id="cb142-19"><a href="#cb142-19" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">O*NET-SOC Sector</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">as.factor</span>(<span class="st">`</span><span class="at">O*NET-SOC Sector</span><span class="st">`</span>),  <span class="co"># Factor for green job sectors</span></span>
<span id="cb142-20"><a href="#cb142-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">TOT_EMP_St_Paul =</span> <span class="fu">as.numeric</span>(TOT_EMP_St_Paul),  <span class="co"># Numeric for employment totals</span></span>
<span id="cb142-21"><a href="#cb142-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">H_MEAN_St_Paul =</span> <span class="fu">as.numeric</span>(H_MEAN_St_Paul),  <span class="co"># Numeric for hourly wage in St. Paul</span></span>
<span id="cb142-22"><a href="#cb142-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">A_MEAN_St_Paul =</span> <span class="fu">as.numeric</span>(A_MEAN_St_Paul),  <span class="co"># Numeric for annual wage in St. Paul</span></span>
<span id="cb142-23"><a href="#cb142-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">AGEP =</span> <span class="fu">as.factor</span>(AGEP),  <span class="co"># Age as a factor if we treat it categorically</span></span>
<span id="cb142-24"><a href="#cb142-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">RAC1P =</span> <span class="fu">as.factor</span>(RAC1P),  <span class="co"># Factor for race</span></span>
<span id="cb142-25"><a href="#cb142-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">SEX =</span> <span class="fu">as.factor</span>(SEX),  <span class="co"># Factor for gender</span></span>
<span id="cb142-26"><a href="#cb142-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">SCHL =</span> <span class="fu">as.factor</span>(SCHL),  <span class="co"># Factor for education level</span></span>
<span id="cb142-27"><a href="#cb142-27" aria-hidden="true" tabindex="-1"></a>    <span class="at">PINCP =</span> <span class="fu">as.numeric</span>(PINCP),  <span class="co"># Numeric for personal income</span></span>
<span id="cb142-28"><a href="#cb142-28" aria-hidden="true" tabindex="-1"></a>    <span class="at">ADJINC =</span> <span class="fu">as.numeric</span>(ADJINC),  <span class="co"># Numeric for adjusted income</span></span>
<span id="cb142-29"><a href="#cb142-29" aria-hidden="true" tabindex="-1"></a>    <span class="at">WAGP =</span> <span class="fu">as.numeric</span>(WAGP),  <span class="co"># Numeric for wage</span></span>
<span id="cb142-30"><a href="#cb142-30" aria-hidden="true" tabindex="-1"></a>    <span class="at">PWGTP =</span> <span class="fu">as.numeric</span>(PWGTP),  <span class="co"># Numeric for person weight</span></span>
<span id="cb142-31"><a href="#cb142-31" aria-hidden="true" tabindex="-1"></a>    <span class="st">`</span><span class="at">Green Job Flag</span><span class="st">`</span> <span class="ot">=</span> <span class="fu">as.numeric</span>(<span class="st">`</span><span class="at">Green Job Flag</span><span class="st">`</span>)  <span class="co"># Yes/No as numeric</span></span>
<span id="cb142-32"><a href="#cb142-32" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr hidden">
<pre><code>Warning: There were 10 warnings in `mutate()`.
The first warning was:
ℹ In argument: `H_PCT10 = as.numeric(H_PCT10)`.
Caused by warning:
! NAs introduced by coercion
ℹ Run `dplyr::last_dplyr_warnings()` to see the 9 remaining warnings.</code></pre>
</div>
<a class="quarto-notebook-link" id="nblink-42" href="index-preview.html">Source: Article Notebook</a></div>
<p>But we first need to map the quality jobs <strong>from quality_green_jobs</strong> into <code>merged_green_jobs_data</code> so we can indicate jobs that are high, medium or low-quality.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb144"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb144-1"><a href="#cb144-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Ensure both variables are of the same type</span></span>
<span id="cb144-2"><a href="#cb144-2" aria-hidden="true" tabindex="-1"></a>quality_green_jobs <span class="ot">&lt;-</span> quality_green_jobs <span class="sc">%&gt;%</span></span>
<span id="cb144-3"><a href="#cb144-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">occ6 =</span> <span class="fu">as.character</span>(occ6))</span>
<span id="cb144-4"><a href="#cb144-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-5"><a href="#cb144-5" aria-hidden="true" tabindex="-1"></a>merged_green_jobs_data <span class="ot">&lt;-</span> merged_green_jobs_data <span class="sc">%&gt;%</span></span>
<span id="cb144-6"><a href="#cb144-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">OCC_CODE =</span> <span class="fu">as.character</span>(OCC_CODE))</span>
<span id="cb144-7"><a href="#cb144-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-8"><a href="#cb144-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Perform the left join to add the 'quality' variable from quality_green_jobs</span></span>
<span id="cb144-9"><a href="#cb144-9" aria-hidden="true" tabindex="-1"></a>merged_green_jobs_data <span class="ot">&lt;-</span> merged_green_jobs_data <span class="sc">%&gt;%</span></span>
<span id="cb144-10"><a href="#cb144-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(quality_green_jobs <span class="sc">%&gt;%</span> <span class="fu">select</span>(occ6, quality), </span>
<span id="cb144-11"><a href="#cb144-11" aria-hidden="true" tabindex="-1"></a>            <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"OCC_CODE"</span> <span class="ot">=</span> <span class="st">"occ6"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr hidden">
<pre><code>Warning in left_join(., quality_green_jobs %&gt;% select(occ6, quality), by = c(OCC_CODE = "occ6")): Detected an unexpected many-to-many relationship between `x` and `y`.
ℹ Row 7 of `x` matches multiple rows in `y`.
ℹ Row 40 of `y` matches multiple rows in `x`.
ℹ If a many-to-many relationship is expected, set `relationship =
  "many-to-many"` to silence this warning.</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb146"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb146-1"><a href="#cb146-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Save the merged dataset for future reference</span></span>
<span id="cb146-2"><a href="#cb146-2" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(merged_green_jobs_data, <span class="fu">here</span>(<span class="st">"processed_data"</span>, <span class="st">"merged_green_jobs_data.rds"</span>))</span>
<span id="cb146-3"><a href="#cb146-3" aria-hidden="true" tabindex="-1"></a><span class="fu">write_csv</span>(merged_green_jobs_data, <span class="fu">here</span>(<span class="st">"processed_data"</span>, <span class="st">"merged_green_jobs_data.csv"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<a class="quarto-notebook-link" id="nblink-43" href="index-preview.html">Source: Article Notebook</a></div>
<p>To group by the <code>O*NET-SOC Sector</code> and demographic factors like <code>education</code>, <code>race</code>, <code>gender</code>, and <code>income</code>, we can create summary statistics for each sector to analyze how the green jobs are distributed across different demographic categories.</p>
<section id="education-levels" class="level4">
<h4 class="anchored" data-anchor-id="education-levels">Education levels</h4>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb147"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb147-1"><a href="#cb147-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Group the data by sector and demographic variables, then summarize the counts and income</span></span>
<span id="cb147-2"><a href="#cb147-2" aria-hidden="true" tabindex="-1"></a>green_job_summary <span class="ot">&lt;-</span> merged_green_jobs_data <span class="sc">%&gt;%</span></span>
<span id="cb147-3"><a href="#cb147-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(<span class="st">`</span><span class="at">O*NET-SOC Sector</span><span class="st">`</span>, SCHL, RAC1P, SEX) <span class="sc">%&gt;%</span></span>
<span id="cb147-4"><a href="#cb147-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb147-5"><a href="#cb147-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">total_jobs =</span> <span class="fu">n</span>(),  <span class="co"># Count total jobs</span></span>
<span id="cb147-6"><a href="#cb147-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean_income =</span> <span class="fu">mean</span>(PINCP, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)  <span class="co"># Calculate mean income for each group</span></span>
<span id="cb147-7"><a href="#cb147-7" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr hidden">
<pre><code>`summarise()` has grouped output by 'O*NET-SOC Sector', 'SCHL', 'RAC1P'. You
can override using the `.groups` argument.</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb149"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb149-1"><a href="#cb149-1" aria-hidden="true" tabindex="-1"></a><span class="co"># View the summarized data</span></span>
<span id="cb149-2"><a href="#cb149-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(green_job_summary)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 52 × 6
# Groups:   O*NET-SOC Sector, SCHL, RAC1P [46]
   `O*NET-SOC Sector` SCHL                    RAC1P SEX   total_jobs mean_income
   &lt;fct&gt;              &lt;fct&gt;                   &lt;fct&gt; &lt;fct&gt;      &lt;int&gt;       &lt;dbl&gt;
 1 Energy Efficiency  1 or more years of col… Whit… Fema…         12      15000 
 2 Energy Efficiency  1 or more years of col… Whit… Male           1      41000 
 3 Energy Efficiency  Associate's degree      Whit… Male           1      46500 
 4 Energy Efficiency  Bachelor's degree       Two … Fema…         12     102000 
 5 Energy Efficiency  Bachelor's degree       Whit… Fema…          2      40000 
 6 Energy Efficiency  Bachelor's degree       Whit… Male          14      98786.
 7 Energy Efficiency  Grade 9                 Whit… Fema…          1          0 
 8 Energy Efficiency  Master's degree         Asia… Male          12      80000 
 9 Energy Efficiency  Master's degree         Whit… Fema…          1     113250 
10 Energy Efficiency  Regular high school di… Whit… Male           1      94000 
# ℹ 42 more rows</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb151"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb151-1"><a href="#cb151-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove rows with NA in 'SCHL' or 'O*NET-SOC Sector'</span></span>
<span id="cb151-2"><a href="#cb151-2" aria-hidden="true" tabindex="-1"></a>cleaned_green_job_summary <span class="ot">&lt;-</span> green_job_summary <span class="sc">%&gt;%</span></span>
<span id="cb151-3"><a href="#cb151-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(SCHL), <span class="sc">!</span><span class="fu">is.na</span>(<span class="st">`</span><span class="at">O*NET-SOC Sector</span><span class="st">`</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<a class="quarto-notebook-link" id="nblink-44" href="index-preview.html">Source: Article Notebook</a></div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb152"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb152-1"><a href="#cb152-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot percentage of jobs by sector and education level</span></span>
<span id="cb152-2"><a href="#cb152-2" aria-hidden="true" tabindex="-1"></a>green_job_summary_percentage <span class="ot">&lt;-</span> merged_green_jobs_data <span class="sc">%&gt;%</span></span>
<span id="cb152-3"><a href="#cb152-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(<span class="st">`</span><span class="at">O*NET-SOC Sector</span><span class="st">`</span>, SCHL) <span class="sc">%&gt;%</span></span>
<span id="cb152-4"><a href="#cb152-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">total_jobs =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb152-5"><a href="#cb152-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">percentage_jobs =</span> total_jobs <span class="sc">/</span> <span class="fu">sum</span>(total_jobs) <span class="sc">*</span> <span class="dv">100</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr hidden">
<pre><code>`summarise()` has grouped output by 'O*NET-SOC Sector'. You can override using
the `.groups` argument.</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb154"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb154-1"><a href="#cb154-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(green_job_summary_percentage, <span class="fu">aes</span>(<span class="at">x =</span> <span class="st">`</span><span class="at">O*NET-SOC Sector</span><span class="st">`</span>, <span class="at">y =</span> percentage_jobs, <span class="at">fill =</span> SCHL)) <span class="sc">+</span></span>
<span id="cb154-2"><a href="#cb154-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">position =</span> <span class="st">"dodge"</span>) <span class="sc">+</span></span>
<span id="cb154-3"><a href="#cb154-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Percentage of Green Jobs by Sector and Education Level"</span>,</span>
<span id="cb154-4"><a href="#cb154-4" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Green Job Sector"</span>, <span class="at">y =</span> <span class="st">"Percentage of Total Jobs"</span>) <span class="sc">+</span></span>
<span id="cb154-5"><a href="#cb154-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb154-6"><a href="#cb154-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><a href="index_files/figure-html/unnamed-chunk-44-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-4"><img src="index_files/figure-html/unnamed-chunk-44-1.png" class="img-fluid figure-img" width="672"></a></p>
</figure>
</div>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb155"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb155-1"><a href="#cb155-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Bar plot with education, faceted by job quality and sector</span></span>
<span id="cb155-2"><a href="#cb155-2" aria-hidden="true" tabindex="-1"></a>green_job_education_sector <span class="ot">&lt;-</span> merged_green_jobs_data <span class="sc">%&gt;%</span></span>
<span id="cb155-3"><a href="#cb155-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(SCHL), <span class="sc">!</span><span class="fu">is.na</span>(quality)) <span class="sc">%&gt;%</span></span>
<span id="cb155-4"><a href="#cb155-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(<span class="st">`</span><span class="at">O*NET-SOC Sector</span><span class="st">`</span>, quality, SCHL) <span class="sc">%&gt;%</span></span>
<span id="cb155-5"><a href="#cb155-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">total_jobs =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb155-6"><a href="#cb155-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">percentage_jobs =</span> total_jobs <span class="sc">/</span> <span class="fu">sum</span>(total_jobs) <span class="sc">*</span> <span class="dv">100</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr hidden">
<pre><code>`summarise()` has grouped output by 'O*NET-SOC Sector', 'quality'. You can
override using the `.groups` argument.</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb157"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb157-1"><a href="#cb157-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(green_job_education_sector, <span class="fu">aes</span>(<span class="at">x =</span> quality, <span class="at">y =</span> percentage_jobs, <span class="at">fill =</span> SCHL)) <span class="sc">+</span></span>
<span id="cb157-2"><a href="#cb157-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">position =</span> <span class="st">"dodge"</span>) <span class="sc">+</span></span>
<span id="cb157-3"><a href="#cb157-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Percentage of Green Jobs by Job Quality, Sector, and Education Level"</span>,</span>
<span id="cb157-4"><a href="#cb157-4" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Job Quality"</span>, <span class="at">y =</span> <span class="st">"Percentage of Total Jobs"</span>) <span class="sc">+</span></span>
<span id="cb157-5"><a href="#cb157-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb157-6"><a href="#cb157-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span><span class="st">`</span><span class="at">O*NET-SOC Sector</span><span class="st">`</span>) <span class="sc">+</span></span>
<span id="cb157-7"><a href="#cb157-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><a href="index_files/figure-html/unnamed-chunk-44-2.png" class="lightbox" data-gallery="quarto-lightbox-gallery-5"><img src="index_files/figure-html/unnamed-chunk-44-2.png" class="img-fluid figure-img" width="672"></a></p>
</figure>
</div>
</div>
<a class="quarto-notebook-link" id="nblink-45" href="index-preview.html">Source: Article Notebook</a></div>
</section>
<section id="race" class="level4">
<h4 class="anchored" data-anchor-id="race">Race</h4>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb158"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb158-1"><a href="#cb158-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Bar plot for green jobs by sector and race</span></span>
<span id="cb158-2"><a href="#cb158-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(green_job_summary, <span class="fu">aes</span>(<span class="at">x =</span> <span class="st">`</span><span class="at">O*NET-SOC Sector</span><span class="st">`</span>, <span class="at">y =</span> total_jobs, <span class="at">fill =</span> RAC1P)) <span class="sc">+</span></span>
<span id="cb158-3"><a href="#cb158-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">position =</span> <span class="st">"dodge"</span>) <span class="sc">+</span></span>
<span id="cb158-4"><a href="#cb158-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Green Jobs by Sector and Race"</span>,</span>
<span id="cb158-5"><a href="#cb158-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Green Job Sector"</span>, <span class="at">y =</span> <span class="st">"Total Jobs"</span>) <span class="sc">+</span></span>
<span id="cb158-6"><a href="#cb158-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb158-7"><a href="#cb158-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><a href="index_files/figure-html/unnamed-chunk-45-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-6"><img src="index_files/figure-html/unnamed-chunk-45-1.png" class="img-fluid figure-img" width="672"></a></p>
</figure>
</div>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb159"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb159-1"><a href="#cb159-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Bar plot for green jobs by sector and race (percentage)</span></span>
<span id="cb159-2"><a href="#cb159-2" aria-hidden="true" tabindex="-1"></a>green_job_race_percentage <span class="ot">&lt;-</span> merged_green_jobs_data <span class="sc">%&gt;%</span></span>
<span id="cb159-3"><a href="#cb159-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(<span class="st">`</span><span class="at">O*NET-SOC Sector</span><span class="st">`</span>, RAC1P) <span class="sc">%&gt;%</span></span>
<span id="cb159-4"><a href="#cb159-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">total_jobs =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb159-5"><a href="#cb159-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">percentage_jobs =</span> total_jobs <span class="sc">/</span> <span class="fu">sum</span>(total_jobs) <span class="sc">*</span> <span class="dv">100</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr hidden">
<pre><code>`summarise()` has grouped output by 'O*NET-SOC Sector'. You can override using
the `.groups` argument.</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb161"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb161-1"><a href="#cb161-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(green_job_race_percentage, <span class="fu">aes</span>(<span class="at">x =</span> <span class="st">`</span><span class="at">O*NET-SOC Sector</span><span class="st">`</span>, <span class="at">y =</span> percentage_jobs, <span class="at">fill =</span> RAC1P)) <span class="sc">+</span></span>
<span id="cb161-2"><a href="#cb161-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">position =</span> <span class="st">"dodge"</span>) <span class="sc">+</span></span>
<span id="cb161-3"><a href="#cb161-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Percentage of Green Jobs by Sector and Race"</span>,</span>
<span id="cb161-4"><a href="#cb161-4" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Green Job Sector"</span>, <span class="at">y =</span> <span class="st">"Percentage of Total Jobs"</span>) <span class="sc">+</span></span>
<span id="cb161-5"><a href="#cb161-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb161-6"><a href="#cb161-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><a href="index_files/figure-html/unnamed-chunk-45-2.png" class="lightbox" data-gallery="quarto-lightbox-gallery-7"><img src="index_files/figure-html/unnamed-chunk-45-2.png" class="img-fluid figure-img" width="672"></a></p>
</figure>
</div>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb162"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb162-1"><a href="#cb162-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Bar plot with race, faceted by job quality and sector</span></span>
<span id="cb162-2"><a href="#cb162-2" aria-hidden="true" tabindex="-1"></a>green_job_race_sector <span class="ot">&lt;-</span> merged_green_jobs_data <span class="sc">%&gt;%</span></span>
<span id="cb162-3"><a href="#cb162-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(RAC1P), <span class="sc">!</span><span class="fu">is.na</span>(quality)) <span class="sc">%&gt;%</span></span>
<span id="cb162-4"><a href="#cb162-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(<span class="st">`</span><span class="at">O*NET-SOC Sector</span><span class="st">`</span>, quality, RAC1P) <span class="sc">%&gt;%</span></span>
<span id="cb162-5"><a href="#cb162-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">total_jobs =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb162-6"><a href="#cb162-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">percentage_jobs =</span> total_jobs <span class="sc">/</span> <span class="fu">sum</span>(total_jobs) <span class="sc">*</span> <span class="dv">100</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr hidden">
<pre><code>`summarise()` has grouped output by 'O*NET-SOC Sector', 'quality'. You can
override using the `.groups` argument.</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb164"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb164-1"><a href="#cb164-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(green_job_race_sector, <span class="fu">aes</span>(<span class="at">x =</span> quality, <span class="at">y =</span> percentage_jobs, <span class="at">fill =</span> RAC1P)) <span class="sc">+</span></span>
<span id="cb164-2"><a href="#cb164-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">position =</span> <span class="st">"dodge"</span>) <span class="sc">+</span></span>
<span id="cb164-3"><a href="#cb164-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Percentage of Green Jobs by Job Quality, Sector, and Race"</span>,</span>
<span id="cb164-4"><a href="#cb164-4" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Job Quality"</span>, <span class="at">y =</span> <span class="st">"Percentage of Total Jobs"</span>) <span class="sc">+</span></span>
<span id="cb164-5"><a href="#cb164-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb164-6"><a href="#cb164-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span><span class="st">`</span><span class="at">O*NET-SOC Sector</span><span class="st">`</span>) <span class="sc">+</span></span>
<span id="cb164-7"><a href="#cb164-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><a href="index_files/figure-html/unnamed-chunk-45-3.png" class="lightbox" data-gallery="quarto-lightbox-gallery-8"><img src="index_files/figure-html/unnamed-chunk-45-3.png" class="img-fluid figure-img" width="672"></a></p>
</figure>
</div>
</div>
<a class="quarto-notebook-link" id="nblink-46" href="index-preview.html">Source: Article Notebook</a></div>
</section>
<section id="gender" class="level4">
<h4 class="anchored" data-anchor-id="gender">Gender</h4>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb165"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb165-1"><a href="#cb165-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Bar plot for green jobs by sector and gender (percentage)</span></span>
<span id="cb165-2"><a href="#cb165-2" aria-hidden="true" tabindex="-1"></a>green_job_gender_percentage <span class="ot">&lt;-</span> merged_green_jobs_data <span class="sc">%&gt;%</span></span>
<span id="cb165-3"><a href="#cb165-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(<span class="st">`</span><span class="at">O*NET-SOC Sector</span><span class="st">`</span>, SEX) <span class="sc">%&gt;%</span></span>
<span id="cb165-4"><a href="#cb165-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">total_jobs =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb165-5"><a href="#cb165-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">percentage_jobs =</span> total_jobs <span class="sc">/</span> <span class="fu">sum</span>(total_jobs) <span class="sc">*</span> <span class="dv">100</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr hidden">
<pre><code>`summarise()` has grouped output by 'O*NET-SOC Sector'. You can override using
the `.groups` argument.</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb167"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb167-1"><a href="#cb167-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(green_job_gender_percentage, <span class="fu">aes</span>(<span class="at">x =</span> <span class="st">`</span><span class="at">O*NET-SOC Sector</span><span class="st">`</span>, <span class="at">y =</span> percentage_jobs, <span class="at">fill =</span> SEX)) <span class="sc">+</span></span>
<span id="cb167-2"><a href="#cb167-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">position =</span> <span class="st">"dodge"</span>) <span class="sc">+</span></span>
<span id="cb167-3"><a href="#cb167-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Percentage of Green Jobs by Sector and Gender"</span>,</span>
<span id="cb167-4"><a href="#cb167-4" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Green Job Sector"</span>, <span class="at">y =</span> <span class="st">"Percentage of Total Jobs"</span>) <span class="sc">+</span></span>
<span id="cb167-5"><a href="#cb167-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb167-6"><a href="#cb167-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><a href="index_files/figure-html/unnamed-chunk-46-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-9"><img src="index_files/figure-html/unnamed-chunk-46-1.png" class="img-fluid figure-img" width="672"></a></p>
</figure>
</div>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb168"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb168-1"><a href="#cb168-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Bar plot with job quality on the x-axis and percentage by gender</span></span>
<span id="cb168-2"><a href="#cb168-2" aria-hidden="true" tabindex="-1"></a>green_job_quality_gender <span class="ot">&lt;-</span> merged_green_jobs_data <span class="sc">%&gt;%</span></span>
<span id="cb168-3"><a href="#cb168-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(quality, SEX) <span class="sc">%&gt;%</span></span>
<span id="cb168-4"><a href="#cb168-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">total_jobs =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb168-5"><a href="#cb168-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">percentage_jobs =</span> total_jobs <span class="sc">/</span> <span class="fu">sum</span>(total_jobs) <span class="sc">*</span> <span class="dv">100</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr hidden">
<pre><code>`summarise()` has grouped output by 'quality'. You can override using the
`.groups` argument.</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb170"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb170-1"><a href="#cb170-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(green_job_quality_gender, <span class="fu">aes</span>(<span class="at">x =</span> quality, <span class="at">y =</span> percentage_jobs, <span class="at">fill =</span> SEX)) <span class="sc">+</span></span>
<span id="cb170-2"><a href="#cb170-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">position =</span> <span class="st">"dodge"</span>) <span class="sc">+</span></span>
<span id="cb170-3"><a href="#cb170-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Percentage of Green Jobs by Job Quality and Gender"</span>,</span>
<span id="cb170-4"><a href="#cb170-4" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Job Quality"</span>, <span class="at">y =</span> <span class="st">"Percentage of Total Jobs"</span>) <span class="sc">+</span></span>
<span id="cb170-5"><a href="#cb170-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb170-6"><a href="#cb170-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><a href="index_files/figure-html/unnamed-chunk-46-2.png" class="lightbox" data-gallery="quarto-lightbox-gallery-10"><img src="index_files/figure-html/unnamed-chunk-46-2.png" class="img-fluid figure-img" width="672"></a></p>
</figure>
</div>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb171"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb171-1"><a href="#cb171-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Bar plot with job quality on the x-axis, percentage by gender, and facets by sector</span></span>
<span id="cb171-2"><a href="#cb171-2" aria-hidden="true" tabindex="-1"></a>green_job_quality_gender_sector <span class="ot">&lt;-</span> merged_green_jobs_data <span class="sc">%&gt;%</span></span>
<span id="cb171-3"><a href="#cb171-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(SEX), <span class="sc">!</span><span class="fu">is.na</span>(quality)) <span class="sc">%&gt;%</span></span>
<span id="cb171-4"><a href="#cb171-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(<span class="st">`</span><span class="at">O*NET-SOC Sector</span><span class="st">`</span>, quality, SEX) <span class="sc">%&gt;%</span></span>
<span id="cb171-5"><a href="#cb171-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">total_jobs =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb171-6"><a href="#cb171-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">percentage_jobs =</span> total_jobs <span class="sc">/</span> <span class="fu">sum</span>(total_jobs) <span class="sc">*</span> <span class="dv">100</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr hidden">
<pre><code>`summarise()` has grouped output by 'O*NET-SOC Sector', 'quality'. You can
override using the `.groups` argument.</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb173"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb173-1"><a href="#cb173-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(green_job_quality_gender_sector, <span class="fu">aes</span>(<span class="at">x =</span> quality, <span class="at">y =</span> percentage_jobs, <span class="at">fill =</span> SEX)) <span class="sc">+</span></span>
<span id="cb173-2"><a href="#cb173-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">position =</span> <span class="st">"dodge"</span>) <span class="sc">+</span></span>
<span id="cb173-3"><a href="#cb173-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Percentage of Green Jobs by Job Quality, Sector, and Gender"</span>,</span>
<span id="cb173-4"><a href="#cb173-4" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Job Quality"</span>, <span class="at">y =</span> <span class="st">"Percentage of Total Jobs"</span>) <span class="sc">+</span></span>
<span id="cb173-5"><a href="#cb173-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb173-6"><a href="#cb173-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span><span class="st">`</span><span class="at">O*NET-SOC Sector</span><span class="st">`</span>) <span class="sc">+</span></span>
<span id="cb173-7"><a href="#cb173-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><a href="index_files/figure-html/unnamed-chunk-46-3.png" class="lightbox" data-gallery="quarto-lightbox-gallery-11"><img src="index_files/figure-html/unnamed-chunk-46-3.png" class="img-fluid figure-img" width="672"></a></p>
</figure>
</div>
</div>
<a class="quarto-notebook-link" id="nblink-47" href="index-preview.html">Source: Article Notebook</a></div>
</section>
<section id="income" class="level4">
<h4 class="anchored" data-anchor-id="income">Income</h4>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb174"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb174-1"><a href="#cb174-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Box plot for income distribution by sector and education level</span></span>
<span id="cb174-2"><a href="#cb174-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(merged_green_jobs_data, <span class="fu">aes</span>(<span class="at">x =</span> <span class="st">`</span><span class="at">O*NET-SOC Sector</span><span class="st">`</span>, <span class="at">y =</span> PINCP, <span class="at">fill =</span> RAC1P)) <span class="sc">+</span></span>
<span id="cb174-3"><a href="#cb174-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb174-4"><a href="#cb174-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Income Distribution by Sector and Education Level"</span>,</span>
<span id="cb174-5"><a href="#cb174-5" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Green Job Sector"</span>, <span class="at">y =</span> <span class="st">"Personal Income"</span>) <span class="sc">+</span></span>
<span id="cb174-6"><a href="#cb174-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb174-7"><a href="#cb174-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr hidden">
<pre><code>Warning: Removed 156 rows containing non-finite outside the scale range
(`stat_boxplot()`).</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><a href="index_files/figure-html/unnamed-chunk-47-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-12"><img src="index_files/figure-html/unnamed-chunk-47-1.png" class="img-fluid figure-img" width="672"></a></p>
</figure>
</div>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb176"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb176-1"><a href="#cb176-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Box plot with income distribution, faceted by job quality and sector</span></span>
<span id="cb176-2"><a href="#cb176-2" aria-hidden="true" tabindex="-1"></a>cleaned_data <span class="ot">&lt;-</span> merged_green_jobs_data <span class="sc">%&gt;%</span></span>
<span id="cb176-3"><a href="#cb176-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(PINCP), <span class="sc">!</span><span class="fu">is.na</span>(RAC1P), <span class="sc">!</span><span class="fu">is.na</span>(quality))</span>
<span id="cb176-4"><a href="#cb176-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb176-5"><a href="#cb176-5" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(cleaned_data, <span class="fu">aes</span>(<span class="at">x =</span> quality, <span class="at">y =</span> PINCP, <span class="at">fill =</span> RAC1P)) <span class="sc">+</span></span>
<span id="cb176-6"><a href="#cb176-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb176-7"><a href="#cb176-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Income Distribution by Job Quality, Sector, and Race"</span>,</span>
<span id="cb176-8"><a href="#cb176-8" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Job Quality"</span>, <span class="at">y =</span> <span class="st">"Personal Income"</span>) <span class="sc">+</span></span>
<span id="cb176-9"><a href="#cb176-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb176-10"><a href="#cb176-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span><span class="st">`</span><span class="at">O*NET-SOC Sector</span><span class="st">`</span>) <span class="sc">+</span></span>
<span id="cb176-11"><a href="#cb176-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">45</span>, <span class="at">hjust =</span> <span class="dv">1</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><a href="index_files/figure-html/unnamed-chunk-47-2.png" class="lightbox" data-gallery="quarto-lightbox-gallery-13"><img src="index_files/figure-html/unnamed-chunk-47-2.png" class="img-fluid figure-img" width="672"></a></p>
</figure>
</div>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb177"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb177-1"><a href="#cb177-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create green_job_income_sector data frame with income summary stats</span></span>
<span id="cb177-2"><a href="#cb177-2" aria-hidden="true" tabindex="-1"></a>green_job_income_sector <span class="ot">&lt;-</span> merged_green_jobs_data <span class="sc">%&gt;%</span></span>
<span id="cb177-3"><a href="#cb177-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(PINCP), <span class="sc">!</span><span class="fu">is.na</span>(quality), <span class="sc">!</span><span class="fu">is.na</span>(<span class="st">`</span><span class="at">O*NET-SOC Sector</span><span class="st">`</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb177-4"><a href="#cb177-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(<span class="st">`</span><span class="at">O*NET-SOC Sector</span><span class="st">`</span>, quality) <span class="sc">%&gt;%</span></span>
<span id="cb177-5"><a href="#cb177-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb177-6"><a href="#cb177-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean_income =</span> <span class="fu">mean</span>(PINCP, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb177-7"><a href="#cb177-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">median_income =</span> <span class="fu">median</span>(PINCP, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb177-8"><a href="#cb177-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">total_jobs =</span> <span class="fu">n</span>()</span>
<span id="cb177-9"><a href="#cb177-9" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr hidden">
<pre><code>`summarise()` has grouped output by 'O*NET-SOC Sector'. You can override using
the `.groups` argument.</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb179"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb179-1"><a href="#cb179-1" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(green_job_income_sector, <span class="st">"green_job_income_sector.csv"</span>, <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span>
<span id="cb179-2"><a href="#cb179-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb179-3"><a href="#cb179-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Summarize income distribution by job quality, sector, and race</span></span>
<span id="cb179-4"><a href="#cb179-4" aria-hidden="true" tabindex="-1"></a>green_job_income_race_sector <span class="ot">&lt;-</span> merged_green_jobs_data <span class="sc">%&gt;%</span></span>
<span id="cb179-5"><a href="#cb179-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(PINCP), <span class="sc">!</span><span class="fu">is.na</span>(quality), <span class="sc">!</span><span class="fu">is.na</span>(RAC1P), <span class="sc">!</span><span class="fu">is.na</span>(<span class="st">`</span><span class="at">O*NET-SOC Sector</span><span class="st">`</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb179-6"><a href="#cb179-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(<span class="st">`</span><span class="at">O*NET-SOC Sector</span><span class="st">`</span>, quality, RAC1P) <span class="sc">%&gt;%</span></span>
<span id="cb179-7"><a href="#cb179-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb179-8"><a href="#cb179-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">mean_income =</span> <span class="fu">mean</span>(PINCP, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb179-9"><a href="#cb179-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">median_income =</span> <span class="fu">median</span>(PINCP, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb179-10"><a href="#cb179-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">total_jobs =</span> <span class="fu">n</span>()</span>
<span id="cb179-11"><a href="#cb179-11" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb179-12"><a href="#cb179-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr hidden">
<pre><code>`summarise()` has grouped output by 'O*NET-SOC Sector', 'quality'. You can
override using the `.groups` argument.</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb181"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb181-1"><a href="#cb181-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(green_job_income_race_sector)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 24 × 6
   `O*NET-SOC Sector` quality      RAC1P    mean_income median_income total_jobs
   &lt;fct&gt;              &lt;fct&gt;        &lt;fct&gt;          &lt;dbl&gt;         &lt;dbl&gt;      &lt;int&gt;
 1 Energy Efficiency  High Quality Asian a…      80000          80000         12
 2 Energy Efficiency  High Quality Black o…      38000          38000          1
 3 Energy Efficiency  High Quality Two or …     102000         102000         12
 4 Energy Efficiency  High Quality White a…      51217.         43750         30
 5 Green Construction Low Quality  America…      30000          30000          1
 6 Green Construction Low Quality  Asian a…      23000           8000          3
 7 Green Construction Low Quality  Black o…      10108.          9500          6
 8 Green Construction Low Quality  Some Ot…      52000          55000          3
 9 Green Construction Low Quality  Two or …       4000           4000          2
10 Green Construction Low Quality  White a…      19093.         20000          7
# ℹ 14 more rows</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb183"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb183-1"><a href="#cb183-1" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(green_job_income_race_sector, <span class="st">"green_job_income_race_sector.csv"</span>, <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<a class="quarto-notebook-link" id="nblink-48" href="index-preview.html">Source: Article Notebook</a></div>
</section>
</section>
<section id="export-summary-statistics-for-visualization" class="level3">
<h3 class="anchored" data-anchor-id="export-summary-statistics-for-visualization">Export summary statistics for visualization</h3>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb184"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb184-1"><a href="#cb184-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the directory if it doesn't exist</span></span>
<span id="cb184-2"><a href="#cb184-2" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">dir.exists</span>(<span class="st">"equity_data"</span>)) {</span>
<span id="cb184-3"><a href="#cb184-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">dir.create</span>(<span class="st">"equity_data"</span>)</span>
<span id="cb184-4"><a href="#cb184-4" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb184-5"><a href="#cb184-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb184-6"><a href="#cb184-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Save the CSV files to the equity_data folder</span></span>
<span id="cb184-7"><a href="#cb184-7" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(green_job_education_sector, <span class="st">"equity_data/green_job_education_sector.csv"</span>, <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span>
<span id="cb184-8"><a href="#cb184-8" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(green_job_quality_gender_sector, <span class="st">"equity_data/green_job_quality_gender_sector.csv"</span>, <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span>
<span id="cb184-9"><a href="#cb184-9" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(green_job_race_sector, <span class="st">"equity_data/green_job_race_sector.csv"</span>, <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span>
<span id="cb184-10"><a href="#cb184-10" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(green_job_income_sector, <span class="st">"equity_data/green_job_income_sector.csv"</span>, <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span>
<span id="cb184-11"><a href="#cb184-11" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(green_job_income_race_sector, <span class="st">"equity_data/green_job_income_race_sector.csv"</span>, <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<a class="quarto-notebook-link" id="nblink-49" href="index-preview.html">Source: Article Notebook</a></div>
</section>
</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" id="quarto-reuse"><h2 class="anchored quarto-appendix-heading">Reuse</h2><div class="quarto-appendix-contents"><div><a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0</a></div></div></section><section class="quarto-appendix-contents" id="quarto-citation"><h2 class="anchored quarto-appendix-heading">Citation</h2><div><div class="quarto-appendix-secondary-label">BibTeX citation:</div><pre class="sourceCode code-with-copy quarto-appendix-bibtex"><code class="sourceCode bibtex">@online{ali2024,
  author = {Ali, Elham},
  title = {Climate Resilience Requires Equitable Access to Quality Green
    Energy Jobs. {The} {City} of {Saint} {Paul} Is at the Forefront.},
  date = {2024-09-19},
  langid = {en},
  abstract = {Minnesota, particularly the City of Saint Paul, has seen a
    surge in climate resilience funding aimed at expanding green energy
    job opportunities. However, BIPOC communities remain
    underrepresented in these jobs and disproportionately suffer from
    the adverse effects of human-driven climate change.}
}
</code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre><div class="quarto-appendix-secondary-label">For attribution, please cite this work as:</div><div id="ref-ali2024" class="csl-entry quarto-appendix-citeas" role="listitem">
Ali, Elham. 2024. <span>“Climate Resilience Requires Equitable Access to
Quality Green Energy Jobs. The City of Saint Paul Is at the
Forefront.”</span> Beeck Center for Social Impact and Innovation.
September 19, 2024.
</div></div></section></div></main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<script>var lightboxQuarto = GLightbox({"loop":false,"selector":".lightbox","openEffect":"zoom","closeEffect":"zoom","descPosition":"bottom"});
window.onload = () => {
  lightboxQuarto.on('slide_before_load', (data) => {
    const { slideIndex, slideNode, slideConfig, player, trigger } = data;
    const href = trigger.getAttribute('href');
    if (href !== null) {
      const imgEl = window.document.querySelector(`a[href="${href}"] img`);
      if (imgEl !== null) {
        const srcAttr = imgEl.getAttribute("src");
        if (srcAttr && srcAttr.startsWith("data:")) {
          slideConfig.href = srcAttr;
        }
      }
    } 
  });

  lightboxQuarto.on('slide_after_load', (data) => {
    const { slideIndex, slideNode, slideConfig, player, trigger } = data;
    if (window.Quarto?.typesetMath) {
      window.Quarto.typesetMath(slideNode);
    }
  });

};
          </script>




</body></html>